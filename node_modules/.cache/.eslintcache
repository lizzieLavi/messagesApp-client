[{"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\index.js":"1","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\App.js":"2","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\login.js":"3","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\dashboard.js":"4","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\sidebar.js":"5","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\chat.js":"6","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\conversations.js":"7","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\contacts.js":"8","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\addnewcontact.js":"9","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\contexts\\conversationsprovider.js":"10","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\contexts\\SocketProvider.js":"11","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\contexts\\socketprovider.js":"12","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\createnewgroup.js":"13","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\register.js":"14","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\contexts\\userprovider.js":"15","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\chatbody.js":"16","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\sendimagebody.js":"17","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\message.js":"18","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\audiomessage.js":"19","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\addgroupmember.js":"20"},{"size":210,"mtime":1631630702444,"results":"21","hashOfConfig":"22"},{"size":1136,"mtime":1631257797719,"results":"23","hashOfConfig":"22"},{"size":3158,"mtime":1631626390689,"results":"24","hashOfConfig":"22"},{"size":606,"mtime":1629210600989,"results":"25","hashOfConfig":"22"},{"size":3936,"mtime":1631780437349,"results":"26","hashOfConfig":"22"},{"size":16410,"mtime":1632586074114,"results":"27","hashOfConfig":"22"},{"size":1438,"mtime":1632565481810,"results":"28","hashOfConfig":"22"},{"size":1335,"mtime":1631707221436,"results":"29","hashOfConfig":"22"},{"size":1697,"mtime":1631702578326,"results":"30","hashOfConfig":"22"},{"size":13599,"mtime":1632587362247,"results":"31","hashOfConfig":"22"},{"size":618,"mtime":1628171499502,"results":"32","hashOfConfig":"22"},{"size":897,"mtime":1631618369214,"results":"33","hashOfConfig":"22"},{"size":6196,"mtime":1631778164899,"results":"34","hashOfConfig":"22"},{"size":3230,"mtime":1631629606993,"results":"35","hashOfConfig":"22"},{"size":2502,"mtime":1631806121694,"results":"36","hashOfConfig":"22"},{"size":7511,"mtime":1632586201482,"results":"37","hashOfConfig":"22"},{"size":1920,"mtime":1632482567297,"results":"38","hashOfConfig":"22"},{"size":1296,"mtime":1632481992530,"results":"39","hashOfConfig":"22"},{"size":887,"mtime":1632477444800,"results":"40","hashOfConfig":"22"},{"size":4217,"mtime":1632553724655,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1rq4wqq",{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"44"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"44"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"44"},"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\index.js",[],["90","91"],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\App.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\login.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\dashboard.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\sidebar.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\chat.js",["92","93","94"],"import '../css/chat.css'\r\nimport '../css/sidebar.css'\r\nimport React from 'react'\r\nimport { useState,useEffect} from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { useUser } from '../contexts/userprovider';\r\nimport { Avatar ,IconButton,makeStyles,Modal} from '@material-ui/core'\r\nimport ChatBody from './chatbody';\r\nimport SendImageBody from './sendimagebody';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport Picker from 'emoji-picker-react';\r\nimport PersonAdd from '@material-ui/icons/PersonAdd';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AddGroupMember from './addgroupmember';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\"\r\n\r\n    }},\r\n    \r\n    options:\r\n    {\r\n      \"&\":{\r\n      color:\"transparent\"\r\n      },\r\n      \"&:hover\": {\r\n        color: \"gray\",\r\n        backgroundColor:\"transparent\",\r\n        fontSize:'15px',\r\n        position:'relative',\r\n        zIndex:'2'\r\n      }\r\n    }\r\n  });\r\n\r\n\r\nexport default function Chat() {\r\n\r\n    const {selectedConversation,currentConversationIsConnected,typingFlag,createConversation,conversations,setSelectedConversation,\r\n     setTypingFlag,showDetails,setShowDetails,UpdateConversation} = useConversations()\r\n    const [imageFlag,setImageFlag] =useState(false)\r\n    const [imageURL,setImageURL] =useState(false)\r\n    const [EditGroupNameGlag,setEditGroupNameGlag]=useState(false)\r\n    const [EditGroupDescriptionGlag,setEditGroupDescriptionGlag]=useState(false)\r\n    const [emojiFlag,setEmojiFlag]=useState(false)\r\n    const [Text,setText] = useState(selectedConversation.Name)\r\n    const [Description,setDescription] = useState(selectedConversation.description)\r\n    const {info} = useUser()\r\n    const classes = useStyles();\r\n    const [modalOpen, setModalOpen] = useState(false)\r\n    const [dialogOpen, setDialogOpen] = useState(false)\r\n    const [deleteUserDialog,setDeleteUserDialog]= useState(false)\r\n    const [userToDelete,setUserToDelete] = useState()\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n      setEditGroupNameGlag(false)\r\n      setEditGroupDescriptionGlag(false)\r\n      setEmojiFlag(false)\r\n\r\n    },[selectedConversation])\r\n\r\n\r\n    const onEmojiClick = (event, emojiObject) => {\r\n      setText(Text + emojiObject.emoji)\r\n    };\r\n\r\n    const onDescriptionEmojiClick = (event, emojiObject) => {\r\n      setDescription(Description + emojiObject.emoji)\r\n    };\r\n\r\n    \r\n\r\n    const groupheader = () =>\r\n    {\r\n      let returnValue = ''\r\n      if(typingFlag !== '')\r\n      {\r\n        returnValue = <div className='lastSeen'> {typingFlag} is typing...</div>\r\n        setTimeout(()=> setTypingFlag(''),1000)\r\n      }\r\n\r\n      else\r\n      {\r\n        let UsersInGroup = ''\r\n        selectedConversation.Participants.forEach((participant,index)=> \r\n        {\r\n            if(index ===  selectedConversation.Participants.length-1 )\r\n                UsersInGroup = UsersInGroup + participant.name\r\n            else\r\n                UsersInGroup= UsersInGroup + participant.name + ', '\r\n        })\r\n            \r\n        returnValue=  <div className='lastSeen'>{UsersInGroup} </div>\r\n\r\n      }\r\n\r\n      return returnValue\r\n    }\r\n\r\n    function chatBodyCallback(image)\r\n    {\r\n      setImageURL(image)\r\n      setImageFlag(true)\r\n    }\r\n\r\n    function backToChatCallback()\r\n    {\r\n      setImageURL(null)\r\n      setImageFlag(false)\r\n    }\r\n\r\n    const privateConversationHeader = () =>\r\n    {\r\n       let returnValue = ''\r\n       if(currentConversationIsConnected === '')\r\n       {\r\n        if(typingFlag !== '')\r\n        {\r\n            returnValue = <div className='lastSeen'> typing...</div>\r\n            setTimeout(()=> setTypingFlag(''),1000)\r\n\r\n        }\r\n\r\n        else returnValue = <div className='connected'><div className='circle'></div> online </div>\r\n            \r\n       }\r\n       else returnValue = <div className='lastSeen'>{currentConversationIsConnected}</div>\r\n\r\n\r\n      return returnValue\r\n\r\n    }\r\n\r\n    function changeGroupName()\r\n    {\r\n      let message={name:\"manager\",message: sessionStorage['name'] +\" changed group name to \" + Text,timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n      let messages=selectedConversation.Messages\r\n      messages.push(message)\r\n      let updatedConversation={...selectedConversation,Name:Text,Messages:messages,LastMasage:message}\r\n      UpdateConversation(updatedConversation)\r\n      setEditGroupNameGlag(false)\r\n\r\n    }\r\n\r\n    function openConversation(participant)\r\n    {\r\n        let existsFlag=false\r\n        conversations.forEach(conversation=>\r\n        {\r\n            if(conversation.isGroup==false && conversation.Participants[0].id==participant.id)\r\n            {\r\n              existsFlag=true\r\n               setSelectedConversation(conversation)\r\n            }\r\n            \r\n        })\r\n        if(!existsFlag)\r\n        {\r\n          let participantId=[]\r\n          participantId.push(participant.id)\r\n          createConversation(participantId, participant.name, participant.imageName,false)\r\n        }\r\n      \r\n    }\r\n\r\n    function changeGroupDescription()\r\n    {\r\n      let message={name:\"manager\",message: sessionStorage['name'] +\" changed group Description\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n      let messages=selectedConversation.Messages\r\n      messages.push(message)\r\n      let updatedConversation={...selectedConversation,description:Description,Messages:messages,LastMessage:message}\r\n      UpdateConversation(updatedConversation)\r\n      setEditGroupDescriptionGlag(false)\r\n\r\n    }\r\n\r\n  function removeFromGroup()\r\n  {\r\n    let message={name:\"manager\",message: sessionStorage['name'] +\" left the group\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n    let messages=selectedConversation.Messages\r\n    messages.push(message)\r\n    let updatedConversation={...selectedConversation,Messages:messages,LastMessage:message}\r\n    UpdateConversation(updatedConversation)\r\n    setDialogOpen(false)\r\n  }\r\n\r\n  function beforeDeleteUser(participant)\r\n  {\r\n    setUserToDelete(participant)\r\n    setDeleteUserDialog(true)\r\n  }\r\n\r\n  function removeUserFromGroup()\r\n  {\r\n    let messages=selectedConversation.Messages\r\n    let message={name:\"manager\",message: sessionStorage['name'] +\" removed \" + userToDelete.name + \" from the group \",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n    messages.push(message)\r\n    let participants= selectedConversation.Participants.filter(participant=> participant.id != userToDelete.id)\r\n    let updatedConversation={...selectedConversation,Participants:participants,Messages:messages,LastMessage:message}\r\n    UpdateConversation(updatedConversation)\r\n    setUserToDelete()\r\n    setDeleteUserDialog(false)\r\n\r\n  }\r\n\r\n\r\n  function closeModal() {\r\n     setModalOpen(false)\r\n  }\r\n\r\n\r\n\r\n    const chatSide=\r\n    <div>\r\n       <div className='chat_header' onClick={()=>setShowDetails(true)}>\r\n         <Avatar src={selectedConversation.ConversationImage}/>\r\n         <div className='chat_header_info'>\r\n            <h2> {selectedConversation.Name} </h2> \r\n            {selectedConversation.isGroup?  groupheader() : privateConversationHeader()}\r\n\r\n         </div>\r\n       </div>\r\n\r\n       {imageFlag?   <SendImageBody imageURL={imageURL} backToChat={backToChatCallback}/>:<ChatBody imageCallback={chatBodyCallback}/>} \r\n   </div>\r\n\r\n    return (\r\n       \r\n          showDetails?\r\n           <div className='chat_with_details'>\r\n            <div className='chat narrow_chat'>\r\n            {chatSide}\r\n            </div>\r\n\r\n            <div className='chat_details'>\r\n            <div className='chat_details_top'>\r\n              <IconButton onClick={()=>setShowDetails(false)}>\r\n                 <CloseIcon fontSize='large'  />\r\n              </IconButton>\r\n              <h2 style={{paddingLeft:'10px'}}>{selectedConversation.isGroup? 'Group Details:' : 'Contact Details:' }</h2>\r\n            </div>\r\n\r\n\r\n            <span className='chat_details_body'>\r\n\r\n            <div className='user_info'>\r\n              <Avatar src={selectedConversation.ConversationImage} style={{margin:'20px',height:'140px',width:'140px'}}/>\r\n           \r\n              <span className='name_and_lastSeen'>\r\n                {selectedConversation.isGroup && EditGroupNameGlag?\r\n                   <div style={{display:'flex',flexDirection:'column'}}>\r\n                      {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' ,height:'200px'}}/> : ''}\r\n                     <div className='edit_group_name'>\r\n                \r\n                     <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>changeGroupName()}><CheckIcon fontSize='large'/></IconButton>\r\n                     <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>setEmojiFlag(!emojiFlag)}><InsertEmoticonIcon fontSize='large'/></IconButton>\r\n                    \r\n                     <input defaultValue={Text} onChange={(e)=>setText(e.target.value)} style={{border:'none',outline:'none',width:'100%',backgroundColor:'transparent',padding:'5px'}}></input>\r\n                  </div>\r\n                  </div>:\r\n                <span className='group_title'>\r\n                   <h3>{selectedConversation.Name}</h3>\r\n                   {!selectedConversation.isGroup? '':<IconButton onClick={()=>setEditGroupNameGlag(true)}><EditIcon style={{fontSize:'large',marginLeft:'10px'}}/></IconButton>}\r\n                </span>\r\n           }\r\n                \r\n                 <span className='lastSeen' style={{padding:'10px',paddingLeft:'0px'}}> {!selectedConversation.isGroup? privateConversationHeader() :<span> created at:  {selectedConversation.createdDate} </span>}</span>\r\n              </span>\r\n             \r\n            </div>\r\n\r\n            \r\n\r\n            {selectedConversation.isGroup ?\r\n             <div>\r\n            <div className='group_details_container'>\r\n               <h2 className='group_title' style={{padding:'5px'}}> Description </h2>\r\n              {EditGroupDescriptionGlag?\r\n                \r\n                 <div style={{display:'flex',flexDirection:'column'}}>\r\n                 {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onDescriptionEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' ,height:'200px'}}/> : ''}\r\n                <div className='edit_group_name' style={{padding:'5px'}}>\r\n            \r\n                <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>changeGroupDescription()}><CheckIcon fontSize='large'/></IconButton>\r\n                <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>setEmojiFlag(!emojiFlag)}><InsertEmoticonIcon fontSize='large'/></IconButton>\r\n               \r\n                <input defaultValue={Description} onChange={(e)=>setDescription(e.target.value)} style={{border:'none',outline:'none',width:'100%',backgroundColor:'transparent',padding:'5px'}}></input>\r\n                </div>\r\n                </div>:\r\n              <div className='group_description_edit'>\r\n                \r\n                <span style={{fontSize:'15px',marginRight:'5px'}}>{selectedConversation.description}</span><IconButton onClick={()=>setEditGroupDescriptionGlag(true)}><EditIcon style={{fontSize:'large'}}/></IconButton>\r\n                </div>}\r\n             \r\n            </div>\r\n            \r\n            <div className='group_details_container'>\r\n            <h2 className='group_title' style={{ padding:'10px' ,borderBottom:'1px solid #B0B0B0'}}>{selectedConversation.Participants.length +1} participants</h2>\r\n            <Modal className='Modal' open={modalOpen} onClose={closeModal} >\r\n               <AddGroupMember closeModal={closeModal}  /> \r\n            </Modal>\r\n\r\n            {selectedConversation.creatorId===sessionStorage['id']?\r\n            <div className='participant' style={{cursor:'pointer',fontSize:'15px'}} onClick={()=>setModalOpen(true)} >\r\n\r\n              <Avatar>\r\n              <IconButton className={classes.root} style={{padding:'3px'}}><PersonAdd fontSize='large'/></IconButton>\r\n              </Avatar>\r\n              <h3 className='group_participant_name'>Add Member</h3>\r\n            </div>:''}\r\n            {selectedConversation.Participants.map((participant,index)=>\r\n            {\r\n              return(\r\n                 <div  key={index} className='participant' >\r\n                   \r\n                   <div onClick={()=>openConversation(participant)} style={{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center',cursor:'pointer'}}>\r\n                   <Avatar src={participant.imageName}/>\r\n                   <div  style={{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'}}>\r\n                   <h3 className='group_participant_name'>{participant.name}</h3>\r\n                   \r\n                   {participant.id===selectedConversation.creatorId?\r\n                    <div className='group_admin'>\r\n                      <h3 style={{fontSize:'13px'}}>Group Manager</h3>\r\n                   </div>:''}\r\n                   </div >\r\n                   </div>\r\n                   {sessionStorage['id'] === selectedConversation.creatorId?\r\n                      <IconButton  onClick={()=>beforeDeleteUser(participant)} style={{padding:'3px'}}>\r\n                        <CloseIcon fontSize='medium'/>\r\n                      </IconButton> :''}\r\n                 </div>)\r\n            })}\r\n\r\n                 <div  className='participant'>\r\n                   <div style={{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'}}>\r\n                 \r\n                   <Avatar src={info.imageName}/>\r\n                   <div style={{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'}}>\r\n                   <h3 className='group_participant_name'>{info.name}</h3>\r\n                   \r\n                   {sessionStorage['id']===selectedConversation.creatorId?\r\n                    <div className='group_admin'>\r\n                      <h3 style={{fontSize:'13px'}}>Group Manager</h3>\r\n                   </div>:''}\r\n                   </div >\r\n                   </div>\r\n                 </div>\r\n                </div>\r\n\r\n                <div className='group_details_container leave' onClick={()=>setDialogOpen(true)} >\r\n                  <div className='leaveGroup'>\r\n                     <IconButton className={classes.root} style={{padding:'3px'}} >\r\n                       <ExitToAppIcon style={{color:'darkred'}}fontSize='large'/>\r\n                     </IconButton>\r\n                     <h3 className='group_participant_name' style={{color:'darkRed',fontSize:'17px'}}>leave Group</h3>\r\n                  </div>\r\n                </div>\r\n           \r\n            </div>:''}\r\n           \r\n            </span>\r\n            </div>\r\n             <Dialog className='exit_group_dialog' onClose={()=> setDialogOpen(false)}  open={dialogOpen}>\r\n               <div style={{padding:'10px'}}>\r\n                 <h2 className='dialog_title'> are you sure you want to leave this group?</h2>\r\n                 <div className='dialog_options_buttons'>\r\n                   <button className='dialog_button' onClick={()=>removeFromGroup()} >yes</button>\r\n                   <button className='dialog_button' onClick={()=>setDialogOpen(false)}>no</button>\r\n                 </div>\r\n                </div>\r\n            </Dialog>\r\n\r\n\r\n            <Dialog className='exit_group_dialog' onClose={()=> setDeleteUserDialog(false)}  open={deleteUserDialog}>\r\n               <div style={{padding:'10px'}}>\r\n                 <h2 className='dialog_title'> are you sure you want to delete this user?</h2>\r\n                 <div className='dialog_options_buttons'>\r\n                   <button className='dialog_button' onClick={()=>removeUserFromGroup()} >yes</button>\r\n                   <button className='dialog_button' onClick={()=>setDeleteUserDialog(false)}>no</button>\r\n                 </div>\r\n                </div>\r\n            </Dialog>\r\n            </div>:\r\n          <div className='chat'>\r\n              {chatSide}\r\n          </div>\r\n\r\n          \r\n    )\r\n}\r\n","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\conversations.js",["95","96","97","98"],"import { Avatar} from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { useEffect } from 'react';\r\nimport { useUser } from '../contexts/userprovider';\r\nimport '../css/conversations.css'\r\n\r\nexport default function Conversations() {\r\n    const {setSelectedConversation,selectedConversation,conversations,setShowDetails} =useConversations()\r\n    const {info} =useUser()\r\n\r\n  \r\nasync function handleSelectedConversation(conversation) \r\n{\r\n    setShowDetails(false)\r\n    setSelectedConversation(conversation)\r\n}\r\n  return (\r\n          <div className='Chats' >\r\n              <div className='contacts_list'>\r\n              {conversations.map((conversation,index)=>\r\n              {\r\n                 return  (   \r\n                 <div key={index}  onClick={()=>handleSelectedConversation(conversation)}  className='ChatsListItem'>\r\n                     <Avatar src={process.env.PUBLIC_URL + conversation.ConversationImage}/>\r\n                     <div className='chatInfo'>\r\n                     <span   className='chatName' ><h2>{conversation.Name}</h2> </span>\r\n                     <span> {(conversation.LastMessage.message).slice(0,25)}... </span>\r\n                     </div>\r\n            \r\n                  </div>)\r\n                    \r\n                })}\r\n                </div>\r\n\r\n                </div>\r\n          \r\n\r\n  )\r\n}","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\contacts.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\addnewcontact.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\contexts\\conversationsprovider.js",["99","100","101","102","103","104","105","106"],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\contexts\\SocketProvider.js",[],["107","108"],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\contexts\\socketprovider.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\createnewgroup.js",["109"],"import React, { useState } from 'react'\r\nimport { useUser } from '../contexts/userprovider'\r\nimport { useConversations } from '../contexts/conversationsprovider'\r\nimport {Button,Avatar,IconButton} from '@material-ui/core';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nfunction CreateNewGroup( { closeModal }) {\r\n\r\n    const [selectedContactsId, setSelectedContactsId] = useState([])\r\n    const { contacts } = useUser()\r\n    const { createConversation} = useConversations()\r\n    const [groupName,setGroupName] =useState('')\r\n    const [groupImage,setGroupImage] =useState()\r\n    const [previewImage,setPreviewImage]=useState()\r\n    const [goToParticipants,setGoToParticipants] = useState(false)\r\n\r\n    function createGroup()\r\n    {\r\n        createConversation(selectedContactsId,groupName,groupImage,true)\r\n        closeModal()\r\n    }\r\n\r\n    function handleCheckboxChange(contactId) \r\n    {\r\n        if(selectedContactsId.includes(contactId))\r\n        {\r\n            setSelectedContactsId(prevSelectedContactsId =>\r\n            {\r\n                return (prevSelectedContactsId.filter(id=> id!==contactId))\r\n            } )\r\n        }\r\n  \r\n        else\r\n        {\r\n           setSelectedContactsId(prevSelectedContactsId=>\r\n            {\r\n              return [...prevSelectedContactsId,contactId]\r\n            })\r\n        }   \r\n    }\r\n\r\n    function handleFileUpload(e) {\r\n        setGroupImage(e.target.files[0])\r\n        setPreviewImage(window.URL.createObjectURL(e.target.files[0]))\r\n      }\r\n\r\n\r\n    return (\r\n        <div className='add_new'>\r\n        <div className='add_new_group_border'>\r\n        <div className='new_conversation new_group'>\r\n\r\n      {goToParticipants !==true ?\r\n         <div className='top_new_group'>\r\n                     <div style={{flex:'1'}}className='title_and_close'>\r\n                  <h2 className='add_contact_title' style={{marginLeft:'85px',paddingRight:'0px'}}>Create New Group:</h2> \r\n                  <IconButton style={{marginLeft:'45px'}}className='close_add_new'  onClick={()=>closeModal()}>\r\n                    <CloseIcon fontSize='large' /> \r\n                  </IconButton>\r\n              </div>\r\n\r\n          {previewImage?  \r\n\r\n             <div className='change_group_image'> \r\n            <Avatar  src={previewImage} style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px',marginTop:'30px'}}> </Avatar>\r\n            <div className='change_image_on_hover' style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'}}>\r\n            <PeopleAltIcon style={{position:'absolute',zIndex:'0', opacity:'0.1',height: '80px', width: '80px' }}/>\r\n          \r\n             <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n             <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n            <span style={{fontSize:'10px'}}>Change Image </span>\r\n         \r\n            </div>\r\n            </div>\r\n           \r\n            :\r\n          <div className='add_group_image'>\r\n          <Avatar   style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px',marginTop:'30px'}}>\r\n           < PeopleAltIcon style={{position:'absolute',zIndex:'0', opacity:'0.1',height: '80px', width: '80px' }}/>\r\n            <div  style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'}}>\r\n             <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n             <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n            <span style={{fontSize:'10px'}}>add group image</span>\r\n         \r\n            </div>\r\n            </Avatar>\r\n            </div> }\r\n          <div className='group_name'>\r\n          <span style={{padding:'5px', margin:'5px' , fontSize:'13px', color:'#fcfcfc'}}> Group Name:</span>\r\n          <input style={{borderRadius:'10px', border:'none',outline:'none'}} onChange={(e)=>setGroupName(e.target.value)}/>\r\n          </div>\r\n          <button style={{display:'flex',alignItems:'center',width:'180px',justifyContent:'center'}} className='add_new_button'  onClick={()=>setGoToParticipants(true)}><ArrowBackIcon style={{margin:'5px'}} /> Add Members</button>\r\n          </div>\r\n          :\r\n          <div >\r\n              <div style={{flex:'1'}}className='title_and_close'>\r\n                  <h2 className='add_contact_title' style={{marginLeft:'80px',paddingRight:'0px'}}>Select Members:</h2> \r\n                  <IconButton style={{marginLeft:'40px'}}className='close_add_new'  onClick={()=>closeModal()}>\r\n                    <CloseIcon fontSize='large' /> \r\n                  </IconButton>\r\n              </div>\r\n          <div style={{overflowY:'overlay',height:'200px'}}>\r\n          {contacts.map(contact =>\r\n            {\r\n            return(\r\n\r\n                <div className='contact_item' >\r\n                 <input\r\n                type=\"checkbox\"\r\n                value={selectedContactsId.includes(contact.id)}\r\n                id={contact.id}\r\n                onChange={() => handleCheckboxChange(contact.id)}/>\r\n                <label style={{display:'flex',flexDirection:'row',alignItems:'center',width:'100%'}}for={contact.id} >\r\n                   <Avatar  style={{margin:'5px'}} src={process.env.PUBLIC_URL + contact.imageName}   fontSize='large'/>\r\n                    <h3 className='enter_phone' style={{marginLeft:'10px' ,fontWeight:'400'}}>{contact.name} </h3>\r\n                   </label>\r\n                 \r\n                </div>\r\n            )}) }  \r\n            </div>\r\n            <div style={{display:'flex' , justifyContent:'center'}}>\r\n             <button className='add_new_button'  type=\"submit\" onClick={()=>createGroup()}>Create</button>\r\n             </div>\r\n\r\n             </div>}\r\n\r\n         \r\n\r\n        \r\n\r\n\r\n          \r\n\r\n            \r\n            \r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateNewGroup\r\n","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\register.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\contexts\\userprovider.js",["110"],"\r\nimport React, { useState ,useEffect, useContext} from 'react'\r\nimport axios from 'axios'\r\nconst UserContext = React.createContext()\r\n\r\nexport function useUser() {\r\n  return useContext(UserContext)\r\n}\r\n\r\nexport  function UserProvider({ children })\r\n{\r\n  const [contacts, setContacts] = useState([])\r\n  const [info,setInfo] =useState({})\r\n  const config= {'headers': {'x-access-token':sessionStorage['config']}}\r\n\r\n\r\n  \r\n   useEffect( () =>\r\n   {\r\n    async function fetchData() {\r\n\r\n    getContacts().then(res=> setContacts(res))\r\n    }\r\n\r\n    fetchData();\r\n\r\n   },[setInfo])\r\n\r\n   async function getContacts()\r\n   {\r\n    const response = await axios.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],config);\r\n    setInfo({id:response.data._id,name:response.data.name,phone:response.data.phone,imageName:response.data.imageName,LastSeen:response.data.LastSeen})\r\n    return(response.data.contacts)\r\n\r\n   }\r\n   \r\n\r\n  function getSearchContacts(str)\r\n  {\r\n    getContacts().then(res=>\r\n      {\r\n        let SearchResult =res.filter(contact=> contact.name.includes(str) === true)\r\n        setContacts(SearchResult)\r\n      })\r\n  }\r\n\r\n\r\n  const createContact = async(phone) =>\r\n  {\r\n\r\n\r\n\r\n    if(phone === info.phone)\r\n    {\r\n       return {status:'error',message:'cant Add yourself'};\r\n    }\r\n\r\n    let checkIfExists = contacts.filter(contact=> contact.phone === phone)\r\n\r\n    if(checkIfExists.length !== 0)\r\n    {\r\n      return {status:'error',message:'already exists'};\r\n    }\r\n\r\n    try{ \r\n\r\n      const response= await axios.get(\"https://messagesapp1.herokuapp.com/api/logIn/getByPhone/\" + phone,config)\r\n      if(response.data !== 'no such user')\r\n      {\r\n       const contact = {id:response.data._id,phone:response.data.phone,name:response.data.name,imageName:response.data.imageName}\r\n       let newContacts = [...contacts,contact]\r\n       setContacts(newContacts)\r\n       let UpdatedUser={...info,contacts:newContacts}\r\n       try{\r\n         await axios.put(\"https://messagesapp1.herokuapp.com/api/logIn/\" + sessionStorage['id'],UpdatedUser,{'headers': {'x-access-token':sessionStorage['config']}})\r\n       } catch(err){console.log(err)}\r\n      }\r\n      else return {status:'error',message:'user doesnt exist'};\r\n     \r\n    } catch(err){console.log(err)}\r\n\r\n    return {status:'ok'}\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <UserContext.Provider value={{setContacts,setInfo,info,config,contacts,createContact,getSearchContacts }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\chatbody.js",["111","112"],"import React, { useRef } from 'react'\r\nimport { useState ,useCallback,useEffect} from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { useSocket} from '../contexts/socketprovider';\r\nimport { useUser} from '../contexts/userprovider';\r\nimport {IconButton,Dialog } from '@material-ui/core'\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport Picker from 'emoji-picker-react';\r\nimport { useReactMediaRecorder } from \"react-media-recorder\";\r\nimport axios from 'axios'\r\nimport Message from './message';\r\nimport AudioMessage from './audiomessage';\r\n\r\n\r\n\r\n\r\nfunction ChatBody(props) {\r\n\r\n    const [Text,setText] = useState('')\r\n    const {socket} = useSocket()\r\n    const {info} = useUser()\r\n    const {sendMessage,selectedConversation,removedFromGroupFlag,setRemovedFromGroupFlag,setSelectedConversation} = useConversations()\r\n    const inputRef = useRef(null)\r\n  \r\n    const [emojiFlag,setEmojiFlag] = useState(false)\r\n    const [recordFlag,setRecordFlag] =useState(false)\r\n    const {startRecording,stopRecording,mediaBlobUrl,clearBlobUrl} = useReactMediaRecorder({audio: true })\r\n    const [audioBlob,setAudioBlob] = useState(null)\r\n  \r\n\r\n    useEffect(()=>{\r\n      setEmojiFlag(false)\r\n    },[selectedConversation])\r\n\r\n\r\n    const setRef = useCallback((node) => \r\n    {\r\n\r\n      if(node)\r\n         node.scrollIntoView({smooth:true})\r\n    },[])\r\n\r\n\r\n  useEffect( () => {\r\n    async function fetchData() {\r\n    if(audioBlob != null)\r\n    {\r\n      let audio= await fetch(mediaBlobUrl).then(res=> res.blob())\r\n      const data = new FormData();\r\n           \r\n      data.append('file', audio);\r\n      data.append('resource_type', 'video');\r\n      data.append(\"upload_preset\",\"whatsApp_clone\")\r\n      data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n      try{\r\n        let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/video/upload\",data)\r\n        let recordURL = response.data.url\r\n        recordURL=(recordURL.slice(0,-4))\r\n        recordURL+= 'mp3'\r\n        setRecordFlag(false)\r\n        clearBlobUrl()\r\n        sendMessage(Text,null,null,recordURL)\r\n        setRecordFlag(false)\r\n  \r\n      }catch(err){console.log(err)}\r\n    }\r\n    }\r\n\r\n    fetchData();\r\n \r\n  }, [audioBlob])\r\n\r\n\r\n\r\n    function typing(e)\r\n    {\r\n        setText(e.target.value)\r\n        if (socket.current == null) return;\r\n        socket.current.emit(\"typing\", {user:info,Conversation:selectedConversation})\r\n    }\r\n\r\n    function handleSubmit(e)\r\n    {\r\n      e.preventDefault()\r\n      sendMessage(Text,false,null,null)\r\n\r\n      setText(' ')\r\n    }\r\n\r\n    async function handleImage(e)\r\n    {\r\n      const data = new FormData()\r\n      data.append('file',e.target.files[0])\r\n      data.append(\"upload_preset\",\"whatsApp_clone\")\r\n      data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n      try{\r\n      let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n\r\n      props.imageCallback(response.data.url)\r\n      }catch(err){console.log(err)}\r\n    }\r\n\r\n   function recordStart()\r\n   {\r\n    setRecordFlag(true)\r\n    startRecording()\r\n   }\r\n \r\n    async function handleRecord()\r\n    {\r\n         stopRecording()\r\n         let res = await fetch(mediaBlobUrl)\r\n         setAudioBlob(res.blob())            \r\n    }\r\n\r\n  function cancelRecord()\r\n  {\r\n    stopRecording()\r\n    clearBlobUrl()\r\n    setRecordFlag(false)\r\n  }\r\n\r\n    function updateRecordingDiv()\r\n    {\r\n      let recordDiv = <div>\r\n      <IconButton>\r\n        <CloseIcon fontSize='large' style={{color:'red'}} onClick={cancelRecord} />\r\n      </IconButton>\r\n      <IconButton>\r\n         <CheckIcon fontSize='large'style={{color:'green'}} onClick={handleRecord} />\r\n      </IconButton>\r\n      </div>\r\n\r\n      return recordDiv\r\n  \r\n    }\r\n\r\n    function handleRemovedFromGroup()\r\n    {\r\n      setRemovedFromGroupFlag(false)\r\n      setSelectedConversation()\r\n    }\r\n    \r\n\r\n    const onEmojiClick = (event, emojiObject) => {\r\n        setText(Text + emojiObject.emoji)\r\n      };\r\n\r\n\r\n\r\n    return(\r\n\r\n      <div className= 'body_and_footer'>\r\n     \r\n <div className='chat_body'>\r\n      \r\n      {console.log(selectedConversation)}\r\n        {selectedConversation.Messages.map((message,index)=>\r\n         {\r\n            const lastMessage = selectedConversation.Messages.length -1 === index\r\n            let sender= ''\r\n            sender= message.name==='manager'? 'manager':( message.id===sessionStorage['id']? 'message_out' : 'message_in')\r\n            let image=message.id===sessionStorage['id']? info.imageName :selectedConversation.ConversationImage\r\n            let choosenClass = sender==='message_in'? 'chat_message chat_sender': ' chat_message chat_reciever'\r\n\r\n            return (\r\n             \r\n                     <div>\r\n                      {sender == 'manager'?\r\n                      <div className='around_message'ref={lastMessage ? setRef : null}>\r\n                        <div className='manager_message'>\r\n                      \r\n                     <span className='message_content'>{message.message}</span>\r\n                     </div>\r\n                     </div>:\r\n\r\n                     <div key={index} className={choosenClass} ref={lastMessage ? setRef : null}>\r\n                    {message.containsRecord ? \r\n                    <AudioMessage message={message} sender={sender} image={image}/> : <Message  sender={sender} message={message}/>}\r\n                    </div> }\r\n                </div>\r\n          )}\r\n        )}\r\n\r\n      </div>\r\n\r\n      <div className='chat_footer_with_stickers'>\r\n         {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' }}/>: ''}\r\n         <div className='chat_footer'>\r\n           {emojiFlag? <IconButton  onClick={()=>setEmojiFlag(false)}><CloseIcon fontSize='large'/> </IconButton>:''}\r\n           <IconButton  onClick={()=>setEmojiFlag(true)}>\r\n             <InsertEmoticonIcon fontSize='large'/>\r\n           </IconButton>\r\n           <input accept=\"image/*\" className='invisibleInput' id=\"icon-button-file\" type=\"file\"  style={{ visibility: 'hidden'}} onChange={handleImage}/>\r\n           <label htmlFor=\"icon-button-file\">\r\n             <IconButton component=\"span\">\r\n               <ImageIcon  fontSize='large'/>\r\n             </IconButton>\r\n           </label> \r\n\r\n           <form onSubmit={handleSubmit} className='message_section'>\r\n             <input className='message_input' ref={inputRef}  value={Text} onChange={typing} type='text' placeholder='type a message'/>\r\n             <button type='submit' > send </button>\r\n           </form>\r\n           {recordFlag? updateRecordingDiv() :   \r\n           <IconButton onClick={recordStart}>\r\n             <MicIcon fontSize='large'  />\r\n           </IconButton>}\r\n         </div>\r\n\r\n      </div>\r\n      <Dialog className='exit_group_dialog'  open={removedFromGroupFlag}>\r\n                <div style={{padding:'10px'}}>\r\n                    <h2 className='dialog_title'> you where removed from this group</h2>\r\n                    <div className='dialog_options_buttons'>\r\n                      <button className='dialog_button' onClick={()=>handleRemovedFromGroup()} >ok</button>\r\n                    </div>\r\n                </div>\r\n      </Dialog> \r\n\r\n    </div>\r\n\r\n    \r\n)}\r\n\r\nexport default ChatBody\r\n","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\sendimagebody.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\message.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\audiomessage.js",[],"C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\components\\addgroupmember.js",["113","114","115","116"],"import React, { useState ,useEffect} from 'react'\r\nimport { useUser } from '../contexts/userprovider'\r\nimport { useConversations } from '../contexts/conversationsprovider'\r\nimport {Button,Avatar,IconButton} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport '../css/addnew.css'\r\nimport { instanceOf } from 'prop-types';\r\n\r\nfunction AddGroupMember({closeModal}) {\r\n\r\n    const [selectedContactsId, setSelectedContactsId] = useState([])\r\n    const { contacts,info } = useUser()\r\n    const {UpdateConversation,selectedConversation} = useConversations()\r\n    const [conversationContacts,setConversationContacts]=useState([])\r\n\r\n\r\n    useEffect(() =>\r\n    { \r\n        let ids=[]\r\n        console.log(selectedConversation)\r\n        selectedConversation.Participants.forEach((participant)=>\r\n        {\r\n           ids.push(participant.id)\r\n        }) \r\n        console.log(ids)\r\n        setConversationContacts(ids)\r\n    },[])\r\n\r\n    function AddMember()\r\n    {\r\n        let newParticipants= []\r\n        newParticipants=selectedConversation.Participants\r\n        let messages=selectedConversation.Messages\r\n        console.log(messages)\r\n        let message=''\r\n        contacts.forEach(contact=>\r\n        {\r\n            if(selectedContactsId.includes(contact.id))\r\n            {\r\n                console.log(contact)\r\n                newParticipants.push(contact)\r\n                message={name:\"manager\",message: info.name +\" added \" + contact.name + \" to the group\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n                messages.push(message)\r\n                console.log(newParticipants)\r\n            }\r\n\r\n        })\r\n\r\n\r\n\r\n        let updatedConversation={...selectedConversation,Participants:newParticipants,Messages:messages,LastMessage:message}\r\n        UpdateConversation(updatedConversation)\r\n        closeModal()\r\n    }\r\n\r\n\r\n    function handleCheckboxChange(contactId) \r\n    {\r\n        if(selectedContactsId.includes(contactId))\r\n        {\r\n            setSelectedContactsId(prevSelectedContactsId =>\r\n            {\r\n                return (prevSelectedContactsId.filter(id=> id!==contactId))\r\n            } )\r\n        }\r\n  \r\n        else\r\n        {\r\n           setSelectedContactsId(prevSelectedContactsId=>\r\n            {\r\n              return [...prevSelectedContactsId,contactId]\r\n            })\r\n        }   \r\n    }\r\n\r\n    return (\r\n        <div className='add_new'>\r\n        <div className='add_new_group_border'>\r\n        <div className='new_conversation new_group'>\r\n              <div style={{flex:'1'}} className='title_and_close'>\r\n                  <h2 className='add_contact_title' style={{marginLeft:'80px',paddingRight:'0px'}}>Select Members:</h2> \r\n                  <IconButton style={{marginLeft:'40px'}}className='close_add_new'  onClick={()=>closeModal()}>\r\n                    <CloseIcon fontSize='large' /> \r\n                  </IconButton>\r\n              </div>\r\n          <div style={{overflowY:'overlay',height:'200px'}}>\r\n          {contacts.map(contact =>\r\n            {\r\n             if(!(conversationContacts.includes(contact.id)))\r\n            {\r\n            return(\r\n                <div className='contact_item' >\r\n                 <input\r\n                type=\"checkbox\"\r\n                value={selectedContactsId.includes(contact.id)}\r\n                id={contact.id}\r\n                onChange={() => handleCheckboxChange(contact.id)}/>\r\n                <label style={{display:'flex',flexDirection:'row',alignItems:'center',width:'100%'}}for={contact.id} >\r\n                   <Avatar  style={{margin:'5px'}} src={process.env.PUBLIC_URL + contact.imageName}   fontSize='large'/>\r\n                    <h3 className='enter_phone' style={{marginLeft:'10px' ,fontWeight:'400'}}>{contact.name} </h3>\r\n                   </label>\r\n                 \r\n                </div>\r\n            )}}) }  \r\n            </div>\r\n            <div style={{display:'flex' , justifyContent:'center'}}>\r\n             <button className='add_new_button'  type=\"submit\" onClick={()=>AddMember()}>Add</button>\r\n             </div>\r\n\r\n             </div>\r\n             </div>\r\n             </div>\r\n    )\r\n}\r\n\r\nexport default AddGroupMember\r\n",{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","severity":1,"message":"122","line":161,"column":36,"nodeType":"123","messageId":"124","endLine":161,"endColumn":38},{"ruleId":"121","severity":1,"message":"122","line":161,"column":78,"nodeType":"123","messageId":"124","endLine":161,"endColumn":80},{"ruleId":"121","severity":1,"message":"125","line":209,"column":93,"nodeType":"123","messageId":"124","endLine":209,"endColumn":95},{"ruleId":"126","severity":1,"message":"127","line":2,"column":8,"nodeType":"128","messageId":"129","endLine":2,"endColumn":13},{"ruleId":"126","severity":1,"message":"130","line":5,"column":10,"nodeType":"128","messageId":"129","endLine":5,"endColumn":19},{"ruleId":"126","severity":1,"message":"131","line":10,"column":36,"nodeType":"128","messageId":"129","endLine":10,"endColumn":56},{"ruleId":"126","severity":1,"message":"132","line":11,"column":12,"nodeType":"128","messageId":"129","endLine":11,"endColumn":16},{"ruleId":"121","severity":1,"message":"122","line":64,"column":38,"nodeType":"123","messageId":"124","endLine":64,"endColumn":40},{"ruleId":"133","severity":1,"message":"134","line":72,"column":5,"nodeType":"135","endLine":72,"endColumn":27,"suggestions":"136"},{"ruleId":"133","severity":1,"message":"137","line":95,"column":5,"nodeType":"135","endLine":95,"endColumn":42,"suggestions":"138"},{"ruleId":"133","severity":1,"message":"139","line":104,"column":6,"nodeType":"135","endLine":104,"endColumn":8,"suggestions":"140"},{"ruleId":"121","severity":1,"message":"125","line":302,"column":88,"nodeType":"123","messageId":"124","endLine":302,"endColumn":90},{"ruleId":"133","severity":1,"message":"141","line":357,"column":7,"nodeType":"135","endLine":357,"endColumn":25,"suggestions":"142"},{"ruleId":"133","severity":1,"message":"143","line":367,"column":14,"nodeType":"128","endLine":367,"endColumn":21},{"ruleId":"133","severity":1,"message":"144","line":368,"column":6,"nodeType":"135","endLine":368,"endColumn":43,"suggestions":"145"},{"ruleId":"117","replacedBy":"146"},{"ruleId":"119","replacedBy":"147"},{"ruleId":"126","severity":1,"message":"148","line":4,"column":9,"nodeType":"128","messageId":"129","endLine":4,"endColumn":15},{"ruleId":"133","severity":1,"message":"149","line":27,"column":6,"nodeType":"135","endLine":27,"endColumn":15,"suggestions":"150"},{"ruleId":"133","severity":1,"message":"151","line":75,"column":6,"nodeType":"135","endLine":75,"endColumn":17,"suggestions":"152"},{"ruleId":"121","severity":1,"message":"122","line":173,"column":31,"nodeType":"123","messageId":"124","endLine":173,"endColumn":33},{"ruleId":"126","severity":1,"message":"148","line":4,"column":9,"nodeType":"128","messageId":"129","endLine":4,"endColumn":15},{"ruleId":"126","severity":1,"message":"153","line":7,"column":10,"nodeType":"128","messageId":"129","endLine":7,"endColumn":20},{"ruleId":"133","severity":1,"message":"154","line":27,"column":7,"nodeType":"135","endLine":27,"endColumn":9,"suggestions":"155"},{"ruleId":"156","severity":1,"message":"157","line":87,"column":33,"nodeType":"158","messageId":"159","endLine":87,"endColumn":35},"no-native-reassign",["160"],"no-negated-in-lhs",["161"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'selectedConversation' is assigned a value but never used.","'info' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getConversations' and 'socket'. Either include them or remove the dependency array.","ArrayExpression",["162"],"React Hook useEffect has a missing dependency: 'config'. Either include it or remove the dependency array.",["163"],"React Hook useEffect has a missing dependency: 'getConversations'. Either include it or remove the dependency array.",["164"],"React Hook useCallback has a missing dependency: 'audio'. Either include it or remove the dependency array.",["165"],"The ref value 'socket.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'socket.current' to a variable inside the effect, and use that variable in the cleanup function.","React Hook useEffect has missing dependencies: 'addMessageToConversation' and 'socket'. Either include them or remove the dependency array.",["166"],["160"],["161"],"'Button' is defined but never used.","React Hook useEffect has a missing dependency: 'getContacts'. Either include it or remove the dependency array.",["167"],"React Hook useEffect has missing dependencies: 'Text', 'clearBlobUrl', 'mediaBlobUrl', and 'sendMessage'. Either include them or remove the dependency array.",["168"],"'instanceOf' is defined but never used.","React Hook useEffect has a missing dependency: 'selectedConversation'. Either include it or remove the dependency array.",["169"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-global-assign","no-unsafe-negation",{"desc":"170","fix":"171"},{"desc":"172","fix":"173"},{"desc":"174","fix":"175"},{"desc":"176","fix":"177"},{"desc":"178","fix":"179"},{"desc":"180","fix":"181"},{"desc":"182","fix":"183"},{"desc":"184","fix":"185"},"Update the dependencies array to be: [getConversations, selectedConversation, socket]",{"range":"186","text":"187"},"Update the dependencies array to be: [ConnectedUsers, config, selectedConversation]",{"range":"188","text":"189"},"Update the dependencies array to be: [getConversations]",{"range":"190","text":"191"},"Update the dependencies array to be: [audio]",{"range":"192","text":"193"},"Update the dependencies array to be: [addMessageToConversation, conversations, selectedConversation, socket]",{"range":"194","text":"195"},"Update the dependencies array to be: [getContacts, setInfo]",{"range":"196","text":"197"},"Update the dependencies array to be: [Text, audioBlob, clearBlobUrl, mediaBlobUrl, sendMessage]",{"range":"198","text":"199"},"Update the dependencies array to be: [selectedConversation]",{"range":"200","text":"201"},[2197,2219],"[getConversations, selectedConversation, socket]",[2801,2838],"[ConnectedUsers, config, selectedConversation]",[2996,2998],"[getConversations]",[10637,10655],"[audio]",[11002,11039],"[addMessageToConversation, conversations, selectedConversation, socket]",[566,575],"[getContacts, setInfo]",[2440,2451],"[Text, audioBlob, clearBlobUrl, mediaBlobUrl, sendMessage]",[950,952],"[selectedConversation]"]