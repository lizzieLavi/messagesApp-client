{"code":"(this.webpackJsonpmyclient=this.webpackJsonpmyclient||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},159:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){\"use strict\";a.r(t);var n=a(1),s=a.n(n),c=a(16),r=a.n(c),i=a(3),o=a(4),l=a.n(o),d=a(7),u=(a(81),a(9)),j=a.n(u),p=a(11),b=a(45),h=(a(91),a(0));function m(e){var t=Object(n.useState)(\"\"),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(\"\"),o=Object(i.a)(r,2),u=o[0],m=o[1],x=Object(n.useState)(\"\"),O=Object(i.a)(x,2),f=O[0],g=O[1],v=Object(p.g)();function _(){return(_=Object(d.a)(l.a.mark((function t(a){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(\"\"),a.preventDefault(),n={name:u,phone:s},t.next=5,j.a.post(\"https://messagesapp1.herokuapp.com/api/logIn\",n);case 5:\"not found\"!==(c=t.sent).data?(sessionStorage.config=c.data.token,sessionStorage.id=c.data.User._id,sessionStorage.name=c.data.User.name,e.CanLogIn(c.data.User._id),v.push(\"/App\")):g(\"One or more of your identification details is incorrect.\");case 7:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)(\"div\",{class:\"overlay\",children:Object(h.jsx)(\"form\",{className:\"login_form\",onSubmit:function(e){return _.apply(this,arguments)},children:Object(h.jsxs)(\"div\",{class:\"con\",children:[Object(h.jsxs)(\"header\",{class:\"head-form\",children:[Object(h.jsx)(\"h2\",{children:\"Log In\"}),Object(h.jsx)(\"p\",{children:\"welcome to  my whatsApp\"})]}),Object(h.jsxs)(\"div\",{class:\"field-set\",children:[Object(h.jsxs)(\"span\",{class:\"input-item\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-user-circle\"}),Object(h.jsx)(\"input\",{class:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function(e){return m(e.target.value)},required:!0})]}),Object(h.jsxs)(\"span\",{class:\"input-item\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-key\"}),Object(h.jsx)(\"input\",{class:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(h.jsx)(\"button\",{className:\"log-in\",type:\"submit\",children:\" Log In \"})]}),Object(h.jsx)(\"div\",{children:Object(h.jsxs)(b.b,{className:\"submits sign-up defaultLink\",to:\"/Register\",children:[\"     Sign Up\",Object(h.jsx)(\"i\",{style:{margin:\"7px\"},class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"})]})}),f]})})})}a(159),a(74);var x=a(116),O=a.n(x),f=a(119),g=a.n(f),v=a(221),_=a(217),y=a(216),N=a(220),S=a(117),w=a.n(S),C=a(118),k=a.n(C),I=a(24),L=a(6),z=s.a.createContext();function R(){return Object(n.useContext)(z)}function M(e){var t=e.children,a=Object(n.useState)([]),s=Object(i.a)(a,2),c=s[0],r=s[1],o=Object(n.useState)({}),u=Object(i.a)(o,2),p=u[0],b=u[1],m={headers:{\"x-access-token\":sessionStorage.config}};function x(){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage.id,m);case 2:return t=e.sent,b({id:t.data._id,name:t.data.name,phone:t.data.phone,imageName:t.data.imageName,LastSeen:t.data.LastSeen,Status:t.data.Status}),e.abrupt(\"return\",t.data.contacts);case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x().then((function(e){return r(e)}));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]);var f=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==p.name){e.next=2;break}return e.abrupt(\"return\",{status:\"error\",message:\"cant Add yourself\"});case 2:if(0===c.filter((function(e){return e.name===t})).length){e.next=5;break}return e.abrupt(\"return\",{status:\"error\",message:\"already exists\"});case 5:return e.prev=5,e.next=8,j.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/getByName/\"+t,m);case 8:if(\"no such user\"===(a=e.sent).data){e.next=24;break}return n={id:a.data._id,phone:a.data.phone,name:a.data.name,imageName:a.data.imageName,Status:a.data.Status},s=[].concat(Object(I.a)(c),[n]),r(s),i=Object(L.a)(Object(L.a)({},p),{},{contacts:s}),e.prev=14,e.next=17,j.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage.id,i,{headers:{\"x-access-token\":sessionStorage.config}});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),console.log(e.t0);case 22:e.next=25;break;case 24:return e.abrupt(\"return\",{status:\"error\",message:\"user doesnt exist\"});case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(5),console.log(e.t1);case 30:return e.abrupt(\"return\",{status:\"ok\"});case 31:case\"end\":return e.stop()}}),e,null,[[5,27],[14,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(z.Provider,{value:{setContacts:r,setInfo:b,info:p,config:m,contacts:c,createContact:f,getSearchContacts:function(e){x().then((function(t){var a=t.filter((function(t){return!0===t.name.includes(e)}));r(a)}))}},children:t})}var U=a(112),D=a.n(U),P=s.a.createContext();function A(){return Object(n.useContext)(P)}function G(e){var t=e.userId,a=e.children,s=Object(n.useRef)(),c=Object(n.useState)([]),r=Object(i.a)(c,2),o=r[0],u=r[1];return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.current=D()(\"wss://messagesapp1.herokuapp.com:443/\");case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.current.emit(\"AddUser\",sessionStorage.id),s.current.on(\"getConnectedUsers\",(function(e){u(e)}));case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(h.jsx)(P.Provider,{value:{socket:s,ConnectedUsers:o},children:a})}var E=s.a.createContext();function F(){return Object(n.useContext)(E)}function T(e){var t=e.children,a=R(),s=a.contacts,c=a.info,r=Object(n.useState)([]),o=Object(i.a)(r,2),u=o[0],p=o[1],b=Object(n.useState)(),m=Object(i.a)(b,2),x=m[0],O=m[1],f=Object(n.useRef)(u),g=Object(n.useRef)(x),v=A(),_=v.socket,y=v.ConnectedUsers,N=Object(n.useState)(\"\"),S=Object(i.a)(N,2),w=S[0],C=S[1],k=Object(n.useState)(\"\"),z=Object(i.a)(k,2),M=z[0],U=z[1],D={headers:{\"x-access-token\":sessionStorage.config}},P=Object(n.useState)(!1),G=Object(i.a)(P,2),F=G[0],T=G[1],q=Object(n.useState)(!1),B=Object(i.a)(q,2),V=B[0],W=B[1],J=new Audio(\"https://res.cloudinary.com/dsrgpqnyv/video/upload/v1630680168/juntos-607_qsfc7i.mp3\"),H=Object(n.useState)(!0),Y=Object(i.a)(H,2),Z=Y[0],K=Y[1];function Q(){return X.apply(this,arguments)}function X(){return(X=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(\"https://messagesapp1.herokuapp.com/api/conversations/UserConversations/\"+sessionStorage.id,D);case 3:return t=e.sent,a=t.data.map((function(e){var t=e;return e.isGroup||e.Name!==sessionStorage.name||(t=Object(L.a)(Object(L.a)({},t),{},{Name:e.Participants[0].name,ConversationImage:e.Participants[0].image})),x&&x._id===t._id&&O(t),t})),e.abrupt(\"return\",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function $(){return($=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q().then((function(e){var a=e.filter((function(e){return!0===e.Name.includes(t)}));p(a)}));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(d.a)(l.a.mark((function e(t,a,n,r){var i,o,d,b,h,m,x,f,g,v,y,N;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n,o=r,d=[],b=\"\",0!==t.length){e.next=6;break}return e.abrupt(\"return\",{status:\"error\",message:\"no participants choosen\"});case 6:if(h=null,1!==t.length||o||(h=u.find((function(e){return e.Name===a}))),!h){e.next=12;break}O(h),e.next=45;break;case 12:if((m=t.map((function(e){return s.filter((function(t){return e===t.id}))[0]}))).push({id:c.id,name:c.name,phone:c.phone,imageName:c.imageName,LastSeen:c.LastSeen}),x=\"\",!o){e.next=34;break}return f=new Intl.DateTimeFormat(\"en\",{hc:\"h12\",year:\"numeric\",month:\"2-digit\",day:\"2-digit\",hour:\"numeric\",minute:\"numeric\",timeZone:\"Asia/Jerusalem\"}).formatToParts(new Date).reduce((function(e,t){return e[t.type]=t.value,e}),Object.create(null)),x=\"\".concat(f.day,\"/\").concat(f.month,\"/\").concat(f.year,\" \").concat(f.hour,\":\").concat(f.minute),b={name:\"manager\",message:c.name+\" created this group\",timeSent:\"\",containsImage:!1,containsRecord:!1,recordURL:null},d.push(b),(g=new FormData).append(\"file\",i),g.append(\"upload_preset\",\"whatsApp_clone\"),g.append(\"cloud_name\",\"dsrgpqnyv\"),e.prev=24,e.next=27,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",g);case 27:v=e.sent,i=v.data.url,e.next=34;break;case 31:e.prev=31,e.t0=e.catch(24),console.log(e.t0);case 34:return y={Name:a,creatorId:sessionStorage.id,Participants:m,Messages:d,LastMessage:b,ConversationImage:i,isGroup:o,createdDate:x,description:\"Add Description\"},e.prev=35,e.next=38,j.a.post(\"https://messagesapp1.herokuapp.com/api/conversations\",y,D);case 38:\"created\"===(N=e.sent).data.status&&(O(N.data.conversation),(N.data.conversation.Messages.length>0||!0===N.data.conversation.isGroup)&&(p((function(e){return[].concat(Object(I.a)(e),[N.data.conversation])})),_.current.emit(\"conversation-changed\",N.data.conversation))),e.next=45;break;case 42:e.prev=42,e.t1=e.catch(35),console.log(e.t1);case 45:case\"end\":return e.stop()}}),e,null,[[24,31],[35,42]])})))).apply(this,arguments)}function te(){return(te=Object(d.a)(l.a.mark((function e(t){var a,n,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(L.a)({},t),t.LastMessage.message.includes(\"left\")||(n={id:c.id,phone:c.phone,name:c.name,image:c.imageName},s=[].concat(Object(I.a)(t.Participants),[n]),a=Object(L.a)(Object(L.a)({},a),{},{Participants:s})),delete a._id,e.prev=3,e.next=6,j.a.put(\"https://messagesapp1.herokuapp.com/api/conversations/\"+x._id,a,D);case 6:\"Updated\"===e.sent.data.status&&(r=[],t.LastMessage.message.includes(\"left\")?(r=u.filter((function(e){return e._id!==x._id})),O()):(O(t),u.forEach((function(e){e._id===t._id?r.push(t):r.push(e)}))),t.LastMessage.message.includes(\"removed\")?_.current.emit(\"user-deleted\",x):_.current.emit(\"conversation-changed\",x),p(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=_.current){e.next=2;break}return e.abrupt(\"return\");case 2:_.current.on(\"update-conversation\",Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(!0);case 1:case\"end\":return e.stop()}}),e)})))),_.current.on(\"removed-user\",Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q().then((function(e){(p(e),x)&&(0===e.filter((function(e){return e._id===x._id})).length&&W(!0))}));case 1:case\"end\":return e.stop()}}),e)}))));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x]),Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=10;break}if(x.isGroup){e.next=10;break}if(!y.some((function(e){return e.userId===x.Participants[0].id}))){e.next=6;break}U(\"\"),e.next=10;break;case 6:return e.next=8,j.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+x.Participants[0].id,D);case 8:t=e.sent,U(t.data.LastSeen);case 10:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y,x]),Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q().then((function(e){return p(e)}));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}Z&&(K(!1),function(){e.apply(this,arguments)}())}),[Z]),Object(n.useEffect)((function(){null!=_.current&&_.current.on(\"user-typing\",(function(e){var t=e.user,a=e.conversationId;x&&x._id===a&&C(t.name)}))}),[x]);var ae=Object(n.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.UpdatedConv,J.play(),n=!1,s=f.current.map((function(e){if(e._id===a._id){n=!0;var t=Object(L.a)(Object(L.a)({},e),{},{Messages:a.Messages,LastMessage:a.LastMessage});return g.current&&g.current._id===a._id&&O(t),t}return e})),n?p(s):a.isGroup?p((function(e){return[].concat(Object(I.a)(e),[a])})):(c=Object(L.a)(Object(L.a)({},a),{},{Name:a.Participants[0].name,ConversationImage:a.Participants[0].imageName}),p((function(e){return[].concat(Object(I.a)(e),[c])})));case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]);Object(n.useEffect)((function(){if(null!=_.current)return f.current=u,g.current=x,_.current.on(\"receive-message\",ae),function(){return _.current.off(\"receive-message\",ae)}}),[u,x]);return Object(h.jsx)(E.Provider,{value:{sendMessage:function(e,t,a,n){var s=new Intl.DateTimeFormat(\"en\",{hc:\"h12\",year:\"numeric\",month:\"2-digit\",day:\"2-digit\",hour:\"numeric\",minute:\"numeric\",timeZone:\"Asia/Jerusalem\"}).formatToParts(new Date).reduce((function(e,t){return e[t.type]=t.value,e}),Object.create(null)),r=\"\".concat(s.day,\"/\").concat(s.month,\"/\").concat(s.year,\"  \").concat(s.hour,\":\").concat(s.minute),i=!1;null!=n&&(i=!0);var o={id:c.id,name:c.name,message:e,timeSent:r,containsImage:t,containsRecord:i,recordURL:n};!0===t&&(o=Object(L.a)(Object(L.a)({},o),{},{imageURL:a}));var l={id:c.id,phone:c.phone,name:c.name,image:c.imageName},d=Object(L.a)(Object(L.a)({},x),{},{Messages:[].concat(Object(I.a)(x.Messages),[o]),LastMessage:o});_.current.emit(\"send-message\",{sender:l,UpdatedConversation:d,conversationId:x._id}),function(e){var t=!1;O(e);var a=u.map((function(a){return a._id===e._id?(t=!0,e):a}));p(t?a:function(t){return[].concat(Object(I.a)(t),[e])})}(d)},conversations:u,createConversation:function(e,t,a,n){return ee.apply(this,arguments)},setConversations:p,setSelectedConversation:O,selectedConversation:x,currentConversationIsConnected:M,typingFlag:w,setTypingFlag:C,getSearchConverastions:function(e){return $.apply(this,arguments)},showDetails:F,setShowDetails:T,UpdateConversation:function(e){return te.apply(this,arguments)},removedFromGroupFlag:V,setRemovedFromGroupFlag:W},children:t})}a(108);function q(){var e=F(),t=e.setSelectedConversation,a=e.conversations,n=e.setShowDetails;function s(){return(s=Object(d.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!1),t(a);case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(\"div\",{className:\"Chats\",children:Object(h.jsx)(\"div\",{className:\"contacts_list\",children:a.map((function(e,t){return Object(h.jsxs)(\"div\",{onClick:function(){return function(e){return s.apply(this,arguments)}(e)},className:\"ChatsListItem\",children:[Object(h.jsx)(v.a,{src:e.ConversationImage}),Object(h.jsxs)(\"div\",{className:\"chatInfo\",children:[Object(h.jsx)(\"h2\",{className:\"user_name\",children:e.Name}),Object(h.jsxs)(\"span\",{className:\"user_status\",children:[\" \",e.LastMessage.message.slice(0,28),\"... \"]})]})]},t)}))})})}function B(e){var t=e.newConversationCallback,a=e.openModalCallback,n=R(),s=n.info,c=n.contacts,r=F().createConversation;return Object(h.jsxs)(\"div\",{className:\"Chats contacts\",children:[Object(h.jsx)(\"h4\",{className:\"new_chat_title\",children:\"Start New Chat:\"}),Object(h.jsx)(y.a,{style:{height:\"30px\",margin:\"5px 0px\",fontSize:\"10px\"},onClick:function(){return a()},className:\"add_new_Button\",children:\" Create Group \"}),Object(h.jsx)(\"div\",{className:\"contacts_list\",children:c.map((function(e){return Object(h.jsxs)(\"div\",{className:\"ChatsListItem\",onClick:function(){return function(e){var a=e.id,n=e.name,s=e.image;r([a],n,s,!1),t()}({id:e.id,name:e.name,image:e.imageName})},children:[Object(h.jsx)(v.a,{src:e.imageName}),Object(h.jsxs)(\"div\",{className:\"chatInfo\",children:[Object(h.jsxs)(\"h2\",{className:\"user_name\",children:[e.name,\" \"]}),Object(h.jsxs)(\"span\",{className:\"user_status\",children:[\" \",s.Status.slice(0,25),\"... \"]})]})]})}))})]})}var V=a(20),W=a.n(V);a(109);function J(e){var t=e.closeModal,a=Object(n.useRef)(),s=R().createContact,c=Object(n.useState)(\"\"),r=Object(i.a)(c,2),o=r[0],u=r[1];function j(){return(j=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(a.current.value);case 2:\"ok\"===(n=e.sent).status?(t(),u(\"\")):u(n.message);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(\"div\",{className:\"add_new\",children:Object(h.jsx)(\"div\",{className:\"add_new_contact_border\",children:Object(h.jsxs)(\"div\",{className:\"add_contact_model\",children:[Object(h.jsxs)(\"div\",{className:\"title_and_close\",children:[Object(h.jsx)(\"h2\",{className:\"add_contact_title\",children:\"Add New Contact\"}),Object(h.jsx)(_.a,{className:\"close_add_new\",onClick:function(){return t()},children:Object(h.jsx)(W.a,{fontSize:\"large\"})})]}),Object(h.jsxs)(\"div\",{className:\"add_new_contact\",children:[Object(h.jsx)(\"h3\",{className:\"enter_phone\",children:\"userName:\"}),Object(h.jsx)(\"input\",{className:\"add_new_input\",type:\"text\",ref:a,required:!0}),Object(h.jsx)(\"button\",{className:\"add_new_button\",onClick:function(){return j.apply(this,arguments)},children:\" Add Contact\"})]}),Object(h.jsx)(\"span\",{className:\"show_error\",children:o})]})})})}var H=a(48),Y=a.n(H),Z=a(37),K=a.n(Z),Q=a(69),X=a.n(Q);var $=function(e){var t=e.closeModal,a=Object(n.useState)([]),s=Object(i.a)(a,2),c=s[0],r=s[1],o=R().contacts,l=F().createConversation,d=Object(n.useState)(\"\"),u=Object(i.a)(d,2),j=u[0],p=u[1],b=Object(n.useState)(),m=Object(i.a)(b,2),x=m[0],O=m[1],f=Object(n.useState)(),g=Object(i.a)(f,2),y=g[0],N=g[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),C=w[0],k=w[1];function L(e){O(e.target.files[0]),N(window.URL.createObjectURL(e.target.files[0]))}return Object(h.jsx)(\"div\",{className:\"add_new\",children:Object(h.jsx)(\"div\",{className:\"add_new_group_border\",children:Object(h.jsx)(\"div\",{className:\"new_conversation new_group\",children:!0!==C?Object(h.jsxs)(\"div\",{className:\"top_new_group\",children:[Object(h.jsxs)(\"div\",{style:{flex:\"1\"},className:\"title_and_close\",children:[Object(h.jsx)(\"h2\",{className:\"add_contact_title\",style:{marginLeft:\"85px\",paddingRight:\"0px\"},children:\"Create New Group:\"}),Object(h.jsx)(_.a,{style:{marginLeft:\"45px\"},className:\"close_add_new\",onClick:function(){return t()},children:Object(h.jsx)(W.a,{fontSize:\"large\"})})]}),y?Object(h.jsxs)(\"div\",{className:\"change_group_image\",children:[Object(h.jsx)(v.a,{src:y,style:{height:\"110px\",width:\"110px\",backgroundColor:\"gray\",margin:\"15px\",marginTop:\"30px\"},children:\"  \"}),Object(h.jsxs)(\"div\",{className:\"change_image_on_hover\",style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",position:\"absolute\",zIndex:\"1\",color:\"white\"},children:[Object(h.jsx)(K.a,{style:{height:\"30px\",width:\"30px\",color:\"white\"}}),Object(h.jsx)(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:L}),Object(h.jsx)(\"span\",{style:{fontSize:\"10px\"},children:\"Change Image \"})]})]}):Object(h.jsx)(\"div\",{className:\"add_group_image\",children:Object(h.jsxs)(v.a,{style:{height:\"110px\",width:\"110px\",backgroundColor:\"gray\",margin:\"15px\",marginTop:\"30px\"},children:[Object(h.jsx)(X.a,{style:{position:\"absolute\",zIndex:\"0\",opacity:\"0.1\",height:\"80px\",width:\"80px\"}}),Object(h.jsxs)(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",position:\"absolute\",zIndex:\"1\",color:\"white\"},children:[Object(h.jsx)(K.a,{style:{height:\"30px\",width:\"30px\",color:\"white\"}}),Object(h.jsx)(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:L}),Object(h.jsx)(\"span\",{style:{fontSize:\"10px\"},children:\"add group image\"})]})]})}),Object(h.jsxs)(\"div\",{className:\"group_name\",children:[Object(h.jsx)(\"span\",{style:{padding:\"5px\",margin:\"5px\",fontSize:\"13px\",color:\"#fcfcfc\"},children:\" Group Name:\"}),Object(h.jsx)(\"input\",{style:{borderRadius:\"10px\",border:\"none\",outline:\"none\"},onChange:function(e){return p(e.target.value)}})]}),Object(h.jsxs)(\"button\",{style:{display:\"flex\",alignItems:\"center\",width:\"180px\",justifyContent:\"center\"},className:\"add_new_button\",onClick:function(){return k(!0)},children:[Object(h.jsx)(Y.a,{style:{margin:\"5px\"}}),\" Add Members\"]})]}):Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"div\",{style:{flex:\"1\"},className:\"title_and_close\",children:[Object(h.jsx)(\"h2\",{className:\"add_contact_title\",style:{marginLeft:\"80px\",paddingRight:\"0px\"},children:\"Select Members:\"}),Object(h.jsx)(_.a,{style:{marginLeft:\"40px\"},className:\"close_add_new\",onClick:function(){return t()},children:Object(h.jsx)(W.a,{fontSize:\"large\"})})]}),Object(h.jsx)(\"div\",{style:{overflowY:\"overlay\",height:\"200px\"},children:o.map((function(e){return Object(h.jsxs)(\"div\",{className:\"contact_item\",children:[Object(h.jsx)(\"input\",{type:\"checkbox\",value:c.includes(e.id),id:e.id,onChange:function(){return t=e.id,void(c.includes(t)?r((function(e){return e.filter((function(e){return e!==t}))})):r((function(e){return[].concat(Object(I.a)(e),[t])})));var t}}),Object(h.jsxs)(\"label\",{style:{display:\"flex\",flexDirection:\"row\",alignItems:\"center\",width:\"100%\"},for:e.id,children:[Object(h.jsx)(v.a,{style:{margin:\"5px\"},src:\"\"+e.imageName,fontSize:\"large\"}),Object(h.jsxs)(\"h3\",{className:\"enter_phone\",style:{marginLeft:\"10px\",fontWeight:\"400\"},children:[e.name,\" \"]})]})]})}))}),Object(h.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:Object(h.jsx)(\"button\",{className:\"add_new_button\",type:\"submit\",onClick:function(){return l(c,j,x,!0),void t()},children:\"Create\"})})]})})})})},ee=(a(190),a(218)),te=a(52),ae=a.n(te),ne=a(43),se=a.n(ne),ce=a(44),re=a.n(ce),ie=a(42),oe=a.n(ie),le=Object(ee.a)({root:{\"&:hover\":{backgroundColor:\"transparent\"}}});var de=function(e){var t=e.backToConversations,a=R(),s=a.info,c=a.contacts,r=a.setInfo,o=a.config,u=F(),p=u.conversations,b=u.setConversations,m=A().socket,x=Object(n.useState)(s.imageName),O=Object(i.a)(x,2),f=O[0],g=O[1],y=Object(n.useState)(!1),N=Object(i.a)(y,2),S=N[0],w=N[1],C=Object(n.useState)(!1),k=Object(i.a)(C,2),z=k[0],M=k[1],U=Object(n.useState)(!1),D=Object(i.a)(U,2),P=D[0],G=D[1],E=Object(n.useState)(s.name),T=Object(i.a)(E,2),q=T[0],B=T[1],V=Object(n.useState)(s.status),W=Object(i.a)(V,2),J=W[0],H=W[1],Z=Object(n.useState)(!1),Q=Object(i.a)(Z,2),X=Q[0],$=Q[1],ee=le();function te(){return(te=Object(d.a)(l.a.mark((function e(t){var a,n,i,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=\"\",(n=new FormData).append(\"file\",t.target.files[0]),n.append(\"upload_preset\",\"whatsApp_clone\"),n.append(\"cloud_name\",\"dsrgpqnyv\"),e.prev=5,e.next=8,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",n);case 8:i=e.sent,a=i.data.url,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:return d={name:s.name,phone:s.phone,imageName:a,contacts:c,LastSeen:s.lastSeen,Status:s.Status},e.prev=16,e.next=19,j.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage.id,d,o);case 19:\"Updated\"===e.sent.data&&r(d),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),console.log(e.t1);case 26:g(window.URL.createObjectURL(t.target.files[0]));case 27:case\"end\":return e.stop()}}),e,null,[[5,12],[16,23]])})))).apply(this,arguments)}function ne(){return(ne=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:q,phone:s.phone,imageName:s.imageName,contacts:c,LastSeen:s.LastSeen,Status:s.Status},e.prev=1,e.next=4,j.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage.id,t,o);case 4:\"Updated\"===e.sent.data&&(r(t),a=[],p.map(function(){var e=Object(d.a)(l.a.mark((function e(n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=\"\",c=n.Name===s.name?Object(L.a)(Object(L.a)({},n),{},{Name:q}):Object(L.a)({},n),a.push(c),t=Object(L.a)(Object(L.a)({},t),{},{id:sessionStorage.id}),r=[].concat(Object(I.a)(n.Participants),[t]),delete(c=Object(L.a)(Object(L.a)({},c),{},{Participants:r}))._id,e.prev=7,e.next=10,j.a.put(\"https://messagesapp1.herokuapp.com/api/conversations/\"+n._id,c,o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0);case 15:m.current.emit(\"conversation-changed\",n);case 16:case\"end\":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()),b(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:G(!1),w(!1);case 13:case\"end\":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function ce(){return(ce=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:s.name,phone:s.phone,imageName:s.imageName,contacts:c,LastSeen:s.LastSeen,Status:J},e.prev=1,e.next=4,j.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage.id,t,o);case 4:\"Updated\"===e.sent.data&&r(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:$(!1),M(!1);case 13:case\"end\":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(h.jsxs)(\"div\",{className:\"show_details\",children:[Object(h.jsx)(\"header\",{className:\"profile_title\",children:Object(h.jsxs)(\"div\",{className:\"title_and_back_to_conversations\",children:[Object(h.jsx)(_.a,{onClick:function(){return t()},children:Object(h.jsx)(Y.a,{style:{height:\"30px\",width:\"30px\"}})}),Object(h.jsx)(\"h2\",{className:\"title_h2\",children:\" Profile \"})]})}),Object(h.jsxs)(\"div\",{className:\"profile_details_body\",children:[Object(h.jsxs)(\"div\",{className:\"profile_pic\",children:[Object(h.jsx)(v.a,{src:f,style:{height:\"170px\",width:\"170px\",backgroundColor:\"gray\",margin:\"15px\",marginTop:\"30px\"},children:\" \"}),Object(h.jsxs)(\"div\",{className:\"change_image_on_hover\",style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",position:\"absolute\",zIndex:\"1\",color:\"white\",curser:\"pointer\"},children:[Object(h.jsx)(K.a,{style:{height:\"30px\",width:\"30px\",color:\"white\"}}),Object(h.jsx)(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:function(e){return te.apply(this,arguments)}}),Object(h.jsx)(\"span\",{style:{fontSize:\"10px\"},children:\"Change Picture \"})]})]}),Object(h.jsxs)(\"span\",{className:\"profile_details\",children:[Object(h.jsx)(\"h3\",{className:\"edit_title\",children:\"your name:\"}),S?Object(h.jsxs)(\"div\",{children:[P?Object(h.jsx)(oe.a,{onEmojiClick:function(e,t){return function(e,t){B((function(e){return e+t.emoji}))}(0,t)},pickerStyle:{width:\"100%\",height:\"200px\"}}):\"\",Object(h.jsxs)(\"div\",{className:\"edit_group_name\",style:{margin:\"10px\",padding:\"5px\"},children:[Object(h.jsx)(_.a,{className:ee.root,style:{padding:\"3px\"},onClick:function(){return function(){return ne.apply(this,arguments)}()},children:Object(h.jsx)(se.a,{fontSize:\"large\"})}),Object(h.jsx)(_.a,{className:ee.root,style:{padding:\"3px\"},onClick:function(){return G(!P)},children:Object(h.jsx)(re.a,{fontSize:\"large\"})}),Object(h.jsx)(\"input\",{className:\"input_text\",defaultValue:q,onChange:function(e){return B(e.target.value)}})]})]}):Object(h.jsxs)(\"div\",{className:\"edit_details\",children:[Object(h.jsx)(_.a,{onClick:function(){return w(!0)},children:Object(h.jsx)(ae.a,{style:{fontSize:\"large\"}})}),Object(h.jsx)(\"h3\",{children:s.name})]})]}),Object(h.jsxs)(\"span\",{className:\"profile_details\",children:[Object(h.jsx)(\"h3\",{className:\"edit_title\",children:\"status:\"}),z?Object(h.jsxs)(\"div\",{children:[P?Object(h.jsx)(oe.a,{onEmojiClick:function(e,t){return function(e,t){H((function(e){return e+t.emoji}))}(0,t)},pickerStyle:{width:\"100%\",height:\"200px\"}}):\"\",Object(h.jsxs)(\"div\",{className:\"edit_group_name\",style:{margin:\"10px\",padding:\"5px\"},children:[Object(h.jsx)(_.a,{className:ee.root,style:{padding:\"3px\"},onClick:function(){return function(){return ce.apply(this,arguments)}()},children:Object(h.jsx)(se.a,{fontSize:\"large\"})}),Object(h.jsx)(_.a,{className:ee.root,style:{padding:\"3px\"},onClick:function(){return $(!X)},children:Object(h.jsx)(re.a,{fontSize:\"large\"})}),Object(h.jsx)(\"input\",{className:\"input_text\",defaultValue:J,onChange:function(e){return H(e.target.value)}})]})]}):Object(h.jsxs)(\"div\",{className:\"edit_details\",children:[Object(h.jsx)(_.a,{onClick:function(){return M(!0)},children:Object(h.jsx)(ae.a,{style:{fontSize:\"large\"}})}),Object(h.jsx)(\"h3\",{style:{fontSize:\"15px\"},children:s.Status})]})]})]})]})};function ue(){var e=Object(n.useState)(\"conversations\"),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=r[1],d=R(),u=d.info,j=d.getSearchContacts,p=Object(n.useState)(!1),b=Object(i.a)(p,2),m=b[0],x=b[1],f=F().getSearchConverastions,S=Object(n.useState)(\"\"),C=Object(i.a)(S,2),I=C[0],L=C[1],z=Object(n.useState)(!1),M=Object(i.a)(z,2),U=M[0],D=M[1];function P(){l(!1)}function A(e){l(!0),L(e)}return Object(h.jsx)(\"div\",{className:\"sideBar\",children:U?Object(h.jsx)(de,{backToConversations:function(){D(!1)}}):Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"div\",{className:\"sidebar_top\",children:[Object(h.jsx)(\"div\",{className:\"user_profile_pic\",onClick:function(){return D(!0)},children:Object(h.jsx)(v.a,{src:u.imageName,fontSize:\"large\"})}),Object(h.jsxs)(\"div\",{className:\"sidebar_top_right\",children:[Object(h.jsx)(_.a,{onClick:function(){return s(\"conversations\")},children:Object(h.jsx)(O.a,{fontSize:\"large\"})}),Object(h.jsx)(_.a,{fontSize:\"large\",onClick:function(){return s(\"contacts\")},children:Object(h.jsx)(w.a,{fontSize:\"large\"})}),Object(h.jsx)(_.a,{children:Object(h.jsx)(k.a,{})})]})]}),m?Object(h.jsxs)(\"div\",{className:\"activeSearch\",children:[Object(h.jsx)(\"div\",{className:\"arrowButton\",children:Object(h.jsx)(_.a,{onClick:function(){return x(!1)},children:Object(h.jsx)(Y.a,{fontSize:\"large\"})})}),Object(h.jsx)(\"input\",{className:\"searchBlock\",type:\"text\",onChange:function(e){\"conversations\"===a?f(e.target.value):j(e.target.value)}})]}):Object(h.jsx)(\"div\",{className:\"searchBar\",children:Object(h.jsxs)(\"div\",{className:\"searchContainer\",children:[Object(h.jsx)(g.a,{}),Object(h.jsx)(\"input\",{placeholder:\"search\",type:\"text\",onClick:function(){return x(!0)}})]})}),\"contacts\"===a?Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"div\",{className:\"sidebar_middle\",children:Object(h.jsx)(y.a,{style:{fontSize:\"10px\"},onClick:function(){return A(\"NEW_CONTACT\")},className:\"add_new_Button\",children:\"Add New Contact\"})}),Object(h.jsx)(\"div\",{className:\"sidebar_bottom\",children:Object(h.jsx)(B,{newConversationCallback:function(){return s(\"conversations\")},openModalCallback:function(){return A(\"NEW_GROUP\")}})})]}):Object(h.jsx)(\"div\",{className:\"sidebar_bottom\",children:Object(h.jsx)(q,{})}),Object(h.jsx)(N.a,{className:\"Modal\",open:o,onClose:P,children:Object(h.jsx)(\"div\",{children:\"NEW_GROUP\"===I?Object(h.jsx)($,{closeModal:P}):Object(h.jsx)(J,{closeModal:P})})})]})})}a(110);var je=a(120),pe=a.n(je),be=a(121),he=a.n(be);var me=function(e){var t=e.closeModal,a=Object(n.useState)([]),s=Object(i.a)(a,2),c=s[0],r=s[1],o=R(),l=o.contacts,d=o.info,u=F(),j=u.UpdateConversation,p=u.selectedConversation,b=Object(n.useState)([]),m=Object(i.a)(b,2),x=m[0],O=m[1];return Object(n.useEffect)((function(){var e=[];p.Participants.forEach((function(t){e.push(t.id)})),O(e)}),[p.Participants]),Object(h.jsx)(\"div\",{className:\"add_new\",children:Object(h.jsx)(\"div\",{className:\"add_new_group_border\",children:Object(h.jsxs)(\"div\",{className:\"new_conversation new_group\",children:[Object(h.jsxs)(\"div\",{style:{flex:\"1\"},className:\"title_and_close\",children:[Object(h.jsx)(\"h2\",{className:\"add_contact_title\",style:{marginLeft:\"80px\",paddingRight:\"0px\"},children:\"Select Members:\"}),Object(h.jsx)(_.a,{style:{marginLeft:\"40px\"},className:\"close_add_new\",onClick:function(){return t()},children:Object(h.jsx)(W.a,{fontSize:\"large\"})})]}),Object(h.jsx)(\"div\",{style:{overflowY:\"overlay\",height:\"200px\"},children:l.map((function(e){return x.includes(e.id)?\"\":Object(h.jsxs)(\"div\",{className:\"contact_item\",children:[Object(h.jsx)(\"input\",{type:\"checkbox\",value:c.includes(e.id),id:e.id,onChange:function(){return t=e.id,void(c.includes(t)?r((function(e){return e.filter((function(e){return e!==t}))})):r((function(e){return[].concat(Object(I.a)(e),[t])})));var t}}),Object(h.jsxs)(\"label\",{style:{display:\"flex\",flexDirection:\"row\",alignItems:\"center\",width:\"100%\"},for:e.id,children:[Object(h.jsx)(v.a,{style:{margin:\"5px\"},src:\"\"+e.imageName,fontSize:\"large\"}),Object(h.jsxs)(\"h3\",{className:\"enter_phone\",style:{marginLeft:\"10px\",fontWeight:\"400\"},children:[e.name,\" \"]})]})]})}))}),Object(h.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:Object(h.jsx)(\"button\",{className:\"add_new_button\",type:\"submit\",onClick:function(){return function(){var e=[];e=p.Participants;var a=p.Messages,n=\"\";l.forEach((function(t){c.includes(t.id)&&(e.push(t),n={name:\"manager\",message:d.name+\" added \"+t.name+\" to the group\",timeSent:\"\",containsImage:!1,containsRecord:!1,recordURL:null},a.push(n))}));var s=Object(L.a)(Object(L.a)({},p),{},{Participants:e,Messages:a,LastMessage:n});j(s),t()}()},children:\"Add\"})})]})})})},xe=a(219),Oe=Object(ee.a)({root:{\"&:hover\":{backgroundColor:\"transparent\"}}});var fe=function(){var e=F(),t=e.selectedConversation,a=e.createConversation,s=e.conversations,c=e.setSelectedConversation,r=e.UpdateConversation,o=Object(n.useState)(!1),u=Object(i.a)(o,2),p=u[0],b=u[1],m=Object(n.useState)(!1),x=Object(i.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)(!1),y=Object(i.a)(g,2),S=y[0],w=y[1],C=Object(n.useState)(t.Name),k=Object(i.a)(C,2),I=k[0],z=k[1],M=Object(n.useState)(t.description),U=Object(i.a)(M,2),D=U[0],P=U[1],A=R().info,G=Oe(),E=Object(n.useState)(!1),T=Object(i.a)(E,2),q=T[0],B=T[1],V=Object(n.useState)(!1),J=Object(i.a)(V,2),H=J[0],Y=J[1],Z=Object(n.useState)(!1),Q=Object(i.a)(Z,2),X=Q[0],$=Q[1],ee=Object(n.useState)(),te=Object(i.a)(ee,2),ne=te[0],ce=te[1],ie=Object(n.useState)(t.ConversationImage),le=Object(i.a)(ie,2),de=le[0],ue=le[1];function je(){B(!1)}function be(){return(be=Object(d.a)(l.a.mark((function e(a){var n,s,c,i,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(window.URL.createObjectURL(a.target.files[0])),n=\"\",(s=new FormData).append(\"file\",a.target.files[0]),s.append(\"upload_preset\",\"whatsApp_clone\"),s.append(\"cloud_name\",\"dsrgpqnyv\"),e.prev=6,e.next=9,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",s);case 9:c=e.sent,n=c.data.url,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:i=t.Messages,o={name:\"manager\",message:A.name+\" changed group picture\",timeSent:\"\",containsImage:!1,containsRecord:!1,recordURL:null},i.push(o),d=Object(L.a)(Object(L.a)({},t),{},{ConversationImage:n,Messages:i,LastMessage:o}),r(d);case 21:case\"end\":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){b(!1),f(!1),w(!1)}),[t]),Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"div\",{className:\"user_info\",children:[Object(h.jsxs)(\"div\",{className:\"change_group_image\",children:[Object(h.jsx)(v.a,{src:de,style:{height:\"150px\",width:\"150px\",backgroundColor:\"gray\",margin:\"15px\",marginTop:\"30px\"},children:\" \"}),Object(h.jsxs)(\"div\",{className:\"change_image_on_hover\",style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",position:\"absolute\",zIndex:\"1\",color:\"white\",curser:\"pointer\"},children:[Object(h.jsx)(K.a,{style:{height:\"30px\",width:\"30px\",color:\"white\"}}),Object(h.jsx)(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:function(e){return be.apply(this,arguments)}}),Object(h.jsx)(\"span\",{style:{fontSize:\"10px\"},children:\"Change Picture \"})]})]}),Object(h.jsxs)(\"span\",{className:\"name_and_lastSeen\",children:[p?Object(h.jsxs)(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[S?Object(h.jsx)(oe.a,{onEmojiClick:function(e,t){return function(e,t){z(I+t.emoji)}(0,t)},pickerStyle:{width:\"100%\",height:\"200px\"}}):\"\",Object(h.jsxs)(\"div\",{className:\"edit_group_name\",children:[Object(h.jsx)(_.a,{className:G.root,style:{padding:\"3px\"},onClick:function(){return function(){var e={name:\"manager\",message:A.name+\" changed group name to \"+I,timeSent:\"\",containsImage:!1,containsRecord:!1,recordURL:null},a=t.Messages;a.push(e);var n=Object(L.a)(Object(L.a)({},t),{},{Name:I,Messages:a,LastMasage:e});r(n),b(!1)}()},children:Object(h.jsx)(se.a,{fontSize:\"large\"})}),Object(h.jsx)(_.a,{className:G.root,style:{padding:\"3px\"},onClick:function(){return w(!S)},children:Object(h.jsx)(re.a,{fontSize:\"large\"})}),Object(h.jsx)(\"input\",{className:\"input_text\",defaultValue:I,onChange:function(e){return z(e.target.value)}})]})]}):Object(h.jsxs)(\"span\",{className:\"group_title\",children:[Object(h.jsx)(\"h3\",{children:t.Name}),Object(h.jsx)(_.a,{onClick:function(){return b(!0)},children:Object(h.jsx)(ae.a,{style:{fontSize:\"large\",marginLeft:\"10px\"}})})]}),Object(h.jsxs)(\"span\",{className:\"lastSeen\",style:{padding:\"10px\",paddingLeft:\"0px\"},children:[\" created at:  \",t.createdDate,\" \"]})]})]}),Object(h.jsxs)(\"div\",{className:\"group_details_container\",children:[Object(h.jsx)(\"h2\",{className:\"group_title\",style:{padding:\"5px\"},children:\" Description \"}),O?Object(h.jsxs)(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[S?Object(h.jsx)(oe.a,{onEmojiClick:function(e,t){return function(e,t){P(D+t.emoji)}(0,t)},pickerStyle:{width:\"100%\",height:\"200px\"}}):\"\",Object(h.jsxs)(\"div\",{className:\"edit_group_name\",style:{padding:\"5px\"},children:[Object(h.jsx)(_.a,{className:G.root,style:{padding:\"3px\"},onClick:function(){return function(){var e={name:\"manager\",message:A.name+\" changed group Description\",timeSent:\"\",containsImage:!1,containsRecord:!1,recordURL:null},a=t.Messages;a.push(e);var n=Object(L.a)(Object(L.a)({},t),{},{description:D,Messages:a,LastMessage:e});r(n),f(!1)}()},children:Object(h.jsx)(se.a,{fontSize:\"large\"})}),Object(h.jsx)(_.a,{className:G.root,style:{padding:\"3px\"},onClick:function(){return w(!S)},children:Object(h.jsx)(re.a,{fontSize:\"large\"})}),Object(h.jsx)(\"input\",{className:\"input_text\",defaultValue:D,onChange:function(e){return P(e.target.value)}})]})]}):Object(h.jsxs)(\"div\",{className:\"group_description_edit\",children:[Object(h.jsx)(\"span\",{style:{fontSize:\"15px\",marginRight:\"5px\"},children:t.description}),Object(h.jsx)(_.a,{onClick:function(){return f(!0)},children:Object(h.jsx)(ae.a,{style:{fontSize:\"large\"}})})]})]}),Object(h.jsxs)(\"div\",{className:\"group_details_container\",children:[Object(h.jsxs)(\"h2\",{className:\"group_title\",style:{padding:\"10px\",borderBottom:\"1px solid #B0B0B0\"},children:[t.Participants.length+1,\" participants\"]}),Object(h.jsx)(N.a,{className:\"Modal\",open:q,onClose:je,children:Object(h.jsx)(me,{closeModal:je})}),t.creatorId===sessionStorage.id?Object(h.jsxs)(\"div\",{className:\"participant\",style:{cursor:\"pointer\",fontSize:\"15px\"},onClick:function(){return B(!0)},children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(_.a,{className:G.root,style:{padding:\"3px\"},children:Object(h.jsx)(pe.a,{fontSize:\"large\"})})}),Object(h.jsx)(\"h3\",{className:\"group_participant_name\",children:\"Add Member\"})]}):\"\",t.Participants.map((function(e,n){return Object(h.jsxs)(\"div\",{className:\"participant\",children:[Object(h.jsxs)(\"div\",{onClick:function(){return function(e){var t=!1;if(s.forEach((function(a){!1===a.isGroup&&a.Participants[0].id===e.id&&(t=!0,c(a))})),!t){var n=[];n.push(e.id),a(n,e.name,e.imageName,!1)}}(e)},style:{display:\"flex\",flexGrow:\"1\",flexDirection:\"row\",alignItems:\"center\",cursor:\"pointer\"},children:[Object(h.jsx)(v.a,{src:e.imageName}),Object(h.jsxs)(\"div\",{style:{display:\"flex\",flexGrow:\"1\",flexDirection:\"row\",alignItems:\"center\"},children:[Object(h.jsx)(\"h3\",{className:\"group_participant_name\",children:e.name}),e.id===t.creatorId?Object(h.jsx)(\"div\",{className:\"group_admin\",children:Object(h.jsx)(\"h3\",{style:{fontSize:\"13px\"},children:\"Group Manager\"})}):\"\"]})]}),sessionStorage.id===t.creatorId?Object(h.jsx)(_.a,{onClick:function(){return function(e){ce(e),$(!0)}(e)},style:{padding:\"3px\"},children:Object(h.jsx)(W.a,{fontSize:\"medium\"})}):\"\"]},n)})),Object(h.jsx)(\"div\",{className:\"participant\",children:Object(h.jsxs)(\"div\",{style:{display:\"flex\",flexGrow:\"1\",flexDirection:\"row\",alignItems:\"center\"},children:[Object(h.jsx)(v.a,{src:A.imageName}),Object(h.jsxs)(\"div\",{style:{display:\"flex\",flexGrow:\"1\",flexDirection:\"row\",alignItems:\"center\"},children:[Object(h.jsx)(\"h3\",{className:\"group_participant_name\",children:A.name}),sessionStorage.id===t.creatorId?Object(h.jsx)(\"div\",{className:\"group_admin\",children:Object(h.jsx)(\"h3\",{style:{fontSize:\"13px\"},children:\"Group Manager\"})}):\"\"]})]})})]}),Object(h.jsx)(\"div\",{className:\"group_details_container leave\",onClick:function(){return Y(!0)},children:Object(h.jsxs)(\"div\",{className:\"leaveGroup\",children:[Object(h.jsx)(_.a,{className:G.root,style:{padding:\"3px\"},children:Object(h.jsx)(he.a,{style:{color:\"darkred\"},fontSize:\"large\"})}),Object(h.jsx)(\"h3\",{className:\"group_participant_name\",style:{color:\"darkRed\",fontSize:\"17px\"},children:\"leave Group\"})]})}),Object(h.jsx)(xe.a,{className:\"exit_group_dialog\",onClose:function(){return Y(!1)},open:H,children:Object(h.jsxs)(\"div\",{style:{padding:\"10px\"},children:[Object(h.jsx)(\"h2\",{className:\"dialog_title\",children:\" are you sure you want to leave this group?\"}),Object(h.jsxs)(\"div\",{className:\"dialog_options_buttons\",children:[Object(h.jsx)(\"button\",{className:\"dialog_button\",onClick:function(){return function(){var e={name:\"manager\",message:A.name+\" left the group\",timeSent:\"\",containsImage:!1,containsRecord:!1,recordURL:null},a=t.Messages;a.push(e);var n=Object(L.a)(Object(L.a)({},t),{},{Messages:a,LastMessage:e});r(n),Y(!1)}()},children:\"yes\"}),Object(h.jsx)(\"button\",{className:\"dialog_button\",onClick:function(){return Y(!1)},children:\"no\"})]})]})}),Object(h.jsx)(xe.a,{className:\"exit_group_dialog\",onClose:function(){return $(!1)},open:X,children:Object(h.jsxs)(\"div\",{style:{padding:\"10px\"},children:[Object(h.jsx)(\"h2\",{className:\"dialog_title\",children:\" are you sure you want to delete this user?\"}),Object(h.jsxs)(\"div\",{className:\"dialog_options_buttons\",children:[Object(h.jsx)(\"button\",{className:\"dialog_button\",onClick:function(){return function(){var e=t.Messages,a={name:\"manager\",message:A.name+\" removed \"+ne.name+\" from the group \",timeSent:\"\",containsImage:!1,containsRecord:!1,recordURL:null};e.push(a);var n=t.Participants.filter((function(e){return e.id!==ne.id})),s=Object(L.a)(Object(L.a)({},t),{},{Participants:n,Messages:e,LastMessage:a});r(s),ce(),$(!1)}()},children:\"yes\"}),Object(h.jsx)(\"button\",{className:\"dialog_button\",onClick:function(){return $(!1)},children:\"no\"})]})]})})]})};var ge=function(e){var t=e.privateConversationHeader,a=F().selectedConversation,s=Object(n.useState)(!1),c=Object(i.a)(s,2),r=c[0],o=c[1];return Object(h.jsxs)(\"div\",{className:\"user_info\",children:[Object(h.jsx)(\"div\",{onClick:function(){return o(!0)},children:Object(h.jsx)(v.a,{src:a.ConversationImage,style:{margin:\"20px\",height:\"150px\",width:\"150px\"}})}),Object(h.jsx)(xe.a,{className:\"open_picture_dialog\",onClose:function(){return o(!1)},open:r,children:Object(h.jsx)(\"img\",{src:a.ConversationImage,alt:\"\"})}),Object(h.jsxs)(\"span\",{className:\"name_and_lastSeen\",style:{paddingBottom:\"0px\"},children:[console.log(\"here\"),Object(h.jsx)(\"span\",{className:\"group_title\",children:Object(h.jsx)(\"h3\",{children:a.Name})}),Object(h.jsx)(\"span\",{className:\"lastSeen\",style:{padding:\"10px\",paddingLeft:\"0px\"},children:t()})]})]})},ve=a(124),_e=a.n(ve),ye=a(123),Ne=a.n(ye),Se=a(122);var we=function(e){var t=e.sender,a=e.message,s=Object(n.useState)(!1),c=Object(i.a)(s,2),r=c[0],o=c[1],l=Object(n.useState)(null),d=Object(i.a)(l,2),u=d[0],j=d[1];return Object(h.jsx)(\"div\",{className:t,children:Object(h.jsxs)(\"div\",{className:\"message\",children:[Object(h.jsxs)(\"div\",{className:\"image_and_sender\",children:[Object(h.jsx)(\"div\",{className:\"sender\",children:a.name}),a.containsImage?Object(h.jsx)(\"img\",{className:\"image_in_message\",src:a.imageURL,alt:\"\",onClick:function(){return e=a.imageURL,o(!0),void j(e);var e},width:\"200px\",height:\"200px\"}):\"\"]}),Object(h.jsx)(\"div\",{children:Object(h.jsxs)(\"div\",{className:\"message_and_time\",children:[Object(h.jsx)(\"div\",{className:\"message_content\",children:a.message}),Object(h.jsx)(\"div\",{className:\"message_time_border\",children:Object(h.jsx)(\"div\",{className:\"message_time\",children:a.timeSent.substring(11,17)})})]})}),Object(h.jsx)(xe.a,{onClose:function(){return o(!1)},open:r,children:Object(h.jsx)(\"img\",{src:u,alt:\"\"})})]})})};a(192);var Ce=function(e){var t=e.message,a=e.sender,n=e.image,s=a.includes(\"chat_reciever\")?\"reciever\":\"sender\";return Object(h.jsx)(\"div\",{className:a,children:Object(h.jsx)(\"div\",{className:\"message_with_audio\",children:Object(h.jsxs)(\"div\",{className:s,children:[\"message_out\"===a?Object(h.jsxs)(\"div\",{className:\"audio_and_avatar\",children:[Object(h.jsx)(\"audio\",{controls:!0,controlsList:\"nodownload\",children:Object(h.jsx)(\"source\",{src:t.recordURL,type:\"audio/mp3\"})}),Object(h.jsx)(v.a,{src:n,style:{height:\"50px\",width:\"50px\",margin:\"5px\"}})]}):Object(h.jsxs)(\"div\",{className:\"audio_and_avatar\",children:[Object(h.jsx)(v.a,{src:n,style:{height:\"50px\",width:\"50px\",margin:\"5px\"}}),Object(h.jsx)(\"audio\",{controls:!0,controlsList:\"nodownload\",children:Object(h.jsx)(\"source\",{src:t.recordURL,type:\"audio/mp3\"})})]}),Object(h.jsx)(\"span\",{className:\"message_time\",children:t.timeSent.substring(11,17)})]})})})};var ke=function(e){var t=Object(n.useState)(\"\"),a=Object(i.a)(t,2),s=a[0],c=a[1],r=A().socket,o=R().info,u=F(),p=u.sendMessage,b=u.selectedConversation,m=u.removedFromGroupFlag,x=u.setRemovedFromGroupFlag,O=u.setSelectedConversation,f=Object(n.useRef)(null),g=Object(n.useState)(!1),v=Object(i.a)(g,2),y=v[0],N=v[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),C=w[0],k=w[1],I=Object(Se.useReactMediaRecorder)({audio:!0}),L=I.startRecording,z=I.stopRecording,M=I.mediaBlobUrl,U=I.clearBlobUrl,D=Object(n.useState)(null),P=Object(i.a)(D,2),G=P[0],E=P[1],T=Object(n.useCallback)((function(e){e&&e.scrollIntoView({smooth:!0})}),[]);function q(){return(q=Object(d.a)(l.a.mark((function t(a){var n,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append(\"file\",a.target.files[0]),n.append(\"upload_preset\",\"whatsApp_clone\"),n.append(\"cloud_name\",\"dsrgpqnyv\"),t.prev=4,t.next=7,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",n);case 7:s=t.sent,e.imageCallback(s.data.url),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case\"end\":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}function B(){return V.apply(this,arguments)}function V(){return(V=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(),e.next=3,fetch(M);case 3:t=e.sent,E(t.blob());case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function J(){z(),U(),k(!1)}return Object(n.useEffect)((function(){N(!1)}),[b]),Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==G){e.next=25;break}return e.next=3,fetch(M).then((function(e){return e.blob()}));case 3:return t=e.sent,(a=new FormData).append(\"file\",t),a.append(\"resource_type\",\"video\"),a.append(\"upload_preset\",\"whatsApp_clone\"),a.append(\"cloud_name\",\"dsrgpqnyv\"),e.prev=9,e.next=12,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/video/upload\",a);case 12:n=e.sent,c=(c=n.data.url).slice(0,-4),c+=\"mp3\",k(!1),U(),p(s,null,null,c),k(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),console.log(e.t0);case 25:case\"end\":return e.stop()}}),e,null,[[9,22]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[G]),Object(h.jsxs)(\"div\",{className:\"body_and_footer\",children:[Object(h.jsx)(\"div\",{className:\"chat_body\",children:b.Messages.map((function(e,t){var a,n=b.Messages.length-1===t;a=\"manager\"===e.name?\"manager\":e.id===sessionStorage.id?\"message_out\":\"message_in\";var s=e.id===sessionStorage.id?o.imageName:b.ConversationImage,c=\"message_in\"===a?\"chat_message chat_sender\":\" chat_message chat_reciever\";return Object(h.jsx)(\"div\",{children:\"manager\"===a?Object(h.jsx)(\"div\",{className:\"around_message\",ref:n?T:null,children:Object(h.jsx)(\"div\",{className:\"manager_message\",children:Object(h.jsx)(\"span\",{className:\"message_content\",children:e.message})})}):Object(h.jsx)(\"div\",{className:c,ref:n?T:null,children:e.containsRecord?Object(h.jsx)(Ce,{message:e,sender:a,image:s}):Object(h.jsx)(we,{sender:a,message:e})},t)},t)}))}),Object(h.jsxs)(\"div\",{className:\"chat_footer_with_stickers\",children:[y?Object(h.jsx)(oe.a,{onEmojiClick:function(e,t){return function(e,t){c(s+t.emoji)}(0,t)},pickerStyle:{width:\"100%\"}}):\"\",Object(h.jsxs)(\"div\",{className:\"chat_footer\",children:[y?Object(h.jsxs)(_.a,{onClick:function(){return N(!1)},children:[Object(h.jsx)(W.a,{fontSize:\"large\"}),\" \"]}):\"\",Object(h.jsx)(_.a,{onClick:function(){return N(!0)},children:Object(h.jsx)(re.a,{fontSize:\"large\"})}),Object(h.jsx)(\"input\",{accept:\"image/*\",className:\"invisibleInput\",id:\"icon-button-file\",type:\"file\",style:{visibility:\"hidden\"},onChange:function(e){return q.apply(this,arguments)}}),Object(h.jsx)(\"label\",{htmlFor:\"icon-button-file\",children:Object(h.jsx)(_.a,{component:\"span\",children:Object(h.jsx)(Ne.a,{fontSize:\"large\"})})}),Object(h.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),p(s,!1,null,null),c(\" \")},className:\"message_section\",children:[Object(h.jsx)(\"input\",{className:\"message_input\",ref:f,value:s,onChange:function(e){c(e.target.value),null!=r.current&&r.current.emit(\"typing\",{user:o,Conversation:b})},type:\"text\",placeholder:\"type a message\"}),Object(h.jsx)(\"button\",{type:\"submit\",children:\" send \"})]}),C?Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(_.a,{children:Object(h.jsx)(W.a,{fontSize:\"large\",style:{color:\"red\"},onClick:J})}),Object(h.jsx)(_.a,{children:Object(h.jsx)(se.a,{fontSize:\"large\",style:{color:\"green\"},onClick:B})})]}):Object(h.jsx)(_.a,{onClick:function(){k(!0),L()},children:Object(h.jsx)(_e.a,{fontSize:\"large\"})})]})]}),Object(h.jsx)(xe.a,{className:\"exit_group_dialog\",open:m,children:Object(h.jsxs)(\"div\",{style:{padding:\"10px\"},children:[Object(h.jsx)(\"h2\",{className:\"dialog_title\",children:\" you where removed from this group\"}),Object(h.jsx)(\"div\",{className:\"dialog_options_buttons\",children:Object(h.jsx)(\"button\",{className:\"dialog_button\",onClick:function(){return x(!1),void O()},children:\"ok\"})})]})})]})},Ie=(a(193),a(125)),Le=a.n(Ie);var ze=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(\"\"),s=Object(i.a)(a,2),c=s[0],r=s[1],o=A().socket,l=R().info,d=F(),u=d.sendMessage,j=d.selectedConversation;function p(t){!0===t&&u(c,!0,e.imageURL),r(\" \"),e.backToChat()}return Object(h.jsxs)(\"div\",{className:\"SendImage\",children:[Object(h.jsx)(\"div\",{className:\"sendImageHeader\"}),Object(h.jsx)(_.a,{type:\"submit\",onClick:function(){return p(!1)},children:Object(h.jsx)(W.a,{fontSize:\"large\"})}),Object(h.jsx)(\"img\",{src:e.imageURL,alt:\"\",height:\"300px\",width:\"300px\"}),Object(h.jsx)(\"div\",{className:\"add_message\",children:Object(h.jsxs)(\"form\",{onSubmit:function(){return p(!0)},className:\"message_section\",children:[Object(h.jsx)(_.a,{type:\"submit\",style:{flex:\"0.1\"},children:Object(h.jsx)(Le.a,{fontSize:\"large\"})}),Object(h.jsx)(\"input\",{className:\"message_input\",ref:t,value:c,onChange:function(e){r(e.target.value),null!=o.current&&o.current.emit(\"typing\",{user:l,Conversation:j})},type:\"text\",placeholder:\"type a message\"})]})})]})};function Re(){var e=F(),t=e.selectedConversation,a=e.currentConversationIsConnected,s=e.typingFlag,c=e.setTypingFlag,r=e.showDetails,o=e.setShowDetails,l=Object(n.useState)(!1),d=Object(i.a)(l,2),u=d[0],j=d[1],p=Object(n.useState)(!1),b=Object(i.a)(p,2),m=b[0],x=b[1],O=function(){var e=\"\";return\"\"===a?\"\"!==s?(e=Object(h.jsx)(\"div\",{className:\"lastSeen\",children:\" typing...\"}),setTimeout((function(){return c(\"\")}),1e3)):e=Object(h.jsxs)(\"div\",{className:\"connected\",children:[Object(h.jsx)(\"div\",{className:\"circle\"}),\" online \"]}):e=Object(h.jsx)(\"div\",{className:\"lastSeen\",children:a}),e};var f=Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"div\",{className:\"chat_header\",onClick:function(){return o(!0)},children:[Object(h.jsx)(v.a,{src:t.ConversationImage}),Object(h.jsxs)(\"div\",{className:\"chat_header_info\",children:[Object(h.jsxs)(\"h2\",{style:{fontSize:\"20px\"},children:[\" \",t.Name,\" \"]}),t.isGroup?function(){var e=\"\";if(\"\"!==s)e=Object(h.jsxs)(\"div\",{className:\"lastSeen\",children:[\" \",s,\" is typing...\"]}),setTimeout((function(){return c(\"\")}),1e3);else{var a=\"\";t.Participants.forEach((function(e,n){n===t.Participants.length-1?a+=e.name:a=a+e.name+\", \"})),e=Object(h.jsxs)(\"div\",{className:\"lastSeen\",children:[a,\" \"]})}return e}():O()]})]}),u?Object(h.jsx)(ze,{imageURL:m,backToChat:function(){x(null),j(!1)}}):Object(h.jsx)(ke,{imageCallback:function(e){x(e),j(!0)}})]});return r?Object(h.jsxs)(\"div\",{className:\"chat_with_details\",children:[Object(h.jsx)(\"div\",{className:\"chat narrow_chat\",children:f}),Object(h.jsxs)(\"div\",{className:\"chat_details\",children:[Object(h.jsxs)(\"div\",{className:\"chat_details_top \",children:[Object(h.jsx)(_.a,{onClick:function(){return o(!1)},children:Object(h.jsx)(W.a,{fontSize:\"large\"})}),Object(h.jsx)(\"h2\",{style:{paddingLeft:\"10px\",fontSize:\"22px\"},children:t.isGroup?\"Group Details:\":\"Contact Details:\"})]}),Object(h.jsx)(\"span\",{className:\"chat_details_body\",children:t.isGroup?Object(h.jsx)(fe,{}):Object(h.jsx)(ge,{privateConversationHeader:O})})]})]}):Object(h.jsx)(\"div\",{className:\"chat\",children:f})}var Me=Object(p.h)((function(e){var t=e.id,a=F().selectedConversation;return Object(h.jsx)(\"div\",{className:\"dashboard\",children:Object(h.jsxs)(\"div\",{className:\"dashboard_body\",children:[Object(h.jsx)(ue,{}),void 0!==a?Object(h.jsx)(Re,{id:t}):\"\"]})})}));var Ue=function(e){var t=Object(n.useState)(\"\"),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(\"\"),o=Object(i.a)(r,2),u=o[0],m=o[1],x=Object(n.useState)(null),O=Object(i.a)(x,2),f=O[0],g=O[1],_=Object(p.g)(),y=Object(n.useState)(\"\"),N=Object(i.a)(y,2),S=N[0],w=N[1],C=Object(n.useState)(),k=Object(i.a)(C,2),I=k[0],L=k[1];function z(){return(z=Object(d.a)(l.a.mark((function t(a){var n,c,r,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=\"\",!f){t.next=17;break}return(c=new FormData).append(\"file\",f),c.append(\"upload_preset\",\"whatsApp_clone\"),c.append(\"cloud_name\",\"dsrgpqnyv\"),t.prev=7,t.next=10,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",c);case 10:r=t.sent,n=r.data.url,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),console.log(t.t0);case 17:return i={name:u,phone:s,imageName:n,contacts:[],LastSeen:\"last seen at...\",Status:\"hello,i'm using Message-App!\"},t.prev=18,t.next=21,j.a.post(\"https://messagesapp1.herokuapp.com/api/logIn/Register\",i);case 21:\"error\"===(o=t.sent).data.status?w(o.data.message):(sessionStorage.config=o.data.token,sessionStorage.id=o.data.User._id,sessionStorage.name=o.data.User.name,e.CanLogIn(o.data.User._id),_.push(\"/App\")),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(18),console.log(t.t1);case 28:case\"end\":return t.stop()}}),t,null,[[7,14],[18,25]])})))).apply(this,arguments)}function R(e){g(e.target.files[0]),L(window.URL.createObjectURL(e.target.files[0]))}return Object(h.jsx)(\"div\",{className:\"overlay\",children:Object(h.jsx)(\"form\",{className:\"login_form\",onSubmit:function(e){return z.apply(this,arguments)},children:Object(h.jsxs)(\"div\",{className:\"con\",children:[Object(h.jsxs)(\"header\",{className:\"head-form\",style:{marginBottom:\"0px\",paddingBottom:\"0px\"},children:[Object(h.jsx)(\"h2\",{children:\"Register\"}),Object(h.jsx)(\"p\",{children:\"welcome to  my whatsApp\"})]}),Object(h.jsxs)(\"div\",{className:\"field-set\",children:[I?Object(h.jsxs)(\"div\",{className:\"change_group_image\",children:[Object(h.jsx)(v.a,{src:I,style:{height:\"110px\",width:\"110px\",backgroundColor:\"gray\",margin:\"15px\",marginTop:\"30px\"},children:\" \"}),Object(h.jsxs)(\"div\",{className:\"change_image_on_hover\",style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",position:\"absolute\",zIndex:\"1\",color:\"white\",curser:\"pointer\"},children:[Object(h.jsx)(K.a,{style:{height:\"30px\",width:\"30px\",color:\"white\"}}),Object(h.jsx)(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:R}),Object(h.jsx)(\"span\",{style:{fontSize:\"10px\"},children:\"Change Picture \"})]})]}):Object(h.jsx)(\"div\",{className:\"add_Profile_Picture\",children:Object(h.jsxs)(v.a,{style:{height:\"140px\",width:\"140px\",backgroundColor:\"gray\",margin:\"15px\",marginTop:\"30px\"},children:[Object(h.jsx)(X.a,{style:{position:\"absolute\",zIndex:\"0\",opacity:\"0.1\",height:\"80px\",width:\"80px\"}}),Object(h.jsxs)(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",position:\"absolute\",zIndex:\"1\",color:\"white\",curser:\"pointer\"},children:[Object(h.jsx)(K.a,{style:{height:\"30px\",width:\"30px\",color:\"white\"}}),Object(h.jsx)(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:R}),Object(h.jsx)(\"span\",{style:{fontSize:\"10px\"},children:\"Add Profile Picture\"})]})]})}),Object(h.jsxs)(\"span\",{className:\"input-item\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-user-circle\"}),Object(h.jsx)(\"input\",{className:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function(e){return m(e.target.value)},required:!0})]}),Object(h.jsxs)(\"span\",{className:\"input-item\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-key\"}),Object(h.jsx)(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(h.jsx)(\"button\",{className:\"log-in\",type:\"submit\",children:\" Register \"})]}),Object(h.jsx)(\"div\",{children:Object(h.jsxs)(b.b,{className:\"submits sign-up defaultLink\",to:\"/\",children:[\"    \",Object(h.jsx)(\"i\",{style:{margin:\"7px\"},class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"}),\"back to Log In\"]})}),Object(h.jsx)(\"span\",{style:{fontSize:\"15px\"},children:S})]})})})};a(194);var De=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(h.jsx)(G,{userId:a,children:Object(h.jsx)(M,{id:a,children:Object(h.jsx)(T,{children:Object(h.jsx)(Me,{id:a})})})});return Object(h.jsx)(b.a,{children:Object(h.jsx)(\"div\",{className:\"App\",children:Object(h.jsxs)(p.d,{children:[sessionStorage.id,Object(h.jsxs)(p.b,{exact:!0,path:\"/\",children:[\" \",Object(h.jsx)(m,{CanLogIn:s})]}),Object(h.jsxs)(p.b,{path:\"/Register\",children:[\" \",Object(h.jsx)(Ue,{CanLogIn:s})]}),sessionStorage.id?Object(h.jsxs)(p.b,{exact:!0,path:\"/App\",children:[\" \",c,\" \"]}):Object(h.jsx)(p.a,{to:\"/\"})]})})})};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(De,{})}),document.getElementById(\"root\"))},74:function(e,t,a){},81:function(e,t,a){}},[[195,1,2]]]);","name":"static/js/main.222938fc.chunk.js","map":{"version":3,"sources":["static/js/main.222938fc.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","regenerator","regenerator_default","asyncToGenerator","axios","axios_default","react_router","react_router_dom","jsx_runtime","LogIn","props","_useState","Object","_useState2","phone","setPhone","_useState3","_useState4","UserName","setUserName","_useState5","_useState6","Error","setError","history","_handleSubmit","a","mark","_callee","e","obj","response","wrap","_context","prev","next","preventDefault","name","post","sent","data","sessionStorage","token","User","_id","CanLogIn","stop","apply","arguments","class","children","className","onSubmit","_x","id","type","placeholder","onChange","target","value","required","to","style","margin","Chat","Chat_default","SearchOutlined","SearchOutlined_default","Avatar","IconButton","Button","Modal","People","People_default","MoreVert","MoreVert_default","toConsumableArray","objectSpread2","UserContext","createContext","useUser","UserProvider","_ref","contacts","setContacts","info","setInfo","config","headers","getContacts","_getContacts","_callee3","_context3","get","imageName","LastSeen","Status","abrupt","_fetchData","then","res","fetchData","createContact","_ref2","_callee2","contact","newContacts","UpdatedUser","_context2","status","message","filter","length","concat","put","t0","console","log","t1","Provider","getSearchContacts","str","SearchResult","includes","build","build_default","SocketContext","useSocket","SocketProvider","userId","socket","ConnectedUsers","setConnectedUsers","current","_fetchData2","emit","on","users","ConversationsContext","useConversations","ConversationsProvider","_useUser","conversations","setConversations","selectedConversation","setSelectedConversation","RefConversations","currentConversationRef","_useSocket","typingFlag","setTypingFlag","_useState7","_useState8","currentConversationIsConnected","setCurrentConversationIsConnected","_useState9","_useState10","showDetails","setShowDetails","_useState11","_useState12","removedFromGroupFlag","setRemovedFromGroupFlag","audio","Audio","_useState13","_useState14","renderFlag","setRenderFlag","getConversations","_getConversations","_callee7","ConversationsList","_context7","map","conversation","UpdatedConversation","isGroup","Name","Participants","ConversationImage","image","_getSearchConverastions","_callee8","_context8","_createConversation","_callee9","ids","groupFlag","messages","lastMessage","ConversationExists","participants","createdDate","parts","newConversation","Response","_context9","find","Intl","DateTimeFormat","hc","year","month","day","hour","minute","timeZone","formatToParts","Date","reduce","acc","part","create","timeSent","containsImage","containsRecord","recordURL","FormData","append","url","creatorId","Messages","LastMessage","description","prevConversations","_UpdateConversation","_callee10","updatedConversation","updateDBConv","addCurrentParticipant","UpdatedConversations","_context10","forEach","_callee4","_context4","some","user","_fetchData3","_callee5","_context5","_ref4","conversationId","addMessageToConversation","_ref6","_callee6","_ref5","UpdatedConv","newListOfConversations","_context6","play","newConv","_x7","off","sendMessage","text","imageFlag","imageURL","time","recordFlag","CurrentMessage","sender","AddMessage","newListOfConcversations","updateSenderConversation","createConversation","_x2","_x3","_x4","_x5","getSearchConverastions","UpdateConversation","_x6","Conversations","_useConversations","_handleSelectedConversation","index","onClick","handleSelectedConversation","src","slice","Contacts","newConversationCallback","openModalCallback","height","fontSize","startConversation","Close","Close_default","AddNewContact","closeModal","userNameRef","error","_AddContact","responseStatus","ref","ArrowBack","ArrowBack_default","AddAPhoto","AddAPhoto_default","PeopleAlt","PeopleAlt_default","createnewgroup","selectedContactsId","setSelectedContactsId","groupName","setGroupName","groupImage","setGroupImage","previewImage","setPreviewImage","goToParticipants","setGoToParticipants","handleFileUpload","files","window","URL","createObjectURL","flex","marginLeft","paddingRight","width","backgroundColor","marginTop","display","flexDirection","alignItems","position","zIndex","color","accept","opacity","padding","borderRadius","border","outline","justifyContent","overflowY","contactId","prevSelectedContactsId","for","fontWeight","makeStyles","Edit","Edit_default","Check","Check_default","InsertEmoticon","InsertEmoticon_default","dist","dist_default","useStyles","root","components_profiledetails","backToConversations","editNameFlag","setEditNameFlag","editStatusFlag","setEditStatusFlag","emojiFlag","setEmojiFlag","Text","setText","setStatus","statusEmojiFlag","setStatusEmojiFlag","classes","_handleFileUpload","picturePath","lastSeen","_changeProfileName","updateConv","updateCon","newParticipants","_changeProfileStatus","curser","onEmojiClick","emojiObject","event","prevText","emoji","_onEmojiClick","pickerStyle","changeProfileName","defaultValue","prevStatus","onStatusEmojiClick","changeProfileStatus","SideBar","choosenAct","setChoosenAct","modalOpen","setModalOpen","searchFlag","setSearchFlag","choosenModal","setChoosenModal","openProfileDetailsFlag","setOpenProfileDetailsFlag","openChoosenModal","modalType","open","onClose","PersonAdd","PersonAdd_default","ExitToApp","ExitToApp_default","addgroupmember","conversationContacts","setConversationContacts","participant","AddMember","Dialog","showgroupdetails_useStyles","showgroupdetails","EditGroupNameGlag","setEditGroupNameGlag","EditGroupDescriptionGlag","setEditGroupDescriptionGlag","Description","setDescription","dialogOpen","setDialogOpen","_useState15","_useState16","deleteUserDialog","setDeleteUserDialog","_useState17","_useState18","userToDelete","setUserToDelete","_useState19","_useState20","LastMasage","changeGroupName","paddingLeft","onDescriptionEmojiClick","changeGroupDescription","marginRight","borderBottom","cursor","existsFlag","participantId","openConversation","flexGrow","beforeDeleteUser","removeFromGroup","removeUserFromGroup","showuserdetails","privateConversationHeader","pictureDialogOpen","setPictureDialogOpen","alt","paddingBottom","Mic","Mic_default","Image","Image_default","react_media_recorder","components_message","SelectedImageURL","setSelectedImageURL","substring","components_audiomessage","messageColor","controls","controlsList","chatbody","inputRef","setRecordFlag","_useReactMediaRecorde","startRecording","stopRecording","mediaBlobUrl","clearBlobUrl","audioBlob","setAudioBlob","setRef","node","scrollIntoView","smooth","_handleImage","imageCallback","handleRecord","_handleRecord","fetch","blob","cancelRecord","choosenClass","visibility","htmlFor","component","Conversation","Send","Send_default","components_sendimagebody","handleSubmit","backToChat","chat_Chat","setImageFlag","setImageURL","returnValue","setTimeout","chatSide","UsersInGroup","groupheader","components_dashboard","undefined","register","setName","Picture","setPicture","_response","marginBottom","components_App","setId","dashboard","exact","path","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmyclient\"] = this[\"webpackJsonpmyclient\"] || []).push([[0],{\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/css/login.css\nvar login = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(9);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(45);\n\n// EXTERNAL MODULE: ./node_modules/font-awesome/css/font-awesome.min.css\nvar font_awesome_min = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/login.js\nfunction LogIn(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),phone=_useState2[0],setPhone=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),UserName=_useState4[0],setUserName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),Error=_useState6[0],setError=_useState6[1];var history=Object(react_router[\"g\" /* useHistory */])();//get user information and token from DB\nfunction handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var obj,response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError('');e.preventDefault();obj={name:UserName,phone:phone};_context.next=5;return axios_default.a.post(\"https://messagesapp1.herokuapp.com/api/logIn\",obj);case 5:response=_context.sent;if(response.data!==\"not found\"){sessionStorage['config']=response.data.token;sessionStorage['id']=response.data.User._id;sessionStorage['name']=response.data.User.name;props.CanLogIn(response.data.User._id);history.push('/App');}else setError(\"One or more of your identification details is incorrect.\");case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"overlay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:\"login_form\",onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"con\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{class:\"head-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Log In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"welcome to  my whatsApp\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"field-set\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{class:\"input-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-user-circle\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{class:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function onChange(e){return setUserName(e.target.value);},required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{class:\"input-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-key\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{class:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function onChange(e){return setPhone(e.target.value);},required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"log-in\",type:\"submit\",children:\" Log In \"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{className:\"submits sign-up defaultLink\",to:\"/Register\",children:[\"     Sign Up\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{style:{margin:'7px'},class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"})]})}),Error]})})});}\n// EXTERNAL MODULE: ./src/css/dashboard.css\nvar css_dashboard = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./src/css/sidebar.css\nvar sidebar = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Chat.js\nvar Chat = __webpack_require__(116);\nvar Chat_default = /*#__PURE__*/__webpack_require__.n(Chat);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/SearchOutlined.js\nvar SearchOutlined = __webpack_require__(119);\nvar SearchOutlined_default = /*#__PURE__*/__webpack_require__.n(SearchOutlined);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(221);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(217);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(216);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Modal/Modal.js + 6 modules\nvar Modal = __webpack_require__(220);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/People.js\nvar People = __webpack_require__(117);\nvar People_default = /*#__PURE__*/__webpack_require__.n(People);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/MoreVert.js\nvar MoreVert = __webpack_require__(118);\nvar MoreVert_default = /*#__PURE__*/__webpack_require__.n(MoreVert);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/contexts/userprovider.js\nvar UserContext=/*#__PURE__*/react_default.a.createContext();function useUser(){return Object(react[\"useContext\"])(UserContext);}function UserProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),info=_useState4[0],setInfo=_useState4[1];var config={'headers':{'x-access-token':sessionStorage['config']}};Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getContacts().then(function(res){return setContacts(res);});case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[setInfo]);function getContacts(){return _getContacts.apply(this,arguments);}function _getContacts(){_getContacts=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var response;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios_default.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],config);case 2:response=_context3.sent;setInfo({id:response.data._id,name:response.data.name,phone:response.data.phone,imageName:response.data.imageName,LastSeen:response.data.LastSeen,Status:response.data.Status});return _context3.abrupt(\"return\",response.data.contacts);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _getContacts.apply(this,arguments);}function getSearchContacts(str){getContacts().then(function(res){var SearchResult=res.filter(function(contact){return contact.name.includes(str)===true;});setContacts(SearchResult);});}var createContact=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(name){var checkIfExists,response,contact,newContacts,UpdatedUser;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(name===info.name)){_context2.next=2;break;}return _context2.abrupt(\"return\",{status:'error',message:'cant Add yourself'});case 2:checkIfExists=contacts.filter(function(contact){return contact.name===name;});if(!(checkIfExists.length!==0)){_context2.next=5;break;}return _context2.abrupt(\"return\",{status:'error',message:'already exists'});case 5:_context2.prev=5;_context2.next=8;return axios_default.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/getByName/\"+name,config);case 8:response=_context2.sent;if(!(response.data!=='no such user')){_context2.next=24;break;}contact={id:response.data._id,phone:response.data.phone,name:response.data.name,imageName:response.data.imageName,Status:response.data.Status};newContacts=[].concat(Object(toConsumableArray[\"a\" /* default */])(contacts),[contact]);setContacts(newContacts);UpdatedUser=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},info),{},{contacts:newContacts});_context2.prev=14;_context2.next=17;return axios_default.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],UpdatedUser,{'headers':{'x-access-token':sessionStorage['config']}});case 17:_context2.next=22;break;case 19:_context2.prev=19;_context2.t0=_context2[\"catch\"](14);console.log(_context2.t0);case 22:_context2.next=25;break;case 24:return _context2.abrupt(\"return\",{status:'error',message:'user doesnt exist'});case 25:_context2.next=30;break;case 27:_context2.prev=27;_context2.t1=_context2[\"catch\"](5);console.log(_context2.t1);case 30:return _context2.abrupt(\"return\",{status:'ok'});case 31:case\"end\":return _context2.stop();}}},_callee2,null,[[5,27],[14,19]]);}));return function createContact(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserContext.Provider,{value:{setContacts:setContacts,setInfo:setInfo,info:info,config:config,contacts:contacts,createContact:createContact,getSearchContacts:getSearchContacts},children:children});}\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(112);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// CONCATENATED MODULE: ./src/contexts/socketprovider.js\nvar SocketContext=/*#__PURE__*/react_default.a.createContext();function useSocket(){return Object(react[\"useContext\"])(SocketContext);}function SocketProvider(_ref){var userId=_ref.userId,children=_ref.children;var socket=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),ConnectedUsers=_useState2[0],setConnectedUsers=_useState2[1];Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:socket.current=build_default()(\"wss://messagesapp1.herokuapp.com:443/\");case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:socket.current.emit(\"AddUser\",sessionStorage['id']);socket.current.on(\"getConnectedUsers\",function(users){setConnectedUsers(users);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}fetchData();},[userId]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext.Provider,{value:{socket:socket,ConnectedUsers:ConnectedUsers},children:children});}\n// CONCATENATED MODULE: ./src/contexts/conversationsprovider.js\nvar ConversationsContext=/*#__PURE__*/react_default.a.createContext();function useConversations(){return Object(react[\"useContext\"])(ConversationsContext);}function ConversationsProvider(_ref){var children=_ref.children;var _useUser=useUser(),contacts=_useUser.contacts,info=_useUser.info;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),conversations=_useState2[0],setConversations=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedConversation=_useState4[0],setSelectedConversation=_useState4[1];var RefConversations=Object(react[\"useRef\"])(conversations);var currentConversationRef=Object(react[\"useRef\"])(selectedConversation);var _useSocket=useSocket(),socket=_useSocket.socket,ConnectedUsers=_useSocket.ConnectedUsers;var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),typingFlag=_useState6[0],setTypingFlag=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),currentConversationIsConnected=_useState8[0],setCurrentConversationIsConnected=_useState8[1];var config={headers:{\"x-access-token\":sessionStorage[\"config\"]}};var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),showDetails=_useState10[0],setShowDetails=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),removedFromGroupFlag=_useState12[0],setRemovedFromGroupFlag=_useState12[1];var audio=new Audio('https://res.cloudinary.com/dsrgpqnyv/video/upload/v1630680168/juntos-607_qsfc7i.mp3');var _useState13=Object(react[\"useState\"])(true),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),renderFlag=_useState14[0],setRenderFlag=_useState14[1];Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(socket.current==null)){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2://when other user updates conversation information, update this user on changes\nsocket.current.on('update-conversation',/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setRenderFlag(true);case 1:case\"end\":return _context.stop();}}},_callee);})));//when user was removed, remove this user from conversation\nsocket.current.on('removed-user',/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:getConversations().then(function(res){setConversations(res);if(selectedConversation){/*if this selected conversation dosn't exists in conversations anymore, this is the deleted user, \r\n          let him know he was deleted and remove this chat from selected conversation*/var checkIfDeleted=res.filter(function(conversation){return conversation._id===selectedConversation._id;});if(checkIfDeleted.length===0)setRemovedFromGroupFlag(true);}});case 1:case\"end\":return _context2.stop();}}},_callee2);})));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchData.apply(this,arguments);}fetchData();},[selectedConversation]);/*everytime a user is connected/dissconnected/ this user entered new conversation,\r\n check if the current conversation user is connected or not*/Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var response;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!selectedConversation){_context4.next=10;break;}if(selectedConversation.isGroup){_context4.next=10;break;}if(!ConnectedUsers.some(function(user){return user.userId===selectedConversation.Participants[0].id;})){_context4.next=6;break;}setCurrentConversationIsConnected('');_context4.next=10;break;case 6:_context4.next=8;return axios_default.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+selectedConversation.Participants[0].id,config);case 8:response=_context4.sent;setCurrentConversationIsConnected(response.data.LastSeen);case 10:case\"end\":return _context4.stop();}}},_callee4);}));return _fetchData2.apply(this,arguments);}fetchData();},[ConnectedUsers,selectedConversation]);//on first render,and every time conversation updates, get new conversations from DB\nObject(react[\"useEffect\"])(function(){function fetchData(){return _fetchData3.apply(this,arguments);}function _fetchData3(){_fetchData3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:getConversations().then(function(res){return setConversations(res);});case 1:case\"end\":return _context5.stop();}}},_callee5);}));return _fetchData3.apply(this,arguments);}if(renderFlag){setRenderFlag(false);fetchData();}},[renderFlag]);//when other user is typing, and this user is on this conversation, let him know other user is typing\nObject(react[\"useEffect\"])(function(){if(socket.current==null)return;socket.current.on('user-typing',function(_ref4){var user=_ref4.user,conversationId=_ref4.conversationId;if(selectedConversation){if(selectedConversation._id===conversationId){setTypingFlag(user.name);}}});},[selectedConversation]);//get updated conversations from DB when needed\nfunction getConversations(){return _getConversations.apply(this,arguments);}//on search event, update shown conversations list\nfunction _getConversations(){_getConversations=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(){var response,ConversationsList;return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return axios_default.a.get(\"https://messagesapp1.herokuapp.com/api/conversations/UserConversations/\"+sessionStorage[\"id\"],config);case 3:response=_context7.sent;ConversationsList=response.data.map(function(conversation){var UpdatedConversation=conversation;/*if this is a private conversation, and the name and picture saved as this user name, \r\n        update the conversation to other user name and picture*/if(!conversation.isGroup&&conversation.Name===sessionStorage['name'])UpdatedConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},UpdatedConversation),{},{Name:conversation.Participants[0].name,ConversationImage:conversation.Participants[0].image});//update the current shown on screen conversation\nif(selectedConversation){if(selectedConversation._id===UpdatedConversation._id)setSelectedConversation(UpdatedConversation);}return UpdatedConversation;});return _context7.abrupt(\"return\",ConversationsList);case 8:_context7.prev=8;_context7.t0=_context7[\"catch\"](0);console.log(_context7.t0);case 11:case\"end\":return _context7.stop();}}},_callee7,null,[[0,8]]);}));return _getConversations.apply(this,arguments);}function getSearchConverastions(_x){return _getSearchConverastions.apply(this,arguments);}//create new conversation\nfunction _getSearchConverastions(){_getSearchConverastions=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee8(str){return regenerator_default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:getConversations().then(function(res){var SearchResult=res.filter(function(conversation){return conversation.Name.includes(str)===true;});setConversations(SearchResult);});case 1:case\"end\":return _context8.stop();}}},_callee8);}));return _getSearchConverastions.apply(this,arguments);}function createConversation(_x2,_x3,_x4,_x5){return _createConversation.apply(this,arguments);}//update existing conversation details when changed \nfunction _createConversation(){_createConversation=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee9(ids,name,image,groupFlag){var ConversationImage,isGroup,messages,lastMessage,ConversationExists,participants,createdDate,parts,data,response,newConversation,Response;return regenerator_default.a.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:ConversationImage=image;isGroup=groupFlag;messages=[];lastMessage='';//no participants chosen\nif(!(ids.length===0)){_context9.next=6;break;}return _context9.abrupt(\"return\",{status:'error',message:'no participants choosen'});case 6://check if conversation already exists and it's not a group.\nConversationExists=null;if(ids.length===1&&!isGroup){ConversationExists=conversations.find(function(conversation){return conversation.Name===name;});}//if already exists, show the existing one\nif(!ConversationExists){_context9.next=12;break;}setSelectedConversation(ConversationExists);//create new conversation\n_context9.next=45;break;case 12://get conversation participants\nparticipants=ids.map(function(id){var addContactToConversation=contacts.filter(function(contact){return id===contact.id;});return addContactToConversation[0];});//add creator to participants\nparticipants.push({id:info.id,name:info.name,phone:info.phone,imageName:info.imageName,LastSeen:info.LastSeen});createdDate='';//if group add creation date,add creation message and upload group picture\nif(!isGroup){_context9.next=34;break;}parts=new Intl.DateTimeFormat('en',{hc:'h12',year:'numeric',month:'2-digit',day:'2-digit',hour:'numeric',minute:'numeric',timeZone:'Asia/Jerusalem'}).formatToParts(new Date()).reduce(function(acc,part){acc[part.type]=part.value;return acc;},Object.create(null));createdDate=\"\".concat(parts.day,\"/\").concat(parts.month,\"/\").concat(parts.year,\" \").concat(parts.hour,\":\").concat(parts.minute);lastMessage={name:\"manager\",message:info.name+\" created this group\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null};messages.push(lastMessage);data=new FormData();data.append('file',ConversationImage);data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");_context9.prev=24;_context9.next=27;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data);case 27:response=_context9.sent;ConversationImage=response.data.url;_context9.next=34;break;case 31:_context9.prev=31;_context9.t0=_context9[\"catch\"](24);console.log(_context9.t0);case 34:newConversation={Name:name,creatorId:sessionStorage[\"id\"],Participants:participants,Messages:messages,LastMessage:lastMessage,ConversationImage:ConversationImage,isGroup:isGroup,createdDate:createdDate,description:\"Add Description\"};//updateDB\n_context9.prev=35;_context9.next=38;return axios_default.a.post(\"https://messagesapp1.herokuapp.com/api/conversations\",newConversation,config);case 38:Response=_context9.sent;if(Response.data.status===\"created\"){setSelectedConversation(Response.data.conversation);//show conversation only if messages sent or if its A group\nif(Response.data.conversation.Messages.length>0||Response.data.conversation.isGroup===true){setConversations(function(prevConversations){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevConversations),[Response.data.conversation]);});socket.current.emit('conversation-changed',Response.data.conversation);}}_context9.next=45;break;case 42:_context9.prev=42;_context9.t1=_context9[\"catch\"](35);console.log(_context9.t1);case 45:case\"end\":return _context9.stop();}}},_callee9,null,[[24,31],[35,42]]);}));return _createConversation.apply(this,arguments);}function UpdateConversation(_x6){return _UpdateConversation.apply(this,arguments);}//add message got from other user to conversation\nfunction _UpdateConversation(){_UpdateConversation=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee10(updatedConversation){var updateDBConv,addCurrentParticipant,participants,response,UpdatedConversations;return regenerator_default.a.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:updateDBConv=Object(objectSpread2[\"a\" /* default */])({},updatedConversation);//if user left the group, dont add him to DB\nif(!updatedConversation.LastMessage.message.includes('left')){addCurrentParticipant={id:info.id,phone:info.phone,name:info.name,image:info.imageName};participants=[].concat(Object(toConsumableArray[\"a\" /* default */])(updatedConversation.Participants),[addCurrentParticipant]);updateDBConv=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},updateDBConv),{},{Participants:participants});}delete updateDBConv._id;_context10.prev=3;_context10.next=6;return axios_default.a.put(\"https://messagesapp1.herokuapp.com/api/conversations/\"+selectedConversation._id,updateDBConv,config);case 6:response=_context10.sent;if(response.data.status==='Updated'){UpdatedConversations=[];if(!updatedConversation.LastMessage.message.includes('left')){setSelectedConversation(updatedConversation);conversations.forEach(function(conversation){if(conversation._id===updatedConversation._id)UpdatedConversations.push(updatedConversation);else UpdatedConversations.push(conversation);});}else{UpdatedConversations=conversations.filter(function(conversation){return conversation._id!==selectedConversation._id;});setSelectedConversation();}//if user where removed by admin, send to user deleted case, so server let him know he was deleted\nif(updatedConversation.LastMessage.message.includes('removed'))socket.current.emit('user-deleted',selectedConversation);else socket.current.emit('conversation-changed',selectedConversation);setConversations(UpdatedConversations);}_context10.next=13;break;case 10:_context10.prev=10;_context10.t0=_context10[\"catch\"](3);console.log(_context10.t0);case 13:case\"end\":return _context10.stop();}}},_callee10,null,[[3,10]]);}));return _UpdateConversation.apply(this,arguments);}var addMessageToConversation=Object(react[\"useCallback\"])(/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(_ref5){var UpdatedConv,ConversationExists,newListOfConversations,newConversation;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:UpdatedConv=_ref5.UpdatedConv;//voice alert\naudio.play();ConversationExists=false;//use refConversations to void infinite loop\nnewListOfConversations=RefConversations.current.map(function(conversation){if(conversation._id===UpdatedConv._id){ConversationExists=true;var newConv=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},conversation),{},{Messages:UpdatedConv.Messages,LastMessage:UpdatedConv.LastMessage});if(currentConversationRef.current){if(currentConversationRef.current._id===UpdatedConv._id)setSelectedConversation(newConv);}return newConv;}else return conversation;});// if this is a new conversation first message, update user conversations\nif(!ConversationExists){if(!UpdatedConv.isGroup){newConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},UpdatedConv),{},{Name:UpdatedConv.Participants[0].name,ConversationImage:UpdatedConv.Participants[0].imageName});setConversations(function(prevConversations){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevConversations),[newConversation]);});}else setConversations(function(prevConversations){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevConversations),[UpdatedConv]);});}else setConversations(newListOfConversations);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x7){return _ref6.apply(this,arguments);};}(),[setConversations]);//handle messages socket\nObject(react[\"useEffect\"])(function(){if(socket.current==null)return;RefConversations.current=conversations;currentConversationRef.current=selectedConversation;socket.current.on(\"receive-message\",addMessageToConversation);return function(){return socket.current.off(\"receive-message\",addMessageToConversation);};},[conversations,selectedConversation]);//update the message sender conversations\nvar updateSenderConversation=function updateSenderConversation(AddMessage){var ConversationExists=false;setSelectedConversation(AddMessage);var newListOfConcversations=conversations.map(function(conversation){if(conversation._id===AddMessage._id){ConversationExists=true;return AddMessage;}else return conversation;});if(ConversationExists){setConversations(newListOfConcversations);}else setConversations(function(prevConversations){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevConversations),[AddMessage]);});};//send new message to chat users\nfunction sendMessage(text,imageFlag,imageURL,recordURL){var parts=new Intl.DateTimeFormat('en',{hc:'h12',year:'numeric',month:'2-digit',day:'2-digit',hour:'numeric',minute:'numeric',timeZone:'Asia/Jerusalem'}).formatToParts(new Date()).reduce(function(acc,part){acc[part.type]=part.value;return acc;},Object.create(null));var time=\"\".concat(parts.day,\"/\").concat(parts.month,\"/\").concat(parts.year,\"  \").concat(parts.hour,\":\").concat(parts.minute);var recordFlag=false;if(recordURL!=null)recordFlag=true;var CurrentMessage={id:info.id,name:info.name,message:text,timeSent:time,containsImage:imageFlag,containsRecord:recordFlag,recordURL:recordURL};if(imageFlag===true)CurrentMessage=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},CurrentMessage),{},{imageURL:imageURL});var sender={id:info.id,phone:info.phone,name:info.name,image:info.imageName};var AddMessage=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},selectedConversation),{},{Messages:[].concat(Object(toConsumableArray[\"a\" /* default */])(selectedConversation.Messages),[CurrentMessage]),LastMessage:CurrentMessage});socket.current.emit(\"send-message\",{sender:sender,UpdatedConversation:AddMessage,conversationId:selectedConversation._id});updateSenderConversation(AddMessage);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ConversationsContext.Provider,{value:{sendMessage:sendMessage,conversations:conversations,createConversation:createConversation,setConversations:setConversations,setSelectedConversation:setSelectedConversation,selectedConversation:selectedConversation,currentConversationIsConnected:currentConversationIsConnected,typingFlag:typingFlag,setTypingFlag:setTypingFlag,getSearchConverastions:getSearchConverastions,showDetails:showDetails,setShowDetails:setShowDetails,UpdateConversation:UpdateConversation,removedFromGroupFlag:removedFromGroupFlag,setRemovedFromGroupFlag:setRemovedFromGroupFlag},children:children});}\n// EXTERNAL MODULE: ./src/css/conversations.css\nvar css_conversations = __webpack_require__(108);\n\n// CONCATENATED MODULE: ./src/components/conversations.js\nfunction Conversations(){var _useConversations=useConversations(),setSelectedConversation=_useConversations.setSelectedConversation,conversations=_useConversations.conversations,setShowDetails=_useConversations.setShowDetails;function handleSelectedConversation(_x){return _handleSelectedConversation.apply(this,arguments);}function _handleSelectedConversation(){_handleSelectedConversation=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(conversation){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setShowDetails(false);setSelectedConversation(conversation);case 2:case\"end\":return _context.stop();}}},_callee);}));return _handleSelectedConversation.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Chats\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"contacts_list\",children:conversations.map(function(conversation,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:function onClick(){return handleSelectedConversation(conversation);},className:\"ChatsListItem\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:conversation.ConversationImage}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatInfo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"user_name\",children:conversation.Name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"user_status\",children:[\" \",conversation.LastMessage.message.slice(0,28),\"... \"]})]})]},index);})})});}\n// CONCATENATED MODULE: ./src/components/contacts.js\nfunction Contacts(_ref){var newConversationCallback=_ref.newConversationCallback,openModalCallback=_ref.openModalCallback;var _useUser=useUser(),info=_useUser.info,contacts=_useUser.contacts;var _useConversations=useConversations(),createConversation=_useConversations.createConversation;function startConversation(_ref2){var id=_ref2.id,name=_ref2.name,image=_ref2.image;var ids=[id];createConversation(ids,name,image,false);newConversationCallback();}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Chats contacts\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"new_chat_title\",children:\"Start New Chat:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{height:'30px',margin:'5px 0px',fontSize:'10px'},onClick:function onClick(){return openModalCallback();},className:\"add_new_Button\",children:\" Create Group \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"contacts_list\",children:contacts.map(function(contact){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ChatsListItem\",onClick:function onClick(){return startConversation({id:contact.id,name:contact.name,image:contact.imageName});},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:contact.imageName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatInfo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{className:\"user_name\",children:[contact.name,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"user_status\",children:[\" \",info.Status.slice(0,25),\"... \"]})]})]});})})]});};\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Close.js\nvar Close = __webpack_require__(20);\nvar Close_default = /*#__PURE__*/__webpack_require__.n(Close);\n\n// EXTERNAL MODULE: ./src/css/addnew.css\nvar addnew = __webpack_require__(109);\n\n// CONCATENATED MODULE: ./src/components/addnewcontact.js\nfunction AddNewContact(_ref){var closeModal=_ref.closeModal;var userNameRef=Object(react[\"useRef\"])();var _useUser=useUser(),createContact=_useUser.createContact;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];function AddContact(){return _AddContact.apply(this,arguments);}function _AddContact(){_AddContact=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var responseStatus;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return createContact(userNameRef.current.value);case 2:responseStatus=_context.sent;if(responseStatus.status==='ok'){closeModal();setError('');}else{setError(responseStatus.message);}case 4:case\"end\":return _context.stop();}}},_callee);}));return _AddContact.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new_contact_border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"add_contact_model\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"title_and_close\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"add_contact_title\",children:\"Add New Contact\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:\"close_add_new\",onClick:function onClick(){return closeModal();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"add_new_contact\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"enter_phone\",children:\"userName:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"add_new_input\",type:\"text\",ref:userNameRef,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"add_new_button\",onClick:AddContact,children:\" Add Contact\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"show_error\",children:error})]})})});}\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ArrowBack.js\nvar ArrowBack = __webpack_require__(48);\nvar ArrowBack_default = /*#__PURE__*/__webpack_require__.n(ArrowBack);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AddAPhoto.js\nvar AddAPhoto = __webpack_require__(37);\nvar AddAPhoto_default = /*#__PURE__*/__webpack_require__.n(AddAPhoto);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/PeopleAlt.js\nvar PeopleAlt = __webpack_require__(69);\nvar PeopleAlt_default = /*#__PURE__*/__webpack_require__.n(PeopleAlt);\n\n// CONCATENATED MODULE: ./src/components/createnewgroup.js\nfunction CreateNewGroup(_ref){var closeModal=_ref.closeModal;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedContactsId=_useState2[0],setSelectedContactsId=_useState2[1];var _useUser=useUser(),contacts=_useUser.contacts;var _useConversations=useConversations(),createConversation=_useConversations.createConversation;var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),groupName=_useState4[0],setGroupName=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),groupImage=_useState6[0],setGroupImage=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),previewImage=_useState8[0],setPreviewImage=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),goToParticipants=_useState10[0],setGoToParticipants=_useState10[1];function createGroup(){createConversation(selectedContactsId,groupName,groupImage,true);closeModal();}function handleCheckboxChange(contactId){if(selectedContactsId.includes(contactId)){setSelectedContactsId(function(prevSelectedContactsId){return prevSelectedContactsId.filter(function(id){return id!==contactId;});});}else{setSelectedContactsId(function(prevSelectedContactsId){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevSelectedContactsId),[contactId]);});}}function handleFileUpload(e){setGroupImage(e.target.files[0]);setPreviewImage(window.URL.createObjectURL(e.target.files[0]));}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new_group_border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"new_conversation new_group\",children:goToParticipants!==true?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"top_new_group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{flex:'1'},className:\"title_and_close\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"add_contact_title\",style:{marginLeft:'85px',paddingRight:'0px'},children:\"Create New Group:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{marginLeft:'45px'},className:\"close_add_new\",onClick:function onClick(){return closeModal();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"})})]}),previewImage?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_group_image\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:previewImage,style:{height:'110px',width:'110px',backgroundColor:'gray',margin:'15px',marginTop:'30px'},children:\"  \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_image_on_hover\",style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'10px'},children:\"Change Image \"})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_group_image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Avatar[\"a\" /* default */],{style:{height:'110px',width:'110px',backgroundColor:'gray',margin:'15px',marginTop:'30px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PeopleAlt_default.a,{style:{position:'absolute',zIndex:'0',opacity:'0.1',height:'80px',width:'80px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'10px'},children:\"add group image\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"group_name\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{padding:'5px',margin:'5px',fontSize:'13px',color:'#fcfcfc'},children:\" Group Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{borderRadius:'10px',border:'none',outline:'none'},onChange:function onChange(e){return setGroupName(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{style:{display:'flex',alignItems:'center',width:'180px',justifyContent:'center'},className:\"add_new_button\",onClick:function onClick(){return setGoToParticipants(true);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowBack_default.a,{style:{margin:'5px'}}),\" Add Members\"]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{flex:'1'},className:\"title_and_close\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"add_contact_title\",style:{marginLeft:'80px',paddingRight:'0px'},children:\"Select Members:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{marginLeft:'40px'},className:\"close_add_new\",onClick:function onClick(){return closeModal();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{overflowY:'overlay',height:'200px'},children:contacts.map(function(contact){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact_item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",value:selectedContactsId.includes(contact.id),id:contact.id,onChange:function onChange(){return handleCheckboxChange(contact.id);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{style:{display:'flex',flexDirection:'row',alignItems:'center',width:'100%'},for:contact.id,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{style:{margin:'5px'},src:\"\"+contact.imageName,fontSize:\"large\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{className:\"enter_phone\",style:{marginLeft:'10px',fontWeight:'400'},children:[contact.name,\" \"]})]})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"add_new_button\",type:\"submit\",onClick:function onClick(){return createGroup();},children:\"Create\"})})]})})})});}/* harmony default export */ var createnewgroup = (CreateNewGroup);\n// EXTERNAL MODULE: ./src/css/profiledetails.css\nvar profiledetails = __webpack_require__(190);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(218);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Edit.js\nvar Edit = __webpack_require__(52);\nvar Edit_default = /*#__PURE__*/__webpack_require__.n(Edit);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Check.js\nvar Check = __webpack_require__(43);\nvar Check_default = /*#__PURE__*/__webpack_require__.n(Check);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/InsertEmoticon.js\nvar InsertEmoticon = __webpack_require__(44);\nvar InsertEmoticon_default = /*#__PURE__*/__webpack_require__.n(InsertEmoticon);\n\n// EXTERNAL MODULE: ./node_modules/emoji-picker-react/dist/index.js\nvar dist = __webpack_require__(42);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// CONCATENATED MODULE: ./src/components/profiledetails.js\nvar useStyles=Object(makeStyles[\"a\" /* default */])({root:{\"&:hover\":{backgroundColor:\"transparent\"}}});function ProfileDetails(_ref){var backToConversations=_ref.backToConversations;var _useUser=useUser(),info=_useUser.info,contacts=_useUser.contacts,setInfo=_useUser.setInfo,config=_useUser.config;var _useConversations=useConversations(),conversations=_useConversations.conversations,setConversations=_useConversations.setConversations;var _useSocket=useSocket(),socket=_useSocket.socket;var _useState=Object(react[\"useState\"])(info.imageName),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),previewImage=_useState2[0],setPreviewImage=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),editNameFlag=_useState4[0],setEditNameFlag=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),editStatusFlag=_useState6[0],setEditStatusFlag=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),emojiFlag=_useState8[0],setEmojiFlag=_useState8[1];var _useState9=Object(react[\"useState\"])(info.name),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),Text=_useState10[0],setText=_useState10[1];var _useState11=Object(react[\"useState\"])(info.status),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),Status=_useState12[0],setStatus=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),statusEmojiFlag=_useState14[0],setStatusEmojiFlag=_useState14[1];var classes=useStyles();//add emoji to name\nvar _onEmojiClick=function onEmojiClick(event,emojiObject){setText(function(prevText){return prevText+emojiObject.emoji;});};//add emoji to status\nvar onStatusEmojiClick=function onStatusEmojiClick(event,emojiObject){setStatus(function(prevStatus){return prevStatus+emojiObject.emoji;});};//change profile picture  \nfunction handleFileUpload(_x){return _handleFileUpload.apply(this,arguments);}function _handleFileUpload(){_handleFileUpload=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var picturePath,data,response,obj,_response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:picturePath='';data=new FormData();data.append('file',e.target.files[0]);data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");_context.prev=5;_context.next=8;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data);case 8:response=_context.sent;picturePath=response.data.url;_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](5);console.log(_context.t0);case 15:obj={name:info.name,phone:info.phone,imageName:picturePath,contacts:contacts,LastSeen:info.lastSeen,Status:info.Status};_context.prev=16;_context.next=19;return axios_default.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],obj,config);case 19:_response=_context.sent;if(_response.data==='Updated')setInfo(obj);_context.next=26;break;case 23:_context.prev=23;_context.t1=_context[\"catch\"](16);console.log(_context.t1);case 26:setPreviewImage(window.URL.createObjectURL(e.target.files[0]));case 27:case\"end\":return _context.stop();}}},_callee,null,[[5,12],[16,23]]);}));return _handleFileUpload.apply(this,arguments);}function changeProfileName(){return _changeProfileName.apply(this,arguments);}function _changeProfileName(){_changeProfileName=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var obj,response,updateConv;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:obj={name:Text,phone:info.phone,imageName:info.imageName,contacts:contacts,LastSeen:info.LastSeen,Status:info.Status};_context3.prev=1;_context3.next=4;return axios_default.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],obj,config);case 4:response=_context3.sent;if(response.data==='Updated'){setInfo(obj);updateConv=[];conversations.map(/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(conversation){var updateCon,newParticipants;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:updateCon='';if(conversation.Name===info.name){updateCon=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},conversation),{},{Name:Text});}else updateCon=Object(objectSpread2[\"a\" /* default */])({},conversation);updateConv.push(updateCon);obj=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},obj),{},{id:sessionStorage['id']});newParticipants=[].concat(Object(toConsumableArray[\"a\" /* default */])(conversation.Participants),[obj]);updateCon=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},updateCon),{},{Participants:newParticipants});delete updateCon._id;_context2.prev=7;_context2.next=10;return axios_default.a.put(\"https://messagesapp1.herokuapp.com/api/conversations/\"+conversation._id,updateCon,config);case 10:_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](7);console.log(_context2.t0);case 15:socket.current.emit('conversation-changed',conversation);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[7,12]]);}));return function(_x2){return _ref2.apply(this,arguments);};}());setConversations(updateConv);}_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);case 11:setEmojiFlag(false);setEditNameFlag(false);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return _changeProfileName.apply(this,arguments);}function changeProfileStatus(){return _changeProfileStatus.apply(this,arguments);}function _changeProfileStatus(){_changeProfileStatus=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var obj,response;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:obj={name:info.name,phone:info.phone,imageName:info.imageName,contacts:contacts,LastSeen:info.LastSeen,Status:Status};_context4.prev=1;_context4.next=4;return axios_default.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],obj,config);case 4:response=_context4.sent;if(response.data==='Updated')setInfo(obj);_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);console.log(_context4.t0);case 11:setStatusEmojiFlag(false);setEditStatusFlag(false);case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return _changeProfileStatus.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"show_details\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"profile_title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"title_and_back_to_conversations\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return backToConversations();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowBack_default.a,{style:{height:'30px',width:'30px'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"title_h2\",children:\" Profile \"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile_details_body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile_pic\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:previewImage,style:{height:'170px',width:'170px',backgroundColor:'gray',margin:'15px',marginTop:'30px'},children:\" \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_image_on_hover\",style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white',curser:'pointer'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'10px'},children:\"Change Picture \"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"profile_details\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"edit_title\",children:\"your name:\"}),editNameFlag?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[emojiFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{onEmojiClick:function onEmojiClick(e,emojiObject){return _onEmojiClick(e,emojiObject);},pickerStyle:{width:'100%',height:'200px'}}):'',/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"edit_group_name\",style:{margin:'10px',padding:'5px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},onClick:function onClick(){return changeProfileName();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},onClick:function onClick(){return setEmojiFlag(!emojiFlag);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input_text\",defaultValue:Text,onChange:function onChange(e){return setText(e.target.value);}})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"edit_details\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setEditNameFlag(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Edit_default.a,{style:{fontSize:'large'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:info.name})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"profile_details\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"edit_title\",children:\"status:\"}),editStatusFlag?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[emojiFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{onEmojiClick:function onEmojiClick(e,emojiObject){return onStatusEmojiClick(e,emojiObject);},pickerStyle:{width:'100%',height:'200px'}}):'',/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"edit_group_name\",style:{margin:'10px',padding:'5px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},onClick:function onClick(){return changeProfileStatus();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},onClick:function onClick(){return setStatusEmojiFlag(!statusEmojiFlag);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input_text\",defaultValue:Status,onChange:function onChange(e){return setStatus(e.target.value);}})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"edit_details\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setEditStatusFlag(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Edit_default.a,{style:{fontSize:'large'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{fontSize:'15px'},children:info.Status})]})]})]})]});}/* harmony default export */ var components_profiledetails = (ProfileDetails);\n// CONCATENATED MODULE: ./src/components/sidebar.js\nfunction SideBar(){var _useState=Object(react[\"useState\"])('conversations'),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),choosenAct=_useState2[0],setChoosenAct=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),modalOpen=_useState4[0],setModalOpen=_useState4[1];var _useUser=useUser(),info=_useUser.info,getSearchContacts=_useUser.getSearchContacts;var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),searchFlag=_useState6[0],setSearchFlag=_useState6[1];var _useConversations=useConversations(),getSearchConverastions=_useConversations.getSearchConverastions;var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),choosenModal=_useState8[0],setChoosenModal=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),openProfileDetailsFlag=_useState10[0],setOpenProfileDetailsFlag=_useState10[1];function handleChange(e){if(choosenAct==='conversations')getSearchConverastions(e.target.value);else getSearchContacts(e.target.value);}function closeModal(){setModalOpen(false);}function openChoosenModal(modalType){setModalOpen(true);setChoosenModal(modalType);}function backToConversationsCallback(){setOpenProfileDetailsFlag(false);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sideBar\",children:openProfileDetailsFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_profiledetails,{backToConversations:backToConversationsCallback}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar_top\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user_profile_pic\",onClick:function onClick(){return setOpenProfileDetailsFlag(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:info.imageName,fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar_top_right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setChoosenAct('conversations');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chat_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{fontSize:\"large\",onClick:function onClick(){return setChoosenAct('contacts');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(People_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreVert_default.a,{})})]})]}),searchFlag?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"activeSearch\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"arrowButton\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setSearchFlag(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowBack_default.a,{fontSize:\"large\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"searchBlock\",type:\"text\",onChange:handleChange})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"searchBar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"searchContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchOutlined_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"search\",type:\"text\",onClick:function onClick(){return setSearchFlag(true);}})]})}),choosenAct==='contacts'?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar_middle\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{fontSize:'10px'},onClick:function onClick(){return openChoosenModal('NEW_CONTACT');},className:\"add_new_Button\",children:\"Add New Contact\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar_bottom\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Contacts,{newConversationCallback:function newConversationCallback(){return setChoosenAct('conversations');},openModalCallback:function openModalCallback(){return openChoosenModal('NEW_GROUP');}})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar_bottom\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Conversations,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{className:\"Modal\",open:modalOpen,onClose:closeModal,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:choosenModal==='NEW_GROUP'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(createnewgroup,{closeModal:closeModal}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddNewContact,{closeModal:closeModal})})})]})});}\n// EXTERNAL MODULE: ./src/css/chat.css\nvar chat = __webpack_require__(110);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/PersonAdd.js\nvar PersonAdd = __webpack_require__(120);\nvar PersonAdd_default = /*#__PURE__*/__webpack_require__.n(PersonAdd);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ExitToApp.js\nvar ExitToApp = __webpack_require__(121);\nvar ExitToApp_default = /*#__PURE__*/__webpack_require__.n(ExitToApp);\n\n// CONCATENATED MODULE: ./src/components/addgroupmember.js\nfunction AddGroupMember(_ref){var closeModal=_ref.closeModal;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedContactsId=_useState2[0],setSelectedContactsId=_useState2[1];var _useUser=useUser(),contacts=_useUser.contacts,info=_useUser.info;var _useConversations=useConversations(),UpdateConversation=_useConversations.UpdateConversation,selectedConversation=_useConversations.selectedConversation;var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),conversationContacts=_useState4[0],setConversationContacts=_useState4[1];//save ids of group participants so they wont show in add to group list\nObject(react[\"useEffect\"])(function(){var ids=[];selectedConversation.Participants.forEach(function(participant){ids.push(participant.id);});setConversationContacts(ids);},[selectedConversation.Participants]);function AddMember(){var newParticipants=[];newParticipants=selectedConversation.Participants;var messages=selectedConversation.Messages;var message='';//add choosen contacts to group participants\ncontacts.forEach(function(contact){if(selectedContactsId.includes(contact.id)){newParticipants.push(contact);message={name:\"manager\",message:info.name+\" added \"+contact.name+\" to the group\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null};messages.push(message);}});var updatedConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},selectedConversation),{},{Participants:newParticipants,Messages:messages,LastMessage:message});UpdateConversation(updatedConversation);closeModal();}//on checkbox Click,if exists- remove from list,if not-add to list\nfunction handleCheckboxChange(contactId){if(selectedContactsId.includes(contactId)){setSelectedContactsId(function(prevSelectedContactsId){return prevSelectedContactsId.filter(function(id){return id!==contactId;});});}else{setSelectedContactsId(function(prevSelectedContactsId){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevSelectedContactsId),[contactId]);});}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new_group_border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"new_conversation new_group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{flex:'1'},className:\"title_and_close\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"add_contact_title\",style:{marginLeft:'80px',paddingRight:'0px'},children:\"Select Members:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{marginLeft:'40px'},className:\"close_add_new\",onClick:function onClick(){return closeModal();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{overflowY:'overlay',height:'200px'},children:contacts.map(function(contact){//show only user contacts that are not in the group\nif(!conversationContacts.includes(contact.id)){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact_item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",value:selectedContactsId.includes(contact.id),id:contact.id,onChange:function onChange(){return handleCheckboxChange(contact.id);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{style:{display:'flex',flexDirection:'row',alignItems:'center',width:'100%'},for:contact.id,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{style:{margin:'5px'},src:\"\"+contact.imageName,fontSize:\"large\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{className:\"enter_phone\",style:{marginLeft:'10px',fontWeight:'400'},children:[contact.name,\" \"]})]})]});}else return'';})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"add_new_button\",type:\"submit\",onClick:function onClick(){return AddMember();},children:\"Add\"})})]})})});}/* harmony default export */ var addgroupmember = (AddGroupMember);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Dialog/Dialog.js + 7 modules\nvar Dialog = __webpack_require__(219);\n\n// CONCATENATED MODULE: ./src/components/showgroupdetails.js\nvar showgroupdetails_useStyles=Object(makeStyles[\"a\" /* default */])({root:{\"&:hover\":{backgroundColor:\"transparent\"}}});function ShowGroupDetails(){var _useConversations=useConversations(),selectedConversation=_useConversations.selectedConversation,createConversation=_useConversations.createConversation,conversations=_useConversations.conversations,setSelectedConversation=_useConversations.setSelectedConversation,UpdateConversation=_useConversations.UpdateConversation;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),EditGroupNameGlag=_useState2[0],setEditGroupNameGlag=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),EditGroupDescriptionGlag=_useState4[0],setEditGroupDescriptionGlag=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),emojiFlag=_useState6[0],setEmojiFlag=_useState6[1];var _useState7=Object(react[\"useState\"])(selectedConversation.Name),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),Text=_useState8[0],setText=_useState8[1];var _useState9=Object(react[\"useState\"])(selectedConversation.description),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),Description=_useState10[0],setDescription=_useState10[1];var _useUser=useUser(),info=_useUser.info;var classes=showgroupdetails_useStyles();var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),modalOpen=_useState12[0],setModalOpen=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),dialogOpen=_useState14[0],setDialogOpen=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),deleteUserDialog=_useState16[0],setDeleteUserDialog=_useState16[1];var _useState17=Object(react[\"useState\"])(),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),userToDelete=_useState18[0],setUserToDelete=_useState18[1];var _useState19=Object(react[\"useState\"])(selectedConversation.ConversationImage),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),previewImage=_useState20[0],setPreviewImage=_useState20[1];Object(react[\"useEffect\"])(function(){setEditGroupNameGlag(false);setEditGroupDescriptionGlag(false);setEmojiFlag(false);},[selectedConversation]);var _onEmojiClick=function onEmojiClick(event,emojiObject){setText(Text+emojiObject.emoji);};var onDescriptionEmojiClick=function onDescriptionEmojiClick(event,emojiObject){setDescription(Description+emojiObject.emoji);};function changeGroupName(){var message={name:\"manager\",message:info.name+\" changed group name to \"+Text,timeSent:'',containsImage:false,containsRecord:false,recordURL:null};var messages=selectedConversation.Messages;messages.push(message);var updatedConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},selectedConversation),{},{Name:Text,Messages:messages,LastMasage:message});UpdateConversation(updatedConversation);setEditGroupNameGlag(false);}function openConversation(participant){var existsFlag=false;conversations.forEach(function(conversation){if(conversation.isGroup===false&&conversation.Participants[0].id===participant.id){existsFlag=true;setSelectedConversation(conversation);}});if(!existsFlag){var participantId=[];participantId.push(participant.id);createConversation(participantId,participant.name,participant.imageName,false);}}function changeGroupDescription(){var message={name:\"manager\",message:info.name+\" changed group Description\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null};var messages=selectedConversation.Messages;messages.push(message);var updatedConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},selectedConversation),{},{description:Description,Messages:messages,LastMessage:message});UpdateConversation(updatedConversation);setEditGroupDescriptionGlag(false);}function removeFromGroup(){var message={name:\"manager\",message:info.name+\" left the group\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null};var messages=selectedConversation.Messages;messages.push(message);var updatedConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},selectedConversation),{},{Messages:messages,LastMessage:message});UpdateConversation(updatedConversation);setDialogOpen(false);}function beforeDeleteUser(participant){setUserToDelete(participant);setDeleteUserDialog(true);}function removeUserFromGroup(){var messages=selectedConversation.Messages;var message={name:\"manager\",message:info.name+\" removed \"+userToDelete.name+\" from the group \",timeSent:'',containsImage:false,containsRecord:false,recordURL:null};messages.push(message);var participants=selectedConversation.Participants.filter(function(participant){return participant.id!==userToDelete.id;});var updatedConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},selectedConversation),{},{Participants:participants,Messages:messages,LastMessage:message});UpdateConversation(updatedConversation);setUserToDelete();setDeleteUserDialog(false);}function closeModal(){setModalOpen(false);}function handleFileUpload(_x){return _handleFileUpload.apply(this,arguments);}function _handleFileUpload(){_handleFileUpload=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var picturePath,data,response,messages,message,updatedConversation;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setPreviewImage(window.URL.createObjectURL(e.target.files[0]));picturePath='';data=new FormData();data.append('file',e.target.files[0]);data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");_context.prev=6;_context.next=9;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data);case 9:response=_context.sent;picturePath=response.data.url;_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](6);console.log(_context.t0);case 16:messages=selectedConversation.Messages;message={name:\"manager\",message:info.name+\" changed group picture\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null};messages.push(message);updatedConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},selectedConversation),{},{ConversationImage:picturePath,Messages:messages,LastMessage:message});UpdateConversation(updatedConversation);case 21:case\"end\":return _context.stop();}}},_callee,null,[[6,13]]);}));return _handleFileUpload.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user_info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_group_image\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:previewImage,style:{height:'150px',width:'150px',backgroundColor:'gray',margin:'15px',marginTop:'30px'},children:\" \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_image_on_hover\",style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white',curser:'pointer'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'10px'},children:\"Change Picture \"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"name_and_lastSeen\",children:[EditGroupNameGlag?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexDirection:'column'},children:[emojiFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{onEmojiClick:function onEmojiClick(e,emojiObject){return _onEmojiClick(e,emojiObject);},pickerStyle:{width:'100%',height:'200px'}}):'',/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"edit_group_name\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},onClick:function onClick(){return changeGroupName();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},onClick:function onClick(){return setEmojiFlag(!emojiFlag);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input_text\",defaultValue:Text,onChange:function onChange(e){return setText(e.target.value);}})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"group_title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:selectedConversation.Name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setEditGroupNameGlag(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Edit_default.a,{style:{fontSize:'large',marginLeft:'10px'}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"lastSeen\",style:{padding:'10px',paddingLeft:'0px'},children:[\" created at:  \",selectedConversation.createdDate,\" \"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"group_details_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"group_title\",style:{padding:'5px'},children:\" Description \"}),EditGroupDescriptionGlag?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexDirection:'column'},children:[emojiFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{onEmojiClick:function onEmojiClick(e,emojiObject){return onDescriptionEmojiClick(e,emojiObject);},pickerStyle:{width:'100%',height:'200px'}}):'',/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"edit_group_name\",style:{padding:'5px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},onClick:function onClick(){return changeGroupDescription();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},onClick:function onClick(){return setEmojiFlag(!emojiFlag);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input_text\",defaultValue:Description,onChange:function onChange(e){return setDescription(e.target.value);}})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"group_description_edit\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'15px',marginRight:'5px'},children:selectedConversation.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setEditGroupDescriptionGlag(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Edit_default.a,{style:{fontSize:'large'}})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"group_details_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{className:\"group_title\",style:{padding:'10px',borderBottom:'1px solid #B0B0B0'},children:[selectedConversation.Participants.length+1,\" participants\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{className:\"Modal\",open:modalOpen,onClose:closeModal,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(addgroupmember,{closeModal:closeModal})}),selectedConversation.creatorId===sessionStorage['id']?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"participant\",style:{cursor:'pointer',fontSize:'15px'},onClick:function onClick(){return setModalOpen(true);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PersonAdd_default.a,{fontSize:\"large\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"group_participant_name\",children:\"Add Member\"})]}):'',selectedConversation.Participants.map(function(participant,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"participant\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:function onClick(){return openConversation(participant);},style:{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center',cursor:'pointer'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:participant.imageName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"group_participant_name\",children:participant.name}),participant.id===selectedConversation.creatorId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"group_admin\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{fontSize:'13px'},children:\"Group Manager\"})}):'']})]}),sessionStorage['id']===selectedConversation.creatorId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return beforeDeleteUser(participant);},style:{padding:'3px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"medium\"})}):'']},index);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"participant\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:info.imageName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"group_participant_name\",children:info.name}),sessionStorage['id']===selectedConversation.creatorId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"group_admin\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{fontSize:'13px'},children:\"Group Manager\"})}):'']})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"group_details_container leave\",onClick:function onClick(){return setDialogOpen(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"leaveGroup\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:classes.root,style:{padding:'3px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ExitToApp_default.a,{style:{color:'darkred'},fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"group_participant_name\",style:{color:'darkRed',fontSize:'17px'},children:\"leave Group\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dialog[\"a\" /* default */],{className:\"exit_group_dialog\",onClose:function onClose(){return setDialogOpen(false);},open:dialogOpen,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'10px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"dialog_title\",children:\" are you sure you want to leave this group?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dialog_options_buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"dialog_button\",onClick:function onClick(){return removeFromGroup();},children:\"yes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"dialog_button\",onClick:function onClick(){return setDialogOpen(false);},children:\"no\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dialog[\"a\" /* default */],{className:\"exit_group_dialog\",onClose:function onClose(){return setDeleteUserDialog(false);},open:deleteUserDialog,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'10px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"dialog_title\",children:\" are you sure you want to delete this user?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dialog_options_buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"dialog_button\",onClick:function onClick(){return removeUserFromGroup();},children:\"yes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"dialog_button\",onClick:function onClick(){return setDeleteUserDialog(false);},children:\"no\"})]})]})})]});}/* harmony default export */ var showgroupdetails = (ShowGroupDetails);\n// CONCATENATED MODULE: ./src/components/showuserdetails.js\nfunction ShowUserDetails(_ref){var privateConversationHeader=_ref.privateConversationHeader;var _useConversations=useConversations(),selectedConversation=_useConversations.selectedConversation;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),pictureDialogOpen=_useState2[0],setPictureDialogOpen=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user_info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:function onClick(){return setPictureDialogOpen(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:selectedConversation.ConversationImage,style:{margin:'20px',height:'150px',width:'150px'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dialog[\"a\" /* default */],{className:\"open_picture_dialog\",onClose:function onClose(){return setPictureDialogOpen(false);},open:pictureDialogOpen,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:selectedConversation.ConversationImage,alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"name_and_lastSeen\",style:{paddingBottom:'0px'},children:[console.log('here'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"group_title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:selectedConversation.Name})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"lastSeen\",style:{padding:'10px',paddingLeft:'0px'},children:privateConversationHeader()})]})]});}/* harmony default export */ var showuserdetails = (ShowUserDetails);\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Mic.js\nvar Mic = __webpack_require__(124);\nvar Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Image.js\nvar Image = __webpack_require__(123);\nvar Image_default = /*#__PURE__*/__webpack_require__.n(Image);\n\n// EXTERNAL MODULE: ./node_modules/react-media-recorder/index.js\nvar react_media_recorder = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./src/components/message.js\nfunction Message(_ref){var sender=_ref.sender,message=_ref.message;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),SelectedImageURL=_useState4[0],setSelectedImageURL=_useState4[1];function openImage(URL){setModalOpen(true);setSelectedImageURL(URL);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:sender,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"image_and_sender\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sender\",children:message.name}),message.containsImage?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"image_in_message\",src:message.imageURL,alt:\"\",onClick:function onClick(){return openImage(message.imageURL);},width:\"200px\",height:\"200px\"}):'']}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message_and_time\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message_content\",children:message.message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message_time_border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message_time\",children:message.timeSent.substring(11,17)})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dialog[\"a\" /* default */],{onClose:function onClose(){return setModalOpen(false);},open:modalOpen,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:SelectedImageURL,alt:\"\"})})]})});}/* harmony default export */ var components_message = (Message);\n// EXTERNAL MODULE: ./src/css/audiomessage.css\nvar audiomessage = __webpack_require__(192);\n\n// CONCATENATED MODULE: ./src/components/audiomessage.js\nfunction AudioMessage(_ref){var message=_ref.message,sender=_ref.sender,image=_ref.image;var messageColor=sender.includes('chat_reciever')?'reciever':'sender';return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:sender,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message_with_audio\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:messageColor,children:[sender===\"message_out\"?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"audio_and_avatar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{controls:true,controlsList:\"nodownload\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"source\",{src:message.recordURL,type:\"audio/mp3\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:image,style:{height:'50px',width:'50px',margin:'5px'}})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"audio_and_avatar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:image,style:{height:'50px',width:'50px',margin:'5px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{controls:true,controlsList:\"nodownload\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"source\",{src:message.recordURL,type:\"audio/mp3\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message_time\",children:message.timeSent.substring(11,17)})]})})});}/* harmony default export */ var components_audiomessage = (AudioMessage);\n// CONCATENATED MODULE: ./src/components/chatbody.js\nfunction ChatBody(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),Text=_useState2[0],setText=_useState2[1];var _useSocket=useSocket(),socket=_useSocket.socket;var _useUser=useUser(),info=_useUser.info;var _useConversations=useConversations(),sendMessage=_useConversations.sendMessage,selectedConversation=_useConversations.selectedConversation,removedFromGroupFlag=_useConversations.removedFromGroupFlag,setRemovedFromGroupFlag=_useConversations.setRemovedFromGroupFlag,setSelectedConversation=_useConversations.setSelectedConversation;var inputRef=Object(react[\"useRef\"])(null);var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),emojiFlag=_useState4[0],setEmojiFlag=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),recordFlag=_useState6[0],setRecordFlag=_useState6[1];var _useReactMediaRecorde=Object(react_media_recorder[\"useReactMediaRecorder\"])({audio:true}),startRecording=_useReactMediaRecorde.startRecording,stopRecording=_useReactMediaRecorde.stopRecording,mediaBlobUrl=_useReactMediaRecorde.mediaBlobUrl,clearBlobUrl=_useReactMediaRecorde.clearBlobUrl;var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),audioBlob=_useState8[0],setAudioBlob=_useState8[1];//make messages scrolling down when message sent\nvar setRef=Object(react[\"useCallback\"])(function(node){if(node)node.scrollIntoView({smooth:true});},[]);Object(react[\"useEffect\"])(function(){setEmojiFlag(false);},[selectedConversation]);//when audio message sent, upload it to cloudinary and send it to conversation participants\nObject(react[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var audio,data,response,recordURL;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(audioBlob!=null)){_context.next=25;break;}_context.next=3;return fetch(mediaBlobUrl).then(function(res){return res.blob();});case 3:audio=_context.sent;data=new FormData();data.append('file',audio);data.append('resource_type','video');data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");_context.prev=9;_context.next=12;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/video/upload\",data);case 12:response=_context.sent;recordURL=response.data.url;recordURL=recordURL.slice(0,-4);recordURL+='mp3';setRecordFlag(false);clearBlobUrl();sendMessage(Text,null,null,recordURL);setRecordFlag(false);_context.next=25;break;case 22:_context.prev=22;_context.t0=_context[\"catch\"](9);console.log(_context.t0);case 25:case\"end\":return _context.stop();}}},_callee,null,[[9,22]]);}));return _fetchData.apply(this,arguments);}fetchData();},[audioBlob]);//when typing, let conversation participants know\nfunction typing(e){setText(e.target.value);if(socket.current==null)return;socket.current.emit(\"typing\",{user:info,Conversation:selectedConversation});}//send message to conversation participants\nfunction handleSubmit(e){e.preventDefault();sendMessage(Text,false,null,null);setText(' ');}//upload image to cloudinary\nfunction handleImage(_x){return _handleImage.apply(this,arguments);}//when record start\nfunction _handleImage(){_handleImage=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(e){var data,response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data=new FormData();data.append('file',e.target.files[0]);data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");_context2.prev=4;_context2.next=7;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data);case 7:response=_context2.sent;props.imageCallback(response.data.url);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](4);console.log(_context2.t0);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[4,11]]);}));return _handleImage.apply(this,arguments);}function recordStart(){setRecordFlag(true);startRecording();}//when record sent\nfunction handleRecord(){return _handleRecord.apply(this,arguments);}//when record canceled\nfunction _handleRecord(){_handleRecord=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var res;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:stopRecording();_context3.next=3;return fetch(mediaBlobUrl);case 3:res=_context3.sent;setAudioBlob(res.blob());case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _handleRecord.apply(this,arguments);}function cancelRecord(){stopRecording();clearBlobUrl();setRecordFlag(false);}//when recording, show recording div\nfunction updateRecordingDiv(){var recordDiv=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\",style:{color:'red'},onClick:cancelRecord})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{fontSize:\"large\",style:{color:'green'},onClick:handleRecord})})]});return recordDiv;}//if removed from group when group chat is on, dont show this group chat\nfunction handleRemovedFromGroup(){setRemovedFromGroupFlag(false);setSelectedConversation();}//add emoji to message\nvar _onEmojiClick=function onEmojiClick(event,emojiObject){setText(Text+emojiObject.emoji);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"body_and_footer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat_body\",children:selectedConversation.Messages.map(function(message,index){var lastMessage=selectedConversation.Messages.length-1===index;var sender='';sender=message.name==='manager'?'manager':message.id===sessionStorage['id']?'message_out':'message_in';var image=message.id===sessionStorage['id']?info.imageName:selectedConversation.ConversationImage;var choosenClass=sender==='message_in'?'chat_message chat_sender':' chat_message chat_reciever';return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:sender==='manager'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"around_message\",ref:lastMessage?setRef:null,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"manager_message\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message_content\",children:message.message})})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:choosenClass,ref:lastMessage?setRef:null,children:message.containsRecord?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_audiomessage,{message:message,sender:sender,image:image}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_message,{sender:sender,message:message})},index)},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_footer_with_stickers\",children:[emojiFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{onEmojiClick:function onEmojiClick(e,emojiObject){return _onEmojiClick(e,emojiObject);},pickerStyle:{width:'100%'}}):'',/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_footer\",children:[emojiFlag?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setEmojiFlag(false);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"}),\" \"]}):'',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setEmojiFlag(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",className:\"invisibleInput\",id:\"icon-button-file\",type:\"file\",style:{visibility:'hidden'},onChange:handleImage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"icon-button-file\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{component:\"span\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image_default.a,{fontSize:\"large\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,className:\"message_section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"message_input\",ref:inputRef,value:Text,onChange:typing,type:\"text\",placeholder:\"type a message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\" send \"})]}),recordFlag?updateRecordingDiv():/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:recordStart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic_default.a,{fontSize:\"large\"})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dialog[\"a\" /* default */],{className:\"exit_group_dialog\",open:removedFromGroupFlag,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'10px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"dialog_title\",children:\" you where removed from this group\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dialog_options_buttons\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"dialog_button\",onClick:function onClick(){return handleRemovedFromGroup();},children:\"ok\"})})]})})]});}/* harmony default export */ var chatbody = (ChatBody);\n// EXTERNAL MODULE: ./src/css/sendimagebody.css\nvar sendimagebody = __webpack_require__(193);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Send.js\nvar Send = __webpack_require__(125);\nvar Send_default = /*#__PURE__*/__webpack_require__.n(Send);\n\n// CONCATENATED MODULE: ./src/components/sendimagebody.js\nfunction SendImageBody(props){var inputRef=Object(react[\"useRef\"])(null);var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),Text=_useState2[0],setText=_useState2[1];var _useSocket=useSocket(),socket=_useSocket.socket;var _useUser=useUser(),info=_useUser.info;var _useConversations=useConversations(),sendMessage=_useConversations.sendMessage,selectedConversation=_useConversations.selectedConversation;function handleSubmit(imageFlag){if(imageFlag===true)sendMessage(Text,true,props.imageURL);setText(' ');props.backToChat();}function typing(e){setText(e.target.value);if(socket.current==null)return;socket.current.emit(\"typing\",{user:info,Conversation:selectedConversation});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"SendImage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sendImageHeader\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{type:\"submit\",onClick:function onClick(){return handleSubmit(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:props.imageURL,alt:\"\",height:\"300px\",width:\"300px\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_message\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:function onSubmit(){return handleSubmit(true);},className:\"message_section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{type:\"submit\",style:{flex:'0.1'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Send_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"message_input\",ref:inputRef,value:Text,onChange:typing,type:\"text\",placeholder:\"type a message\"})]})})]});}/* harmony default export */ var components_sendimagebody = (SendImageBody);\n// CONCATENATED MODULE: ./src/components/chat.js\nfunction chat_Chat(){var _useConversations=useConversations(),selectedConversation=_useConversations.selectedConversation,currentConversationIsConnected=_useConversations.currentConversationIsConnected,typingFlag=_useConversations.typingFlag,setTypingFlag=_useConversations.setTypingFlag,showDetails=_useConversations.showDetails,setShowDetails=_useConversations.setShowDetails;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageFlag=_useState2[0],setImageFlag=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),imageURL=_useState4[0],setImageURL=_useState4[1];//check if user is connected/disconnected/typing\nvar privateConversationHeader=function privateConversationHeader(){var returnValue='';if(currentConversationIsConnected===''){if(typingFlag!==''){returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"lastSeen\",children:\" typing...\"});setTimeout(function(){return setTypingFlag('');},1000);}else returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"connected\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"circle\"}),\" online \"]});}else returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"lastSeen\",children:currentConversationIsConnected});return returnValue;};var groupheader=function groupheader(){var returnValue='';if(typingFlag!==''){returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"lastSeen\",children:[\" \",typingFlag,\" is typing...\"]});setTimeout(function(){return setTypingFlag('');},1000);}else{var UsersInGroup='';selectedConversation.Participants.forEach(function(participant,index){if(index===selectedConversation.Participants.length-1)UsersInGroup=UsersInGroup+participant.name;else UsersInGroup=UsersInGroup+participant.name+', ';});returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"lastSeen\",children:[UsersInGroup,\" \"]});}return returnValue;};function chatBodyCallback(image){setImageURL(image);setImageFlag(true);}function backToChatCallback(){setImageURL(null);setImageFlag(false);}var chatSide=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_header\",onClick:function onClick(){return setShowDetails(true);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:selectedConversation.ConversationImage}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_header_info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{style:{fontSize:'20px'},children:[\" \",selectedConversation.Name,\" \"]}),selectedConversation.isGroup?groupheader():privateConversationHeader()]})]}),imageFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_sendimagebody,{imageURL:imageURL,backToChat:backToChatCallback}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chatbody,{imageCallback:chatBodyCallback})]});return showDetails?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_with_details\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat narrow_chat\",children:chatSide}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_details\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_details_top \",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setShowDetails(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{style:{paddingLeft:'10px',fontSize:'22px'},children:selectedConversation.isGroup?'Group Details:':'Contact Details:'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat_details_body\",children:selectedConversation.isGroup?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(showgroupdetails,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(showuserdetails,{privateConversationHeader:privateConversationHeader})})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat\",children:chatSide});}\n// CONCATENATED MODULE: ./src/components/dashboard.js\n/* harmony default export */ var components_dashboard = (Object(react_router[\"h\" /* withRouter */])(function Dashboard(_ref){var id=_ref.id;var _useConversations=useConversations(),selectedConversation=_useConversations.selectedConversation;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dashboard\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard_body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideBar,{}),selectedConversation!==undefined?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chat_Chat,{id:id}):'']})});}));\n// CONCATENATED MODULE: ./src/components/register.js\nfunction Register(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),phone=_useState2[0],setPhone=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),Picture=_useState6[0],setPicture=_useState6[1];var history=Object(react_router[\"g\" /* useHistory */])();var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),previewImage=_useState10[0],setPreviewImage=_useState10[1];//get user information and token from DB\nfunction handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var picturePath,data,response,obj,_response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();picturePath='';if(!Picture){_context.next=17;break;}data=new FormData();data.append('file',Picture);data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");_context.prev=7;_context.next=10;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data);case 10:response=_context.sent;picturePath=response.data.url;_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](7);console.log(_context.t0);case 17:obj={name:name,phone:phone,imageName:picturePath,contacts:[],LastSeen:'last seen at...',Status:\"hello,i'm using Message-App!\"};_context.prev=18;_context.next=21;return axios_default.a.post(\"https://messagesapp1.herokuapp.com/api/logIn/Register\",obj);case 21:_response=_context.sent;if(_response.data.status==='error'){setError(_response.data.message);}else{sessionStorage['config']=_response.data.token;sessionStorage['id']=_response.data.User._id;sessionStorage['name']=_response.data.User.name;props.CanLogIn(_response.data.User._id);history.push('/App');}_context.next=28;break;case 25:_context.prev=25;_context.t1=_context[\"catch\"](18);console.log(_context.t1);case 28:case\"end\":return _context.stop();}}},_callee,null,[[7,14],[18,25]]);}));return _handleSubmit.apply(this,arguments);}function handleFileUpload(e){setPicture(e.target.files[0]);setPreviewImage(window.URL.createObjectURL(e.target.files[0]));}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"overlay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:\"login_form\",onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"con\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"head-form\",style:{marginBottom:'0px',paddingBottom:'0px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"welcome to  my whatsApp\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"field-set\",children:[previewImage?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_group_image\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:previewImage,style:{height:'110px',width:'110px',backgroundColor:'gray',margin:'15px',marginTop:'30px'},children:\" \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_image_on_hover\",style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white',curser:'pointer'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'10px'},children:\"Change Picture \"})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_Profile_Picture\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Avatar[\"a\" /* default */],{style:{height:'140px',width:'140px',backgroundColor:'gray',margin:'15px',marginTop:'30px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PeopleAlt_default.a,{style:{position:'absolute',zIndex:'0',opacity:'0.1',height:'80px',width:'80px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white',curser:'pointer'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'10px'},children:\"Add Profile Picture\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"input-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-user-circle\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function onChange(e){return setName(e.target.value);},required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"input-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-key\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function onChange(e){return setPhone(e.target.value);},required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"log-in\",type:\"submit\",children:\" Register \"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{className:\"submits sign-up defaultLink\",to:\"/\",children:[\"    \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{style:{margin:'7px'},class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"}),\"back to Log In\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'15px'},children:error})]})})});}/* harmony default export */ var register = (Register);\n// EXTERNAL MODULE: ./src/css/app.css\nvar app = __webpack_require__(194);\n\n// CONCATENATED MODULE: ./src/components/App.js\nfunction App(){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),id=_useState2[0],setId=_useState2[1];var dashboard=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketProvider,{userId:id,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProvider,{id:id,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ConversationsProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_dashboard,{id:id})})})});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[sessionStorage['id'],/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn,{CanLogIn:setId})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{path:\"/Register\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(register,{CanLogIn:setId})]}),sessionStorage['id']?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/App\",children:[\" \",dashboard,\" \"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]})})});}/* harmony default export */ var components_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 81:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[195,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\conversations.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\addnew.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\chat.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\dashboard.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\profiledetails.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\audiomessage.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\sendimagebody.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\app.css","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/login.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/contexts/userprovider.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/contexts/socketprovider.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/contexts/conversationsprovider.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/conversations.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/contacts.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/addnewcontact.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/createnewgroup.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/profiledetails.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/sidebar.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/addgroupmember.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/showgroupdetails.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/showuserdetails.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/message.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/audiomessage.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/chatbody.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/sendimagebody.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/chat.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/dashboard.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/register.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/App.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/index.js","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\sidebar.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\login.css"],"names":["LogIn","props","useState","phone","setPhone","UserName","setUserName","Error","setError","history","useHistory","handleSubmit","e","preventDefault","obj","name","axios","post","response","data","sessionStorage","token","User","_id","CanLogIn","push","target","value","margin","UserContext","React","createContext","useUser","useContext","UserProvider","children","contacts","setContacts","info","setInfo","config","useEffect","fetchData","getContacts","then","res","get","id","imageName","LastSeen","Status","getSearchContacts","str","SearchResult","filter","contact","includes","createContact","status","message","checkIfExists","length","newContacts","UpdatedUser","put","console","log","SocketContext","useSocket","SocketProvider","userId","socket","useRef","ConnectedUsers","setConnectedUsers","current","io","emit","on","users","ConversationsContext","useConversations","ConversationsProvider","conversations","setConversations","selectedConversation","setSelectedConversation","RefConversations","currentConversationRef","typingFlag","setTypingFlag","currentConversationIsConnected","setCurrentConversationIsConnected","headers","showDetails","setShowDetails","removedFromGroupFlag","setRemovedFromGroupFlag","audio","Audio","renderFlag","setRenderFlag","getConversations","checkIfDeleted","conversation","isGroup","some","user","Participants","conversationId","ConversationsList","map","UpdatedConversation","Name","ConversationImage","image","getSearchConverastions","createConversation","ids","groupFlag","messages","lastMessage","ConversationExists","find","participants","addContactToConversation","createdDate","parts","Intl","DateTimeFormat","hc","year","month","day","hour","minute","timeZone","formatToParts","Date","reduce","acc","part","type","Object","create","timeSent","containsImage","containsRecord","recordURL","FormData","append","url","newConversation","creatorId","Messages","LastMessage","description","Response","prevConversations","UpdateConversation","updatedConversation","updateDBConv","addCurrentParticipant","UpdatedConversations","forEach","addMessageToConversation","useCallback","UpdatedConv","play","newListOfConversations","newConv","off","updateSenderConversation","AddMessage","newListOfConcversations","sendMessage","text","imageFlag","imageURL","time","recordFlag","CurrentMessage","sender","Conversations","handleSelectedConversation","index","slice","Contacts","newConversationCallback","openModalCallback","startConversation","height","fontSize","AddNewContact","closeModal","userNameRef","error","AddContact","responseStatus","CreateNewGroup","selectedContactsId","setSelectedContactsId","groupName","setGroupName","groupImage","setGroupImage","previewImage","setPreviewImage","goToParticipants","setGoToParticipants","createGroup","handleCheckboxChange","contactId","prevSelectedContactsId","handleFileUpload","files","window","URL","createObjectURL","flex","marginLeft","paddingRight","width","backgroundColor","marginTop","display","flexDirection","alignItems","position","zIndex","color","opacity","padding","borderRadius","border","outline","justifyContent","overflowY","process","fontWeight","useStyles","makeStyles","root","ProfileDetails","backToConversations","editNameFlag","setEditNameFlag","editStatusFlag","setEditStatusFlag","emojiFlag","setEmojiFlag","Text","setText","setStatus","statusEmojiFlag","setStatusEmojiFlag","classes","onEmojiClick","event","emojiObject","prevText","emoji","onStatusEmojiClick","prevStatus","picturePath","lastSeen","changeProfileName","updateConv","updateCon","newParticipants","changeProfileStatus","curser","SideBar","choosenAct","setChoosenAct","modalOpen","setModalOpen","searchFlag","setSearchFlag","choosenModal","setChoosenModal","openProfileDetailsFlag","setOpenProfileDetailsFlag","handleChange","openChoosenModal","modalType","backToConversationsCallback","AddGroupMember","conversationContacts","setConversationContacts","participant","AddMember","ShowGroupDetails","EditGroupNameGlag","setEditGroupNameGlag","EditGroupDescriptionGlag","setEditGroupDescriptionGlag","Description","setDescription","dialogOpen","setDialogOpen","deleteUserDialog","setDeleteUserDialog","userToDelete","setUserToDelete","onDescriptionEmojiClick","changeGroupName","LastMasage","openConversation","existsFlag","participantId","changeGroupDescription","removeFromGroup","beforeDeleteUser","removeUserFromGroup","paddingLeft","marginRight","borderBottom","cursor","flexGrow","ShowUserDetails","privateConversationHeader","pictureDialogOpen","setPictureDialogOpen","paddingBottom","Message","SelectedImageURL","setSelectedImageURL","openImage","substring","AudioMessage","messageColor","ChatBody","inputRef","setRecordFlag","useReactMediaRecorder","startRecording","stopRecording","mediaBlobUrl","clearBlobUrl","audioBlob","setAudioBlob","setRef","node","scrollIntoView","smooth","fetch","blob","typing","Conversation","handleImage","imageCallback","recordStart","handleRecord","cancelRecord","updateRecordingDiv","recordDiv","handleRemovedFromGroup","choosenClass","visibility","SendImageBody","backToChat","Chat","setImageFlag","setImageURL","returnValue","setTimeout","groupheader","UsersInGroup","chatBodyCallback","backToChatCallback","chatSide","withRouter","Dashboard","undefined","Register","setName","Picture","setPicture","marginBottom","App","setId","dashboard","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React,{useState} from 'react'\r\nimport '../css/login.css'\r\nimport axios from 'axios'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport 'font-awesome/css/font-awesome.min.css';\r\n\r\n\r\n\r\n\r\nexport default function LogIn(props) \r\n{\r\n\r\n  const [phone,setPhone] = useState('');\r\n  const [UserName,setUserName] = useState('');\r\n  const [Error,setError] = useState('')\r\n  const history=useHistory();\r\n\r\n  //get user information and token from DB\r\n  async function handleSubmit(e)\r\n  {\r\n    setError('')\r\n    e.preventDefault()\r\n    let obj = {name: UserName,phone: phone}\r\n    let response = await axios.post(\"https://messagesapp1.herokuapp.com/api/logIn\",obj)\r\n\r\n    if(response.data !== \"not found\")\r\n    {\r\n      sessionStorage['config']= response.data.token \r\n      sessionStorage['id'] = response.data.User._id\r\n      sessionStorage['name'] = response.data.User.name\r\n      props.CanLogIn(response.data.User._id)\r\n\r\n       history.push('/App')\r\n\r\n    }\r\n        \r\n    else\r\n      setError(\"One or more of your identification details is incorrect.\")\r\n\r\n  }\r\n\r\n  return (\r\n  \r\n    <div class=\"overlay\">\r\n      <form className='login_form' onSubmit={handleSubmit}>\r\n        <div class=\"con\">\r\n          <header class=\"head-form\">\r\n            <h2>Log In</h2>\r\n            <p>welcome to  my whatsApp</p>\r\n          </header>\r\n          <div class=\"field-set\">\r\n            <span class=\"input-item\">\r\n              <i class=\"fa fa-user-circle\"></i>\r\n              <input class=\"form-input\" id=\"txt-input\" type=\"text\" placeholder=\"@UserName\" onChange={(e)=> setUserName(e.target.value)} required />\r\n            </span>\r\n            <span class=\"input-item\">\r\n              <i class=\"fa fa-key\"></i>\r\n              <input class=\"form-input\" type=\"password\" placeholder=\"Password\" id=\"pwd\"  name=\"password\" onChange={(e)=> setPhone(e.target.value)} required/>\r\n            </span>\r\n            <button className=\"log-in\" type='submit'> Log In </button>\r\n          </div>\r\n          <div>\r\n            <Link  className=\"submits sign-up defaultLink\" to={`/Register`}>     Sign Up<i style={{margin:'7px'}}class=\"fa fa-user-plus\" aria-hidden=\"true\"/></Link>\r\n          </div>\r\n          {Error}\r\n        </div>\r\n      </form>\r\n    </div>    \r\n  )\r\n}\r\n","\r\nimport React, { useState ,useEffect, useContext} from 'react'\r\nimport axios from 'axios'\r\nconst UserContext = React.createContext()\r\n\r\nexport function useUser() \r\n{\r\n  return useContext(UserContext)\r\n}\r\n\r\nexport  function UserProvider({ children })\r\n{\r\n  const [contacts, setContacts] = useState([])\r\n  const [info,setInfo] =useState({})\r\n  const config= {'headers': {'x-access-token':sessionStorage['config']}}\r\n\r\n\r\n  \r\n  useEffect( () =>\r\n  {\r\n    async function fetchData() \r\n    {\r\n      getContacts().then(res=> setContacts(res))\r\n    }\r\n\r\n    fetchData();\r\n\r\n   },[setInfo])\r\n\r\n   async function getContacts()\r\n   {\r\n      const response = await axios.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],config);\r\n      setInfo({id:response.data._id,name:response.data.name,phone:response.data.phone,imageName:response.data.imageName,LastSeen:response.data.LastSeen,Status:response.data.Status})\r\n      return(response.data.contacts)\r\n\r\n   }\r\n   \r\n\r\n  function getSearchContacts(str)\r\n  {\r\n    getContacts().then(res=>\r\n    {\r\n      let SearchResult =res.filter(contact=> contact.name.includes(str) === true)\r\n      setContacts(SearchResult)\r\n    })\r\n\r\n  }\r\n\r\n\r\n  const createContact = async(name) =>\r\n  {\r\n    \r\n    if(name === info.name)\r\n    {\r\n      return {status:'error',message:'cant Add yourself'};\r\n    }\r\n\r\n    let checkIfExists = contacts.filter(contact=> contact.name === name)\r\n\r\n    if(checkIfExists.length !== 0)\r\n    {\r\n      return {status:'error',message:'already exists'};\r\n    }\r\n\r\n    try\r\n    { \r\n\r\n      const response= await axios.get(\"https://messagesapp1.herokuapp.com/api/logIn/getByName/\" + name,config)\r\n\r\n      if(response.data !== 'no such user')\r\n      {\r\n        const contact = {id:response.data._id,phone:response.data.phone,name:response.data.name,imageName:response.data.imageName,Status:response.data.Status}\r\n        let newContacts = [...contacts,contact]\r\n        setContacts(newContacts)\r\n        let UpdatedUser={...info,contacts:newContacts}\r\n        try\r\n        {\r\n          await axios.put(\"https://messagesapp1.herokuapp.com/api/logIn/\" + sessionStorage['id'],UpdatedUser,{'headers': {'x-access-token':sessionStorage['config']}})\r\n        } catch(err){console.log(err)}\r\n      }\r\n      else return {status:'error',message:'user doesnt exist'};\r\n     \r\n    }catch(err){console.log(err)}\r\n\r\n    return {status:'ok'}\r\n    \r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <UserContext.Provider value={{setContacts,setInfo,info,config,contacts,createContact,getSearchContacts }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}","import React, { useState,useContext,useRef,useEffect} from 'react'\r\nimport io from 'socket.io-client'\r\n\r\nconst SocketContext = React.createContext()\r\n\r\nexport function useSocket() \r\n{\r\n  return useContext(SocketContext)\r\n}\r\n\r\nexport function SocketProvider({ userId, children }) \r\n{\r\n\r\n  const socket = useRef()\r\n  const [ConnectedUsers,setConnectedUsers] =useState([])\r\n\r\n  useEffect(()=>\r\n  {\r\n    async function fetchData() {\r\n       socket.current = io(\"wss://messagesapp1.herokuapp.com:443/\");\r\n    }\r\n\r\n    fetchData()\r\n\r\n  },[])\r\n\r\nuseEffect(()=>\r\n{\r\n  async function fetchData() \r\n  {\r\n    socket.current.emit(\"AddUser\",sessionStorage['id'])\r\n    socket.current.on(\"getConnectedUsers\", users =>\r\n    {\r\n      setConnectedUsers(users)\r\n    })\r\n  }\r\n\r\n  fetchData();\r\n\r\n},[userId])\r\n\r\n  return (\r\n    <SocketContext.Provider value={{socket,ConnectedUsers}}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  )\r\n}","import React, { useContext, useCallback, useRef } from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useUser } from \"./userprovider\";\r\nimport { useSocket } from \"./socketprovider\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nconst ConversationsContext = React.createContext();\r\n\r\nexport function useConversations() \r\n{\r\n  return useContext(ConversationsContext);\r\n}\r\n\r\nexport function ConversationsProvider({children }) \r\n{\r\n\r\n  const {contacts, info} = useUser();\r\n  const [conversations, setConversations] = useState([]);\r\n  const [selectedConversation, setSelectedConversation] = useState();\r\n  const RefConversations = useRef(conversations);\r\n  const currentConversationRef = useRef(selectedConversation);\r\n  const {socket, ConnectedUsers} = useSocket();\r\n  const [typingFlag,setTypingFlag] =useState('')\r\n  const [currentConversationIsConnected,setCurrentConversationIsConnected] = useState('')\r\n  const config = { headers: { \"x-access-token\": sessionStorage[\"config\"] } };\r\n  const [showDetails,setShowDetails] =useState(false)\r\n  const [removedFromGroupFlag,setRemovedFromGroupFlag] = useState(false)\r\n  const audio = new Audio('https://res.cloudinary.com/dsrgpqnyv/video/upload/v1630680168/juntos-607_qsfc7i.mp3');\r\n  const [renderFlag,setRenderFlag]=useState(true)\r\n\r\n\r\n  useEffect(()=>\r\n  {\r\n    async function fetchData() \r\n    {\r\n      if(socket.current ==null ) return;\r\n\r\n      //when other user updates conversation information, update this user on changes\r\n      socket.current.on('update-conversation',async ()=>\r\n      {\r\n        setRenderFlag(true)\r\n      })\r\n\r\n\r\n    //when user was removed, remove this user from conversation\r\n    socket.current.on('removed-user',async ()=>\r\n    {\r\n      getConversations().then(res=> \r\n      {\r\n        setConversations(res)\r\n        if(selectedConversation)\r\n        {\r\n          /*if this selected conversation dosn't exists in conversations anymore, this is the deleted user, \r\n          let him know he was deleted and remove this chat from selected conversation*/\r\n          let checkIfDeleted=res.filter(conversation=> conversation._id === selectedConversation._id)\r\n          if(checkIfDeleted.length === 0 ) \r\n            setRemovedFromGroupFlag(true)\r\n\r\n        }\r\n\r\n      })\r\n    \r\n    })\r\n  }\r\n\r\n  fetchData();\r\n\r\n  },[selectedConversation])\r\n\r\n/*everytime a user is connected/dissconnected/ this user entered new conversation,\r\n check if the current conversation user is connected or not*/\r\n  useEffect( ()=>\r\n  {\r\n    async function fetchData() \r\n    {\r\n\r\n      if(selectedConversation)\r\n      {\r\n        if(!selectedConversation.isGroup)\r\n        {\r\n         if(ConnectedUsers.some(user=> user.userId ===selectedConversation.Participants[0].id))\r\n        {\r\n          setCurrentConversationIsConnected('')\r\n        }\r\n        else\r\n        {\r\n          let response = await axios.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+ selectedConversation.Participants[0].id,config)\r\n          setCurrentConversationIsConnected(response.data.LastSeen)\r\n        }\r\n     }\r\n    }\r\n  }\r\n\r\n  fetchData();\r\n\r\n  },[ConnectedUsers,selectedConversation])\r\n\r\n\r\n  //on first render,and every time conversation updates, get new conversations from DB\r\n  useEffect(() =>\r\n  {\r\n\r\n    async function fetchData() \r\n    {\r\n      getConversations().then(res=> setConversations(res))\r\n    }\r\n\r\n    if(renderFlag)\r\n    {\r\n      setRenderFlag(false)\r\n      fetchData();\r\n    }\r\n    \r\n  }, [renderFlag]);\r\n\r\n  //when other user is typing, and this user is on this conversation, let him know other user is typing\r\n  useEffect(() =>\r\n  {\r\n\r\n    if(socket.current ==null ) return;\r\n    socket.current.on('user-typing',({user,conversationId})=>\r\n    {\r\n      if(selectedConversation)\r\n      {\r\n        if(selectedConversation._id === conversationId)\r\n        {\r\n           setTypingFlag(user.name)\r\n        }\r\n      }\r\n    })\r\n\r\n  },[selectedConversation])\r\n\r\n  //get updated conversations from DB when needed\r\n  async function getConversations()\r\n  {\r\n\r\n    try\r\n    {\r\n      let response = await axios.get(\"https://messagesapp1.herokuapp.com/api/conversations/UserConversations/\" +sessionStorage[\"id\"],config);\r\n      let ConversationsList = response.data.map((conversation) =>\r\n      {\r\n        let UpdatedConversation= conversation\r\n\r\n        /*if this is a private conversation, and the name and picture saved as this user name, \r\n        update the conversation to other user name and picture*/\r\n        if (!conversation.isGroup && conversation.Name ===  sessionStorage['name'])\r\n          UpdatedConversation = { ...UpdatedConversation,Name: conversation.Participants[0].name,ConversationImage:conversation.Participants[0].image}\r\n\r\n\r\n        //update the current shown on screen conversation\r\n        if(selectedConversation)\r\n        {\r\n          if(selectedConversation._id === UpdatedConversation._id)\r\n            setSelectedConversation(UpdatedConversation)\r\n        }\r\n\r\n         return UpdatedConversation;\r\n\r\n      })\r\n\r\n      return ConversationsList \r\n\r\n    } catch (err) {console.log(err);}\r\n\r\n  }\r\n\r\n  //on search event, update shown conversations list\r\n  async function getSearchConverastions(str)\r\n  {\r\n    getConversations().then(res=>\r\n    {\r\n      let SearchResult = res.filter(conversation=> \r\n      conversation.Name.includes(str) ===true)\r\n      setConversations(SearchResult)\r\n    })\r\n\r\n  }\r\n        \r\n\r\n  //create new conversation\r\n  async function createConversation(ids, name, image,groupFlag)\r\n  {\r\n\r\n    let ConversationImage = image;\r\n    let isGroup = groupFlag;\r\n    let messages = []\r\n    let lastMessage=''\r\n\r\n\r\n    //no participants chosen\r\n    if (ids.length === 0) {\r\n      return {status:'error',message:'no participants choosen'};\r\n    }\r\n\r\n    //check if conversation already exists and it's not a group.\r\n    let ConversationExists = null;\r\n    if (ids.length === 1 && !isGroup) {\r\n      ConversationExists = conversations.find(\r\n        (conversation) => conversation.Name === name\r\n      );\r\n    }\r\n\r\n\r\n    //if already exists, show the existing one\r\n    if (ConversationExists) setSelectedConversation(ConversationExists);\r\n\r\n    //create new conversation\r\n    else {\r\n\r\n      //get conversation participants\r\n      const participants = ids.map((id) => \r\n      {\r\n        let addContactToConversation = contacts.filter(\r\n          (contact) => id === contact.id\r\n        );\r\n        return addContactToConversation[0];\r\n      });\r\n\r\n\r\n      //add creator to participants\r\n      participants.push({\r\n        id: info.id,\r\n        name: info.name,\r\n        phone: info.phone,\r\n        imageName: info.imageName,\r\n        LastSeen: info.LastSeen\r\n      });\r\n\r\n      let createdDate=''\r\n\r\n      //if group add creation date,add creation message and upload group picture\r\n      if (isGroup) \r\n      {\r\n        let parts = new Intl.DateTimeFormat('en', {\r\n          hc: 'h12',\r\n          year: 'numeric',\r\n          month: '2-digit',\r\n          day: '2-digit',\r\n          hour: 'numeric',\r\n          minute: 'numeric',\r\n          timeZone:'Asia/Jerusalem'})\r\n        .formatToParts(new Date())\r\n        .reduce((acc, part) => {\r\n          acc[part.type] = part.value;\r\n          return acc;\r\n        }, Object.create(null));\r\n\r\n        createdDate= `${parts.day}/${parts.month}/${parts.year} ${parts.hour}:${parts.minute}`;\r\n\r\n        lastMessage={name:\"manager\",message: info.name +\" created this group\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n        messages.push(lastMessage)\r\n\r\n        const data = new FormData()\r\n        data.append('file',ConversationImage)\r\n        data.append(\"upload_preset\",\"whatsApp_clone\")\r\n        data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n        try\r\n        {\r\n          let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n          ConversationImage = response.data.url;\r\n\r\n        }catch(err){console.log(err)}\r\n   \r\n      }\r\n    \r\n      let newConversation = \r\n      {\r\n        Name: name,\r\n        creatorId: sessionStorage[\"id\"],\r\n        Participants: participants,\r\n        Messages: messages,\r\n        LastMessage:lastMessage,\r\n        ConversationImage: ConversationImage,\r\n        isGroup:isGroup,\r\n        createdDate:createdDate,\r\n        description: \"Add Description\",\r\n      };\r\n\r\n      //updateDB\r\n      try \r\n      {\r\n        let Response = await axios.post(\r\n          \"https://messagesapp1.herokuapp.com/api/conversations\",\r\n          newConversation,\r\n          config\r\n        );\r\n\r\n        if (Response.data.status === \"created\") \r\n        {\r\n          setSelectedConversation(Response.data.conversation);\r\n\r\n          //show conversation only if messages sent or if its A group\r\n          if (Response.data.conversation.Messages.length > 0  || Response.data.conversation.isGroup === true)\r\n          {\r\n            setConversations((prevConversations) => {\r\n              return [...prevConversations, Response.data.conversation];\r\n            });\r\n            socket.current.emit('conversation-changed',Response.data.conversation)\r\n          }\r\n        }\r\n      }catch (err) {console.log(err);}\r\n    }\r\n  }\r\n\r\n\r\n  //update existing conversation details when changed \r\n  async function UpdateConversation(updatedConversation)\r\n  {\r\n\r\n    let updateDBConv={...updatedConversation}\r\n\r\n    //if user left the group, dont add him to DB\r\n    if(!(updatedConversation.LastMessage.message.includes('left')))\r\n    {\r\n      let addCurrentParticipant= {id: info.id,phone: info.phone,name: info.name,image: info.imageName,}\r\n      let participants=[...updatedConversation.Participants,addCurrentParticipant]\r\n      updateDBConv={...updateDBConv,Participants:participants}\r\n    }\r\n\r\n    delete updateDBConv._id\r\n\r\n    try\r\n    {\r\n      let response=await axios.put(\"https://messagesapp1.herokuapp.com/api/conversations/\"+ selectedConversation._id,updateDBConv,config)\r\n      if(response.data.status==='Updated')\r\n      {\r\n        let UpdatedConversations=[]\r\n        if(!(updatedConversation.LastMessage.message.includes('left')))\r\n        {\r\n          setSelectedConversation(updatedConversation)\r\n          conversations.forEach(conversation=>\r\n          { \r\n            if(conversation._id===updatedConversation._id)    \r\n              UpdatedConversations.push(updatedConversation)\r\n            else UpdatedConversations.push(conversation)\r\n\r\n          })\r\n        }\r\n        else\r\n        {\r\n          UpdatedConversations=conversations.filter(conversation=> conversation._id !== selectedConversation._id)\r\n          setSelectedConversation()\r\n        }\r\n\r\n\r\n        //if user where removed by admin, send to user deleted case, so server let him know he was deleted\r\n        if(updatedConversation.LastMessage.message.includes('removed'))\r\n          socket.current.emit('user-deleted',selectedConversation)\r\n        else\r\n          socket.current.emit('conversation-changed',selectedConversation)\r\n\r\n        setConversations(UpdatedConversations)\r\n              \r\n      }\r\n    }catch(err){console.log(err)}\r\n  }\r\n\r\n\r\n\r\n  //add message got from other user to conversation\r\n  const addMessageToConversation = useCallback(async ({ UpdatedConv }) =>\r\n  {\r\n\r\n    //voice alert\r\n    audio.play()\r\n\r\n    let ConversationExists = false;\r\n\r\n    //use refConversations to void infinite loop\r\n    let newListOfConversations = RefConversations.current.map((conversation) =>\r\n    {\r\n      if (conversation._id === UpdatedConv._id) \r\n      {\r\n        ConversationExists = true;\r\n        let newConv = \r\n        { ...conversation,\r\n          Messages: UpdatedConv.Messages,\r\n          LastMessage: UpdatedConv.LastMessage,};\r\n          if (currentConversationRef.current) \r\n          {\r\n           if (currentConversationRef.current._id === UpdatedConv._id)\r\n             setSelectedConversation(newConv);\r\n          }\r\n\r\n        return newConv;\r\n\r\n      }\r\n      else return conversation;\r\n    });\r\n\r\n   // if this is a new conversation first message, update user conversations\r\n    if (!ConversationExists) \r\n    {\r\n      if (!UpdatedConv.isGroup)\r\n      {\r\n        let newConversation = \r\n        { ...UpdatedConv,\r\n        Name: UpdatedConv.Participants[0].name,\r\n        ConversationImage: UpdatedConv.Participants[0].imageName,\r\n        };\r\n\r\n        setConversations((prevConversations) => [...prevConversations, newConversation ]);\r\n      } \r\n      else\r\n        setConversations((prevConversations) => [...prevConversations,UpdatedConv]);\r\n    } \r\n    else setConversations(newListOfConversations);\r\n  },[setConversations]);\r\n\r\n\r\n  //handle messages socket\r\n  useEffect(() => \r\n  {\r\n\r\n    if (socket.current == null) return;\r\n    \r\n    RefConversations.current = conversations;\r\n    currentConversationRef.current = selectedConversation;\r\n    socket.current.on(\"receive-message\", addMessageToConversation);\r\n\r\n    return () =>\r\n      socket.current.off(\"receive-message\", addMessageToConversation);\r\n  },[conversations, selectedConversation]);\r\n\r\n\r\n\r\n  //update the message sender conversations\r\n  const updateSenderConversation = (AddMessage) => \r\n  {\r\n\r\n    let ConversationExists = false;\r\n    setSelectedConversation(AddMessage);\r\n\r\n    let newListOfConcversations = conversations.map((conversation) => \r\n    {\r\n      if (conversation._id === AddMessage._id) \r\n      {\r\n        ConversationExists = true;\r\n        return AddMessage;\r\n      } \r\n      else return conversation;\r\n\r\n    });\r\n\r\n    if (ConversationExists) \r\n    {\r\n      setConversations(newListOfConcversations);\r\n    } \r\n    else\r\n      setConversations((prevConversations) => [...prevConversations,AddMessage]);\r\n  };\r\n\r\n\r\n\r\n  //send new message to chat users\r\n  function sendMessage(text,imageFlag,imageURL,recordURL) {\r\n\r\n\r\n    let parts = new Intl.DateTimeFormat('en', {\r\n    hc: 'h12',\r\n    year: 'numeric',\r\n    month: '2-digit',\r\n    day: '2-digit',\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n    timeZone:'Asia/Jerusalem'})\r\n    .formatToParts(new Date())\r\n    .reduce((acc, part) => \r\n    {\r\n      acc[part.type] = part.value;\r\n      return acc;\r\n    }, Object.create(null));\r\n\r\n    let time = `${parts.day}/${parts.month}/${parts.year}  ${parts.hour}:${parts.minute}`;\r\n\r\n    let recordFlag= false\r\n\r\n    if(recordURL!=null)\r\n       recordFlag=true\r\n    \r\n    let CurrentMessage = { id: info.id, name: info.name, message: text  ,timeSent: time ,containsImage: imageFlag,containsRecord:recordFlag,recordURL:recordURL};\r\n    if(imageFlag ===true)\r\n       CurrentMessage= {...CurrentMessage,imageURL:imageURL}\r\n    \r\n    let sender = \r\n    {\r\n      id: info.id,\r\n      phone: info.phone,\r\n      name: info.name,\r\n      image: info.imageName,\r\n    };\r\n\r\n    let AddMessage = \r\n    {...selectedConversation,\r\n      Messages: [...selectedConversation.Messages, CurrentMessage],\r\n      LastMessage: CurrentMessage,\r\n    };\r\n\r\n    socket.current.emit(\"send-message\", \r\n    {\r\n      sender: sender,\r\n      UpdatedConversation: AddMessage,\r\n      conversationId: selectedConversation._id,\r\n    });\r\n\r\n    updateSenderConversation(AddMessage);\r\n  }\r\n\r\n  return (\r\n    <ConversationsContext.Provider\r\n      value={{\r\n        sendMessage,\r\n        conversations,\r\n        createConversation,\r\n        setConversations,\r\n        setSelectedConversation,\r\n        selectedConversation,\r\n        currentConversationIsConnected,\r\n        typingFlag,\r\n        setTypingFlag,\r\n        getSearchConverastions,\r\n        showDetails,\r\n        setShowDetails,\r\n        UpdateConversation,\r\n        removedFromGroupFlag,\r\n        setRemovedFromGroupFlag\r\n      \r\n      }}\r\n    >\r\n      {children}\r\n    </ConversationsContext.Provider>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport {Avatar} from '@material-ui/core';\r\nimport {useConversations} from '../contexts/conversationsprovider';\r\nimport '../css/conversations.css'\r\n\r\nexport default function Conversations() \r\n{\r\n\r\n  const {setSelectedConversation,conversations,setShowDetails} =useConversations()\r\n\r\n  \r\n  async function handleSelectedConversation(conversation) \r\n  {\r\n    setShowDetails(false)\r\n    setSelectedConversation(conversation)\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='Chats' >\r\n      <div className='contacts_list'>\r\n        {conversations.map((conversation,index)=>\r\n        {\r\n          return  (   \r\n            <div key={index}  onClick={()=>handleSelectedConversation(conversation)}  className='ChatsListItem'>\r\n              <Avatar src={conversation.ConversationImage}/>\r\n              <div className='chatInfo'>\r\n                <h2 className='user_name'>{conversation.Name}</h2>\r\n                <span className='user_status'> {(conversation.LastMessage.message).slice(0,28)}... </span>\r\n              </div>\r\n            \r\n            </div>\r\n          )\r\n                    \r\n                })}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport {Avatar,Button} from '@material-ui/core';\r\nimport {useUser} from '../contexts/userprovider';\r\nimport {useConversations} from '../contexts/conversationsprovider'\r\nimport '../css/conversations.css'\r\n\r\nexport default function Contacts({newConversationCallback,openModalCallback}) \r\n{\r\n\r\n  const {info,contacts} = useUser()\r\n  const {createConversation} = useConversations()\r\n\r\n  function startConversation({id,name,image}) \r\n  {\r\n    let ids=[id]\r\n    createConversation(ids,name,image,false)\r\n    newConversationCallback()\r\n    \r\n  }\r\n\r\n  return (\r\n\r\n    <div className='Chats contacts'  >\r\n      <h4 className='new_chat_title'>Start New Chat:</h4>            \r\n      <Button  style={{height:'30px' ,margin:'5px 0px',fontSize:'10px'}} onClick={()=>openModalCallback()}\r\n      className='add_new_Button' > Create Group </Button>\r\n      <div className='contacts_list'>\r\n        {contacts.map(contact =>\r\n        {\r\n          return(\r\n         \r\n           <div className='ChatsListItem' onClick={()=>startConversation({id:contact.id,name:contact.name,image:contact.imageName})}>\r\n             <Avatar src={contact.imageName}/>\r\n              <div className='chatInfo'>\r\n                <h2 className='user_name'>{contact.name} </h2>\r\n                <span className='user_status'> {(info.Status).slice(0,25)}... </span>\r\n              </div>\r\n            </div> \r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n  \r\n};","import { useRef,useState } from 'react'\r\nimport {useUser } from '../contexts/userprovider';\r\nimport {IconButton } from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport '../css/addnew.css'\r\n\r\n\r\nexport default function AddNewContact({closeModal})\r\n{\r\n\r\n  const userNameRef = useRef()\r\n  const {createContact} = useUser()\r\n  const [error,setError]=useState('')\r\n   \r\n\r\n  async function AddContact()\r\n  {\r\n\r\n    let responseStatus = await createContact(userNameRef.current.value)\r\n\r\n    if(responseStatus.status === 'ok')\r\n    {\r\n       closeModal();\r\n       setError('')\r\n    }\r\n    \r\n    else\r\n    {\r\n      setError(responseStatus.message)\r\n    }\r\n   \r\n  }\r\n\r\n  return (\r\n   \r\n    <div className='add_new'>\r\n        <div className='add_new_contact_border'>\r\n            <div className='add_contact_model'>\r\n                <div className='title_and_close'>\r\n                  <h2 className='add_contact_title'>Add New Contact</h2> \r\n                  <IconButton className='close_add_new'  onClick={()=>closeModal()}>\r\n                    <CloseIcon fontSize='large' /> \r\n                  </IconButton>\r\n                </div>\r\n        \r\n                <div className='add_new_contact'>\r\n                  <h3 className='enter_phone'>userName:</h3>\r\n                  <input className='add_new_input' type='text' ref={userNameRef} required/>\r\n                  <button className='add_new_button' onClick={AddContact}> Add Contact</button>\r\n                </div>\r\n                <span className='show_error'>{error}</span>\r\n            </div>\r\n\r\n        </div>       \r\n    </div>\r\n\r\n  )\r\n}","import React, {useState } from 'react'\r\nimport {useUser } from '../contexts/userprovider'\r\nimport {useConversations } from '../contexts/conversationsprovider'\r\nimport {Avatar,IconButton} from '@material-ui/core';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nfunction CreateNewGroup( { closeModal }) {\r\n\r\n    const [selectedContactsId, setSelectedContactsId] = useState([])\r\n    const {contacts} = useUser()\r\n    const {createConversation} = useConversations()\r\n    const [groupName,setGroupName] =useState('')\r\n    const [groupImage,setGroupImage] =useState()\r\n    const [previewImage,setPreviewImage]=useState()\r\n    const [goToParticipants,setGoToParticipants] = useState(false)\r\n\r\n\r\n    function createGroup()\r\n    {\r\n        createConversation(selectedContactsId,groupName,groupImage,true)\r\n        closeModal()\r\n    }\r\n\r\n    \r\n    function handleCheckboxChange(contactId) \r\n    {\r\n        if(selectedContactsId.includes(contactId))\r\n        {\r\n            setSelectedContactsId(prevSelectedContactsId =>\r\n            {\r\n                return (prevSelectedContactsId.filter(id=> id!==contactId))\r\n            } )\r\n        }\r\n  \r\n        else\r\n        {\r\n           setSelectedContactsId(prevSelectedContactsId=>\r\n            {\r\n              return [...prevSelectedContactsId,contactId]\r\n            })\r\n        }   \r\n    }\r\n\r\n    function handleFileUpload(e)\r\n    {\r\n        setGroupImage(e.target.files[0])\r\n        setPreviewImage(window.URL.createObjectURL(e.target.files[0]))\r\n    }\r\n\r\n\r\n    return (\r\n      <div className='add_new'>\r\n        <div className='add_new_group_border'>\r\n          <div className='new_conversation new_group'>\r\n            {goToParticipants !==true ?\r\n            <div className='top_new_group'>\r\n              <div style={{flex:'1'}}className='title_and_close'>\r\n                <h2 className='add_contact_title' style={{marginLeft:'85px',paddingRight:'0px'}}>Create New Group:</h2> \r\n                <IconButton style={{marginLeft:'45px'}}className='close_add_new'  onClick={()=>closeModal()}>\r\n                  <CloseIcon fontSize='large' /> \r\n                </IconButton>\r\n              </div>\r\n\r\n              {previewImage? \r\n              <div className='change_group_image'> \r\n                <Avatar  src={previewImage} style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px',marginTop:'30px'}}>  </Avatar>\r\n                <div className='change_image_on_hover' style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'}}>\r\n                  <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n                  <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n                  <span style={{fontSize:'10px'}}>Change Image </span>\r\n                </div>\r\n              </div>\r\n              :\r\n              <div className='add_group_image'>\r\n                <Avatar   style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px',marginTop:'30px'}}>\r\n                  <PeopleAltIcon style={{position:'absolute',zIndex:'0', opacity:'0.1',height: '80px', width: '80px' }}/>\r\n                  <div  style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'}}>\r\n                    <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n                    <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n                    <span style={{fontSize:'10px'}}>add group image</span>\r\n                  </div>\r\n                </Avatar>\r\n              </div> }\r\n              <div className='group_name'>\r\n                <span style={{padding:'5px', margin:'5px' , fontSize:'13px', color:'#fcfcfc'}}> Group Name:</span>\r\n                <input style={{borderRadius:'10px', border:'none',outline:'none'}} onChange={(e)=>setGroupName(e.target.value)}/>\r\n              </div>\r\n              <button style={{display:'flex',alignItems:'center',width:'180px',justifyContent:'center'}} className='add_new_button'  onClick={()=>setGoToParticipants(true)}><ArrowBackIcon style={{margin:'5px'}} /> Add Members</button>\r\n            </div>\r\n            :\r\n            <div>\r\n              <div style={{flex:'1'}}className='title_and_close'>\r\n                <h2 className='add_contact_title' style={{marginLeft:'80px',paddingRight:'0px'}}>Select Members:</h2> \r\n                <IconButton style={{marginLeft:'40px'}}className='close_add_new'  onClick={()=>closeModal()}>\r\n                  <CloseIcon fontSize='large' /> \r\n                </IconButton>\r\n              </div>\r\n              <div style={{overflowY:'overlay',height:'200px'}}>\r\n              {contacts.map(contact =>\r\n              {\r\n                return(\r\n                  <div className='contact_item' >\r\n                    <input type=\"checkbox\" value={selectedContactsId.includes(contact.id)}\r\n                    id={contact.id} onChange={() => handleCheckboxChange(contact.id)}/>\r\n                    <label style={{display:'flex',flexDirection:'row',alignItems:'center',width:'100%'}}for={contact.id} >\r\n                      <Avatar  style={{margin:'5px'}} src={process.env.PUBLIC_URL + contact.imageName}   fontSize='large'/>\r\n                      <h3 className='enter_phone' style={{marginLeft:'10px' ,fontWeight:'400'}}>{contact.name} </h3>\r\n                    </label>\r\n                  </div>\r\n                )}) \r\n                }  \r\n              </div>\r\n              <div style={{display:'flex' , justifyContent:'center'}}>\r\n                <button className='add_new_button'  type=\"submit\" onClick={()=>createGroup()}>Create</button>\r\n              </div>\r\n\r\n            </div>}  \r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default CreateNewGroup\r\n","import React,{useState} from 'react'\r\nimport '../css/profiledetails.css'\r\nimport axios from 'axios';\r\nimport {useUser } from '../contexts/userprovider';\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { useSocket } from \"../contexts/socketprovider\";\r\nimport {Avatar, IconButton,makeStyles } from '@material-ui/core';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport Picker from 'emoji-picker-react';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n      \"&:hover\": {\r\n        backgroundColor: \"transparent\"\r\n  \r\n      }}\r\n    });\r\n\r\nfunction ProfileDetails({backToConversations}) \r\n{\r\n  const {info,contacts,setInfo,config} = useUser()\r\n  const {conversations,setConversations} = useConversations()\r\n  const { socket} = useSocket();\r\n  const [previewImage,setPreviewImage]=useState(info.imageName)\r\n  const [editNameFlag,setEditNameFlag] = useState(false)\r\n  const [editStatusFlag,setEditStatusFlag] = useState(false)\r\n  const [emojiFlag,setEmojiFlag]=useState(false)\r\n  const [Text,setText] = useState(info.name)\r\n  const [Status,setStatus] = useState(info.status)\r\n  const [statusEmojiFlag,setStatusEmojiFlag]=useState(false)\r\n  const classes = useStyles();\r\n\r\n\r\n  //add emoji to name\r\n  const onEmojiClick = (event, emojiObject) => \r\n  {\r\n    setText(prevText => prevText + emojiObject.emoji)\r\n  };\r\n\r\n\r\n  //add emoji to status\r\n  const onStatusEmojiClick = (event, emojiObject) => \r\n  {\r\n    setStatus(prevStatus => prevStatus + emojiObject.emoji)\r\n  };\r\n\r\n  //change profile picture  \r\n  async function handleFileUpload(e)\r\n  {\r\n\r\n    let picturePath=''\r\n    \r\n    const data = new FormData()\r\n    data.append('file',e.target.files[0])\r\n    data.append(\"upload_preset\",\"whatsApp_clone\")\r\n    data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n       \r\n    try\r\n    {\r\n      let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n      picturePath =response.data.url\r\n\r\n    }catch(err){console.log(err)}\r\n\r\n    let obj = {name: info.name,phone: info.phone,imageName:picturePath,contacts:contacts,LastSeen:info.lastSeen,Status:info.Status}\r\n\r\n    try\r\n    {\r\n      let response = await axios.put(\"https://messagesapp1.herokuapp.com/api/logIn/\" + sessionStorage['id'],obj,config)\r\n\r\n      if(response.data==='Updated')\r\n        setInfo(obj)\r\n\r\n    }catch(err){console.log(err)}\r\n\r\n      setPreviewImage(window.URL.createObjectURL(e.target.files[0]))\r\n\r\n  }\r\n\r\n  async function changeProfileName()\r\n  {\r\n    let obj = {name: Text,phone: info.phone,imageName:info.imageName,contacts:contacts,LastSeen:info.LastSeen,Status:info.Status}\r\n    try\r\n    {\r\n      let response = await axios.put(\"https://messagesapp1.herokuapp.com/api/logIn/\" + sessionStorage['id'],obj,config)\r\n      if(response.data==='Updated')\r\n      {\r\n        setInfo(obj)\r\n\r\n        let updateConv=[]\r\n\r\n        conversations.map(async (conversation)=>\r\n        {\r\n          let updateCon = ''\r\n          if(conversation.Name === info.name)\r\n          {\r\n            updateCon = {...conversation,Name:Text}\r\n          }\r\n          else updateCon = {...conversation}\r\n\r\n          updateConv.push(updateCon)\r\n\r\n          obj={...obj,id:sessionStorage['id']}\r\n          let newParticipants=[...conversation.Participants,obj]\r\n          updateCon={...updateCon,Participants:newParticipants}\r\n          delete updateCon._id\r\n\r\n          try\r\n          {\r\n            await axios.put(\"https://messagesapp1.herokuapp.com/api/conversations/\"+ conversation._id,updateCon,config)\r\n          }catch(err){console.log(err)}\r\n\r\n          socket.current.emit('conversation-changed',conversation)\r\n\r\n\r\n        })\r\n\r\n        setConversations(updateConv)\r\n\r\n      }\r\n\r\n    }catch(err){console.log(err)}\r\n\r\n    setEmojiFlag(false)\r\n    setEditNameFlag(false)\r\n\r\n  }\r\n\r\n  async function changeProfileStatus()\r\n  {\r\n    let obj = {name:info.name,phone: info.phone,imageName:info.imageName,contacts:contacts,LastSeen:info.LastSeen,Status:Status}\r\n    try\r\n    {\r\n      let response = await axios.put(\"https://messagesapp1.herokuapp.com/api/logIn/\" + sessionStorage['id'],obj,config)\r\n\r\n      if(response.data==='Updated')\r\n        setInfo(obj)\r\n\r\n    }catch(err){console.log(err)}\r\n\r\n    setStatusEmojiFlag(false)\r\n    setEditStatusFlag(false)\r\n\r\n  }\r\n\r\n    return (\r\n        <div className='show_details'>\r\n            <header className='profile_title'>\r\n              <div className='title_and_back_to_conversations'>\r\n                <IconButton onClick={()=>backToConversations()}>\r\n                   <ArrowBackIcon style={{height:'30px',width:'30px'}}  />\r\n                </IconButton>\r\n                <h2 className='title_h2'> Profile </h2>\r\n              </div>\r\n\r\n            </header>\r\n\r\n            <div className='profile_details_body'>\r\n\r\n              <div className='profile_pic'>\r\n                 <Avatar  src={previewImage} style={{height: '170px', width: '170px' ,backgroundColor:'gray' ,margin:'15px',marginTop:'30px'}}> </Avatar>\r\n                 <div className='change_image_on_hover' style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white',curser:'pointer'}}>\r\n                     <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n                     <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n                     <span style={{fontSize:'10px'}}>Change Picture </span>\r\n                 </div>\r\n              </div>\r\n\r\n              <span className='profile_details'>\r\n                <h3 className='edit_title'>your name:</h3>\r\n                {editNameFlag?\r\n                   <div>\r\n                      {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' ,height:'200px'}}/> : ''}\r\n                      <div className='edit_group_name' style={{margin:'10px',padding:'5px'}}>\r\n                        <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>changeProfileName()}>\r\n                          <CheckIcon fontSize='large'/>\r\n                        </IconButton>\r\n                        <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>setEmojiFlag(!emojiFlag)}>\r\n                          <InsertEmoticonIcon fontSize='large'/>\r\n                        </IconButton>\r\n                        <input className='input_text' defaultValue={Text} onChange={(e)=>setText(e.target.value)} ></input>\r\n                      </div>\r\n                    </div>\r\n                    :\r\n                    <div className='edit_details'>\r\n                      <IconButton onClick={()=>setEditNameFlag(true)}>\r\n                        <EditIcon style={{fontSize:'large'}}/>\r\n                      </IconButton>\r\n                      <h3>{info.name}</h3>\r\n                    </div>}\r\n                  </span>\r\n\r\n              <span className='profile_details'>\r\n\r\n              <h3 className='edit_title'>status:</h3>\r\n              {editStatusFlag?\r\n                <div>\r\n                  {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onStatusEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' ,height:'200px'}}/> : ''}\r\n                  <div className='edit_group_name' style={{margin:'10px',padding:'5px'}}>\r\n                    <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>changeProfileStatus()}>\r\n                      <CheckIcon fontSize='large'/>\r\n                    </IconButton>\r\n                    <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>setStatusEmojiFlag(!statusEmojiFlag)}>\r\n                      <InsertEmoticonIcon fontSize='large'/>\r\n                    </IconButton>\r\n                    <input className='input_text' defaultValue={Status} onChange={(e)=>setStatus(e.target.value)} ></input>\r\n                  </div>\r\n                </div>:\r\n                <div className='edit_details'>\r\n                  <IconButton onClick={()=>setEditStatusFlag(true)}>\r\n                    <EditIcon style={{fontSize:'large'}}/>\r\n                  </IconButton>\r\n                  <h3 style={{fontSize:'15px'}}>{info.Status}</h3>\r\n                </div>}\r\n              </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileDetails\r\n","import '../css/sidebar.css'\r\nimport React from 'react'\r\nimport { useState} from 'react';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\r\nimport { Avatar, IconButton,Button, Modal } from '@material-ui/core';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Conversations from './conversations';\r\nimport Contacts from './contacts';\r\nimport AddNewContact from './addnewcontact'\r\nimport { useUser } from '../contexts/userprovider';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport {useConversations } from '../contexts/conversationsprovider';\r\nimport CreateNewGroup from './createnewgroup';\r\nimport ProfileDetails from './profiledetails';\r\n\r\n\r\n\r\n\r\nexport default function SideBar() \r\n{\r\n  const [choosenAct,setChoosenAct]=useState('conversations')\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const {info,getSearchContacts} =useUser()\r\n  const [searchFlag,setSearchFlag] =useState(false)\r\n  const {getSearchConverastions} = useConversations()\r\n  const [choosenModal,setChoosenModal] =useState('')\r\n  const [openProfileDetailsFlag,setOpenProfileDetailsFlag]=useState(false)\r\n    \r\n    \r\n  function handleChange(e)\r\n  {\r\n    if(choosenAct === 'conversations')\r\n      getSearchConverastions(e.target.value)\r\n\r\n    else getSearchContacts(e.target.value)\r\n\r\n  }\r\n\r\n  function closeModal() \r\n  {\r\n    setModalOpen(false)\r\n  }\r\n\r\n  function openChoosenModal(modalType)\r\n  {\r\n    setModalOpen(true)\r\n    setChoosenModal(modalType)\r\n  }\r\n\r\n  function backToConversationsCallback()\r\n  {\r\n    setOpenProfileDetailsFlag(false)\r\n  }\r\n\r\n  return (\r\n    \r\n    <div className='sideBar'>\r\n\r\n      {openProfileDetailsFlag? <ProfileDetails backToConversations={backToConversationsCallback}/>:\r\n        <div>\r\n          <div className='sidebar_top'>\r\n            <div className='user_profile_pic' onClick={()=> setOpenProfileDetailsFlag(true)}>\r\n              <Avatar src={info.imageName} fontSize='large' />\r\n            </div>\r\n            <div className='sidebar_top_right'>\r\n              <IconButton onClick={()=>setChoosenAct('conversations')}>\r\n                <ChatIcon fontSize='large' />\r\n              </IconButton>\r\n              <IconButton fontSize='large' onClick={()=>setChoosenAct('contacts')}>\r\n                <PeopleIcon  fontSize='large'  />\r\n              </IconButton>\r\n              <IconButton >\r\n                <MoreVertIcon />\r\n              </IconButton>\r\n            </div>\r\n          </div>\r\n         \r\n          {searchFlag?  \r\n          <div className='activeSearch' >\r\n            <div className='arrowButton'>\r\n              <IconButton onClick={()=>setSearchFlag(false)} >\r\n                <ArrowBackIcon fontSize='large' />\r\n              </IconButton>\r\n            </div>\r\n            <input className='searchBlock' type='text' onChange={handleChange}/> \r\n          </div>\r\n          :\r\n          <div className='searchBar'>\r\n            <div className='searchContainer' >\r\n              <SearchOutlined/>\r\n              <input placeholder='search' type='text' onClick={()=>setSearchFlag(true)}/>\r\n            </div>\r\n          </div>}\r\n           \r\n          {choosenAct==='contacts'?\r\n            <div>\r\n              <div className='sidebar_middle'>\r\n                <Button style={{fontSize:'10px'}} onClick={()=>openChoosenModal('NEW_CONTACT')}className='add_new_Button' >\r\n                  Add New Contact\r\n                </Button>\r\n              </div>\r\n              <div className='sidebar_bottom'>\r\n                <Contacts newConversationCallback={()=> setChoosenAct('conversations')}  openModalCallback={()=>openChoosenModal('NEW_GROUP')}/>\r\n              </div>\r\n            </div>\r\n            :   \r\n            <div className='sidebar_bottom'><Conversations/></div>}\r\n           \r\n            <Modal  className='Modal' open={modalOpen} onClose={closeModal} >\r\n              <div>\r\n                {choosenModal === 'NEW_GROUP' ? \r\n                <CreateNewGroup closeModal={closeModal}  /> :\r\n                <AddNewContact closeModal={closeModal} /> } \r\n              </div>\r\n            </Modal>\r\n        </div>}\r\n\r\n      </div>\r\n    )\r\n}\r\n","import React, { useState ,useEffect} from 'react'\r\nimport {useUser } from '../contexts/userprovider'\r\nimport {useConversations } from '../contexts/conversationsprovider'\r\nimport {Avatar,IconButton} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport '../css/addnew.css'\r\n\r\nfunction AddGroupMember({closeModal}) \r\n{\r\n\r\n    const [selectedContactsId, setSelectedContactsId] = useState([])\r\n    const {contacts,info } = useUser()\r\n    const {UpdateConversation,selectedConversation} = useConversations()\r\n    const [conversationContacts,setConversationContacts]=useState([])\r\n\r\n  \r\n    //save ids of group participants so they wont show in add to group list\r\n    useEffect(() =>\r\n    { \r\n        let ids=[]\r\n        selectedConversation.Participants.forEach((participant)=>\r\n        {\r\n           ids.push(participant.id)\r\n        }) \r\n        setConversationContacts(ids)\r\n\r\n    },[selectedConversation.Participants])\r\n\r\n    function AddMember()\r\n    {\r\n        let newParticipants= []\r\n        newParticipants=selectedConversation.Participants\r\n        let messages=selectedConversation.Messages\r\n        let message=''\r\n\r\n        //add choosen contacts to group participants\r\n        contacts.forEach(contact=>\r\n        {\r\n            if(selectedContactsId.includes(contact.id))\r\n            {\r\n                newParticipants.push(contact)\r\n                message={name:\"manager\",message: info.name +\" added \" + contact.name + \" to the group\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n                messages.push(message)\r\n            }\r\n\r\n        })\r\n\r\n        let updatedConversation={...selectedConversation,Participants:newParticipants,Messages:messages,LastMessage:message}\r\n        UpdateConversation(updatedConversation)\r\n        closeModal()\r\n\r\n    }\r\n\r\n    //on checkbox Click,if exists- remove from list,if not-add to list\r\n    function handleCheckboxChange(contactId) \r\n    {\r\n       \r\n        if(selectedContactsId.includes(contactId))\r\n        {\r\n            setSelectedContactsId(prevSelectedContactsId =>\r\n            {\r\n                return (prevSelectedContactsId.filter(id=> id!==contactId))\r\n            } )\r\n        }\r\n  \r\n        else\r\n        {\r\n           setSelectedContactsId(prevSelectedContactsId=>\r\n            {\r\n              return [...prevSelectedContactsId,contactId]\r\n            })\r\n        } \r\n\r\n    }\r\n\r\n    return (\r\n       <div className='add_new'>\r\n           <div className='add_new_group_border'>\r\n               <div className='new_conversation new_group'>\r\n                   <div style={{flex:'1'}} className='title_and_close'>\r\n                       <h2 className='add_contact_title' style={{marginLeft:'80px',paddingRight:'0px'}}>Select Members:</h2> \r\n                       <IconButton style={{marginLeft:'40px'}}className='close_add_new'  onClick={()=>closeModal()}>\r\n                          <CloseIcon fontSize='large' /> \r\n                       </IconButton>\r\n                   </div>\r\n                   <div style={{overflowY:'overlay',height:'200px'}}>\r\n                       {contacts.map(contact =>\r\n                       {\r\n                         //show only user contacts that are not in the group\r\n                         if(!(conversationContacts.includes(contact.id)))\r\n                         {\r\n                           return(\r\n                               <div className='contact_item' >\r\n                                   <input type=\"checkbox\" value={selectedContactsId.includes(contact.id)}\r\n                                    id={contact.id} onChange={() => handleCheckboxChange(contact.id)}/>\r\n                                   <label style={{display:'flex',flexDirection:'row',alignItems:'center',width:'100%'}}for={contact.id} >\r\n                                      <Avatar  style={{margin:'5px'}} src={process.env.PUBLIC_URL + contact.imageName}   fontSize='large'/>\r\n                                      <h3 className='enter_phone' style={{marginLeft:'10px' ,fontWeight:'400'}}>{contact.name} </h3>\r\n                                   </label>\r\n                               </div>\r\n                            )}\r\n\r\n                         else return ''\r\n            \r\n                        }) } \r\n             \r\n                   </div>\r\n                   <div style={{display:'flex' , justifyContent:'center'}}>\r\n                        <button className='add_new_button'  type=\"submit\" onClick={()=>AddMember()}>Add</button>\r\n                   </div>\r\n\r\n               </div>\r\n           </div>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default AddGroupMember\r\n","import React from 'react'\r\nimport '../css/sidebar.css'\r\nimport axios from 'axios';\r\nimport { useState,useEffect} from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { useUser } from '../contexts/userprovider';\r\nimport { Avatar ,IconButton,makeStyles,Modal} from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport Picker from 'emoji-picker-react';\r\nimport PersonAdd from '@material-ui/icons/PersonAdd';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AddGroupMember from './addgroupmember';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n      \"&:hover\": {\r\n        backgroundColor: \"transparent\"\r\n  \r\n      }}\r\n    });\r\n  \r\n\r\nfunction ShowGroupDetails() {\r\n\r\n    const {selectedConversation,createConversation,conversations,setSelectedConversation,UpdateConversation} = useConversations()\r\n    const [EditGroupNameGlag,setEditGroupNameGlag]=useState(false)\r\n    const [EditGroupDescriptionGlag,setEditGroupDescriptionGlag]=useState(false)\r\n    const [emojiFlag,setEmojiFlag]=useState(false)\r\n    const [Text,setText] = useState(selectedConversation.Name)\r\n    const [Description,setDescription] = useState(selectedConversation.description)\r\n    const {info} = useUser()\r\n    const classes = useStyles();\r\n    const [modalOpen, setModalOpen] = useState(false)\r\n    const [dialogOpen, setDialogOpen] = useState(false)\r\n    const [deleteUserDialog,setDeleteUserDialog]= useState(false)\r\n    const [userToDelete,setUserToDelete] = useState()\r\n    const [previewImage,setPreviewImage]=useState(selectedConversation.ConversationImage)\r\n\r\n\r\n       \r\n    useEffect(()=>\r\n    {\r\n        setEditGroupNameGlag(false)\r\n        setEditGroupDescriptionGlag(false)\r\n        setEmojiFlag(false)\r\n\r\n    },[selectedConversation])\r\n  \r\n  \r\n    const onEmojiClick = (event, emojiObject) =>\r\n    {\r\n        setText(Text + emojiObject.emoji)\r\n    };\r\n  \r\n    const onDescriptionEmojiClick = (event, emojiObject) =>\r\n    {\r\n        setDescription(Description + emojiObject.emoji)\r\n    };\r\n  \r\n    function changeGroupName()\r\n    {\r\n        let message={name:\"manager\",message: info.name +\" changed group name to \" + Text,timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n        let messages=selectedConversation.Messages\r\n        messages.push(message)\r\n        let updatedConversation={...selectedConversation,Name:Text,Messages:messages,LastMasage:message}\r\n        UpdateConversation(updatedConversation)\r\n        setEditGroupNameGlag(false)\r\n    }\r\n  \r\n    function openConversation(participant)\r\n    {\r\n        let existsFlag=false\r\n\r\n        conversations.forEach(conversation=>\r\n        {\r\n            if(conversation.isGroup === false && conversation.Participants[0].id === participant.id)\r\n            {\r\n              existsFlag=true\r\n              setSelectedConversation(conversation)\r\n            }\r\n              \r\n        })\r\n\r\n        if(!existsFlag)\r\n        {\r\n            let participantId=[]\r\n            participantId.push(participant.id)\r\n            createConversation(participantId, participant.name, participant.imageName,false)\r\n        }\r\n        \r\n    }\r\n  \r\n    function changeGroupDescription()\r\n    {\r\n         let message={name:\"manager\",message: info.name +\" changed group Description\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n         let messages=selectedConversation.Messages\r\n         messages.push(message)\r\n         let updatedConversation={...selectedConversation,description:Description,Messages:messages,LastMessage:message}\r\n         UpdateConversation(updatedConversation)\r\n         setEditGroupDescriptionGlag(false)\r\n    }\r\n  \r\n    function removeFromGroup()\r\n    {\r\n       let message={name:\"manager\",message: info.name +\" left the group\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n       let messages=selectedConversation.Messages\r\n       messages.push(message)\r\n       let updatedConversation={...selectedConversation,Messages:messages,LastMessage:message}\r\n       UpdateConversation(updatedConversation)\r\n       setDialogOpen(false)\r\n    }\r\n  \r\n    function beforeDeleteUser(participant)\r\n    {\r\n       setUserToDelete(participant)\r\n       setDeleteUserDialog(true)\r\n    }\r\n  \r\n    function removeUserFromGroup()\r\n    {\r\n       let messages=selectedConversation.Messages\r\n       let message={name:\"manager\",message: info.name +\" removed \" + userToDelete.name + \" from the group \",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n       messages.push(message)\r\n       let participants= selectedConversation.Participants.filter(participant=> participant.id !== userToDelete.id)\r\n       let updatedConversation={...selectedConversation,Participants:participants,Messages:messages,LastMessage:message}\r\n       UpdateConversation(updatedConversation)\r\n       setUserToDelete()\r\n       setDeleteUserDialog(false)\r\n    }\r\n  \r\n    function closeModal()\r\n    {\r\n       setModalOpen(false)\r\n    }\r\n\r\n    async function handleFileUpload(e)\r\n    {\r\n       setPreviewImage(window.URL.createObjectURL(e.target.files[0]))\r\n        let picturePath=''\r\n    \r\n        const data = new FormData()\r\n        data.append('file',e.target.files[0])\r\n        data.append(\"upload_preset\",\"whatsApp_clone\")\r\n        data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n       \r\n        try\r\n        {\r\n          let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n          picturePath =response.data.url\r\n\r\n        }catch(err){console.log(err)}\r\n\r\n\r\n        let messages=selectedConversation.Messages\r\n        let message={name:\"manager\",message: info.name +\" changed group picture\",timeSent:'',containsImage:false,containsRecord:false,recordURL:null}\r\n        messages.push(message)\r\n        let updatedConversation={...selectedConversation,ConversationImage:picturePath,Messages:messages,LastMessage:message}    \r\n        UpdateConversation(updatedConversation)\r\n\r\n\r\n        \r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n           <div className='user_info'>\r\n              <div className='change_group_image'> \r\n                 <Avatar  src={previewImage} style={{height: '150px', width: '150px' ,backgroundColor:'gray' ,margin:'15px',marginTop:'30px'}}> </Avatar>\r\n                 <div className='change_image_on_hover' style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white',curser:'pointer'}}>\r\n                    <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n                    <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n                    <span style={{fontSize:'10px'}}>Change Picture </span>\r\n                 </div>\r\n              </div>\r\n              <span className='name_and_lastSeen'>\r\n                {EditGroupNameGlag?\r\n                   <div style={{display:'flex',flexDirection:'column'}}>\r\n                     {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' ,height:'200px'}}/> : ''}\r\n                     <div className='edit_group_name'>\r\n                        <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>changeGroupName()}>\r\n                           <CheckIcon fontSize='large'/>\r\n                        </IconButton>\r\n                        <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>setEmojiFlag(!emojiFlag)}>\r\n                            <InsertEmoticonIcon fontSize='large'/>\r\n                        </IconButton>\r\n                       <input className='input_text' defaultValue={Text} onChange={(e)=>setText(e.target.value)}></input>\r\n                     </div>\r\n                  </div>:\r\n                  <span className='group_title'>\r\n                     <h3>{selectedConversation.Name}</h3>\r\n                     <IconButton onClick={()=>setEditGroupNameGlag(true)}>\r\n                         <EditIcon style={{fontSize:'large',marginLeft:'10px'}}/>\r\n                     </IconButton>\r\n                  </span>}\r\n                \r\n                 <span className='lastSeen' style={{padding:'10px',paddingLeft:'0px'}}> created at:  {selectedConversation.createdDate} </span>\r\n              </span>\r\n            </div>\r\n\r\n            <div className='group_details_container'>\r\n               <h2 className='group_title' style={{padding:'5px'}}> Description </h2>\r\n              {EditGroupDescriptionGlag?\r\n                <div style={{display:'flex',flexDirection:'column'}}>\r\n                  {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onDescriptionEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' ,height:'200px'}}/> : ''}\r\n                  <div className='edit_group_name' style={{padding:'5px'}}>\r\n                    <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>changeGroupDescription()}>\r\n                        <CheckIcon fontSize='large'/>\r\n                     </IconButton>\r\n                    <IconButton className={classes.root} style={{padding:'3px'}} onClick={()=>setEmojiFlag(!emojiFlag)}><InsertEmoticonIcon fontSize='large'/></IconButton>\r\n                    <input className='input_text' defaultValue={Description} onChange={(e)=>setDescription(e.target.value)} ></input>\r\n                  </div>\r\n                </div>:\r\n                <div className='group_description_edit'>\r\n                  <span style={{fontSize:'15px',marginRight:'5px'}}>\r\n                      {selectedConversation.description}\r\n                  </span>\r\n                  <IconButton onClick={()=>setEditGroupDescriptionGlag(true)}>\r\n                      <EditIcon style={{fontSize:'large'}}/>\r\n                  </IconButton>\r\n                </div>}\r\n             \r\n            </div>\r\n\r\n            <div className='group_details_container'>\r\n               <h2 className='group_title' style={{ padding:'10px' ,borderBottom:'1px solid #B0B0B0'}}>\r\n                   {selectedConversation.Participants.length +1} participants\r\n               </h2>\r\n               <Modal className='Modal' open={modalOpen} onClose={closeModal} >\r\n                  <AddGroupMember closeModal={closeModal}  /> \r\n               </Modal>\r\n\r\n               {selectedConversation.creatorId===sessionStorage['id']?\r\n                   <div className='participant' style={{cursor:'pointer',fontSize:'15px'}} onClick={()=>setModalOpen(true)} >\r\n                      <Avatar>\r\n                         <IconButton className={classes.root} style={{padding:'3px'}}>\r\n                            <PersonAdd fontSize='large'/>\r\n                         </IconButton>\r\n                      </Avatar>\r\n                      <h3 className='group_participant_name'>Add Member</h3>\r\n                   </div>:''}\r\n\r\n               {selectedConversation.Participants.map((participant,index)=>\r\n               {\r\n                  return(\r\n                   <div  key={index} className='participant' >\r\n                     <div onClick={()=>openConversation(participant)} style={{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center',cursor:'pointer'}}>\r\n                         <Avatar src={participant.imageName}/>\r\n                         <div  style={{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'}}>\r\n                           <h3 className='group_participant_name'>{participant.name}</h3>\r\n                           {participant.id===selectedConversation.creatorId?\r\n                             <div className='group_admin'>\r\n                                <h3 style={{fontSize:'13px'}}>Group Manager</h3>\r\n                             </div>\r\n                           :''}\r\n                         </div >\r\n                     </div>\r\n                     {sessionStorage['id'] === selectedConversation.creatorId?\r\n                        <IconButton  onClick={()=>beforeDeleteUser(participant)} style={{padding:'3px'}}>\r\n                          <CloseIcon fontSize='medium'/>\r\n                        </IconButton>\r\n                     :''}\r\n                   </div>)\r\n                })}\r\n\r\n                <div  className='participant'>\r\n                   <div style={{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'}}>\r\n                     <Avatar src={info.imageName}/>\r\n                     <div style={{display:'flex',flexGrow:'1',flexDirection:'row',alignItems:'center'}}>\r\n                         <h3 className='group_participant_name'>{info.name}</h3>\r\n                         {sessionStorage['id']===selectedConversation.creatorId?\r\n                           <div className='group_admin'>\r\n                               <h3 style={{fontSize:'13px'}}>Group Manager</h3>\r\n                           </div>\r\n                          :''}\r\n                     </div >\r\n                   </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className='group_details_container leave' onClick={()=>setDialogOpen(true)} >\r\n                <div className='leaveGroup'>\r\n                    <IconButton className={classes.root} style={{padding:'3px'}} >\r\n                      <ExitToAppIcon style={{color:'darkred'}}fontSize='large'/>\r\n                    </IconButton>\r\n                     <h3 className='group_participant_name' style={{color:'darkRed',fontSize:'17px'}}>leave Group</h3>\r\n                </div>\r\n            </div>\r\n\r\n            <Dialog className='exit_group_dialog' onClose={()=> setDialogOpen(false)}  open={dialogOpen}>\r\n               <div style={{padding:'10px'}}>\r\n                 <h2 className='dialog_title'> are you sure you want to leave this group?</h2>\r\n                 <div className='dialog_options_buttons'>\r\n                   <button className='dialog_button' onClick={()=>removeFromGroup()} >yes</button>\r\n                   <button className='dialog_button' onClick={()=>setDialogOpen(false)}>no</button>\r\n                 </div>\r\n                </div>\r\n            </Dialog>\r\n\r\n\r\n            <Dialog className='exit_group_dialog' onClose={()=> setDeleteUserDialog(false)}  open={deleteUserDialog}>\r\n               <div style={{padding:'10px'}}>\r\n                 <h2 className='dialog_title'> are you sure you want to delete this user?</h2>\r\n                 <div className='dialog_options_buttons'>\r\n                   <button className='dialog_button' onClick={()=>removeUserFromGroup()} >yes</button>\r\n                   <button className='dialog_button' onClick={()=>setDeleteUserDialog(false)}>no</button>\r\n                 </div>\r\n                </div>\r\n            </Dialog>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowGroupDetails\r\n","import React from 'react'\r\nimport {useState} from 'react'\r\nimport {useConversations } from '../contexts/conversationsprovider';\r\nimport {Avatar} from '@material-ui/core'\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nfunction ShowUserDetails({privateConversationHeader}) {\r\n\r\n    const {selectedConversation} = useConversations()\r\n    const [pictureDialogOpen,setPictureDialogOpen]=useState(false)\r\n\r\n\r\n    return (\r\n\r\n        <div className='user_info'>\r\n           <div onClick={()=>setPictureDialogOpen(true)}>\r\n               <Avatar  src={selectedConversation.ConversationImage} style={{margin:'20px',height:'150px',width:'150px'}}/>\r\n           </div>\r\n\r\n           <Dialog className='open_picture_dialog' onClose={()=> setPictureDialogOpen(false)}  open={pictureDialogOpen}>\r\n              <img src={selectedConversation.ConversationImage} alt=''/>\r\n           </Dialog>\r\n\r\n     \r\n           <span className='name_and_lastSeen' style={{paddingBottom:'0px'}}>\r\n              {console.log('here')}\r\n              <span className='group_title'>\r\n                 <h3>{selectedConversation.Name}</h3>\r\n              </span>\r\n     \r\n              <span className='lastSeen' style={{padding:'10px',paddingLeft:'0px'}}>\r\n                  {privateConversationHeader()}\r\n              </span>\r\n           </span>\r\n       \r\n      </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ShowUserDetails\r\n","import {useState} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nfunction Message({sender,message}) \r\n{\r\n  const [modalOpen,setModalOpen] = useState(false)\r\n  const [SelectedImageURL,setSelectedImageURL] =useState(null)\r\n\r\n  function openImage(URL)\r\n  {\r\n    setModalOpen(true)\r\n    setSelectedImageURL(URL)  \r\n  }\r\n\r\n  return (\r\n\r\n    <div className={sender}>  \r\n      <div className='message' >\r\n        <div className='image_and_sender'>\r\n          <div className='sender'>\r\n           {message.name}\r\n          </div>\r\n          {message.containsImage? \r\n          <img className='image_in_message' src={message.imageURL} alt='' onClick={()=>openImage(message.imageURL)} width='200px' height='200px' /> \r\n           : ''}\r\n        </div>\r\n        <div>\r\n          <div className='message_and_time'>\r\n            <div className='message_content'>{message.message}</div> \r\n            <div className='message_time_border'>\r\n              <div className='message_time'>\r\n                {(message.timeSent).substring(11,17)}\r\n              </div>\r\n            </div>\r\n          </div> \r\n        </div>\r\n\r\n        <Dialog onClose={()=> setModalOpen(false)}  open={modalOpen}>\r\n          <img src={SelectedImageURL} alt=''/>\r\n        </Dialog>\r\n      </div>\r\n    </div> \r\n  )}\r\n\r\nexport default Message\r\n\r\n","import React from 'react'\r\nimport { Avatar } from '@material-ui/core'\r\nimport '../css/audiomessage.css'\r\n\r\nfunction AudioMessage({message,sender,image})\r\n{\r\n\r\n  const messageColor = sender.includes('chat_reciever')?  'reciever':'sender' \r\n\r\n  return (\r\n    \r\n    <div className={sender}>  \r\n      <div className='message_with_audio'>\r\n        <div className={messageColor}>\r\n            {sender === \"message_out\"?\r\n            <div className='audio_and_avatar'> \r\n                <audio   controls controlsList=\"nodownload\" >\r\n                  <source src={message.recordURL} type=\"audio/mp3\"/>\r\n                </audio>\r\n                <Avatar src={image} style={{ height: '50px', width: '50px',margin:'5px' }}/>\r\n            </div>\r\n               :\r\n            <div className='audio_and_avatar'> \r\n                <Avatar src={image} style={{ height: '50px', width: '50px',margin:'5px' }}/>\r\n                <audio   controls controlsList=\"nodownload\" >\r\n                  <source src={message.recordURL} type=\"audio/mp3\"/>\r\n                </audio>\r\n            </div>}\r\n            <span className='message_time'>{(message.timeSent).substring(11,17)}</span> \r\n        </div>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default AudioMessage\r\n","import React from 'react'\r\nimport {useState ,useCallback,useEffect,useRef} from 'react'\r\nimport {useConversations} from '../contexts/conversationsprovider';\r\nimport {useSocket} from '../contexts/socketprovider';\r\nimport {useUser} from '../contexts/userprovider';\r\nimport {IconButton,Dialog } from '@material-ui/core'\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport Picker from 'emoji-picker-react';\r\nimport { useReactMediaRecorder } from \"react-media-recorder\";\r\nimport axios from 'axios'\r\nimport Message from './message';\r\nimport AudioMessage from './audiomessage';\r\n\r\n\r\nfunction ChatBody(props) {\r\n\r\n  const [Text,setText] = useState('')\r\n  const {socket} = useSocket()\r\n  const {info} = useUser()\r\n  const {sendMessage,selectedConversation,removedFromGroupFlag,setRemovedFromGroupFlag,setSelectedConversation} = useConversations()\r\n  const inputRef = useRef(null)\r\n  const [emojiFlag,setEmojiFlag] = useState(false)\r\n  const [recordFlag,setRecordFlag] =useState(false)\r\n  const {startRecording,stopRecording,mediaBlobUrl,clearBlobUrl} = useReactMediaRecorder({audio: true })\r\n  const [audioBlob,setAudioBlob] = useState(null)\r\n\r\n  //make messages scrolling down when message sent\r\n  const setRef = useCallback((node) => \r\n  {\r\n    if(node)\r\n      node.scrollIntoView({smooth:true})\r\n\r\n  },[])\r\n  \r\n  useEffect(()=>\r\n  {\r\n    setEmojiFlag(false)\r\n\r\n  },[selectedConversation])\r\n\r\n  \r\n\r\n  //when audio message sent, upload it to cloudinary and send it to conversation participants\r\n  useEffect( () => \r\n  {\r\n\r\n    async function fetchData() \r\n    {\r\n      if(audioBlob != null)\r\n      {\r\n        let audio= await fetch(mediaBlobUrl).then(res=> res.blob())\r\n        const data = new FormData();\r\n           \r\n        data.append('file', audio);\r\n        data.append('resource_type', 'video');\r\n        data.append(\"upload_preset\",\"whatsApp_clone\")\r\n        data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n\r\n\r\n        try\r\n        {\r\n          let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/video/upload\",data)\r\n          let recordURL = response.data.url\r\n          recordURL=(recordURL.slice(0,-4))\r\n          recordURL+= 'mp3'\r\n          setRecordFlag(false)\r\n          clearBlobUrl()\r\n          sendMessage(Text,null,null,recordURL)\r\n          setRecordFlag(false)\r\n  \r\n        }catch(err){console.log(err)}\r\n      }\r\n    }\r\n\r\n    fetchData();\r\n \r\n  },[audioBlob])\r\n\r\n\r\n  //when typing, let conversation participants know\r\n  function typing(e)\r\n  {\r\n\r\n    setText(e.target.value)\r\n    if (socket.current == null) return;\r\n      socket.current.emit(\"typing\", {user:info,Conversation:selectedConversation})\r\n\r\n  }\r\n\r\n\r\n  //send message to conversation participants\r\n  function handleSubmit(e)\r\n  {\r\n    e.preventDefault()\r\n    sendMessage(Text,false,null,null)\r\n    setText(' ')\r\n\r\n  }\r\n\r\n\r\n  //upload image to cloudinary\r\n  async function handleImage(e)\r\n  {\r\n\r\n    const data = new FormData()\r\n    data.append('file',e.target.files[0])\r\n    data.append(\"upload_preset\",\"whatsApp_clone\")\r\n    data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n    try\r\n    {\r\n\r\n      let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n      props.imageCallback(response.data.url)\r\n      }catch(err){console.log(err)}\r\n\r\n    }\r\n\r\n\r\n  //when record start\r\n  function recordStart()\r\n  {\r\n\r\n    setRecordFlag(true)\r\n    startRecording()\r\n\r\n  }\r\n \r\n  //when record sent\r\n  async function handleRecord()\r\n  {\r\n    stopRecording()\r\n    let res = await fetch(mediaBlobUrl)\r\n    setAudioBlob(res.blob())     \r\n  }\r\n\r\n\r\n  //when record canceled\r\n  function cancelRecord()\r\n  {\r\n    stopRecording()\r\n    clearBlobUrl()\r\n    setRecordFlag(false)\r\n  }\r\n\r\n\r\n  //when recording, show recording div\r\n  function updateRecordingDiv()\r\n  {\r\n    let recordDiv = \r\n    <div>\r\n      <IconButton>\r\n        <CloseIcon fontSize='large' style={{color:'red'}} onClick={cancelRecord} />\r\n      </IconButton>\r\n      <IconButton>\r\n        <CheckIcon fontSize='large'style={{color:'green'}} onClick={handleRecord} />\r\n      </IconButton>\r\n    </div>\r\n\r\n    return recordDiv\r\n  \r\n  }\r\n\r\n  //if removed from group when group chat is on, dont show this group chat\r\n  function handleRemovedFromGroup()\r\n  {\r\n\r\n    setRemovedFromGroupFlag(false)\r\n    setSelectedConversation()\r\n\r\n  }\r\n    \r\n\r\n  //add emoji to message\r\n  const onEmojiClick = (event, emojiObject) => \r\n  {\r\n    setText(Text + emojiObject.emoji)\r\n  };\r\n\r\n\r\n\r\n  return(\r\n\r\n    <div className= 'body_and_footer'>\r\n        <div className='chat_body'>\r\n\r\n          {selectedConversation.Messages.map((message,index)=>\r\n          {\r\n            const lastMessage = selectedConversation.Messages.length -1 === index\r\n            let sender= ''\r\n            sender= message.name==='manager'? 'manager':( message.id===sessionStorage['id']? 'message_out' : 'message_in')\r\n            let image=message.id===sessionStorage['id']? info.imageName :selectedConversation.ConversationImage\r\n            let choosenClass = sender==='message_in'? 'chat_message chat_sender': ' chat_message chat_reciever'\r\n\r\n            return (\r\n              <div key={index}>\r\n                {sender === 'manager'?\r\n                <div className='around_message'ref={lastMessage ? setRef : null}>\r\n                  <div className='manager_message'>\r\n                     <span className='message_content'>{message.message}</span>\r\n                  </div>\r\n                </div>\r\n                :\r\n                <div key={index} className={choosenClass} ref={lastMessage ? setRef : null}>\r\n                  {message.containsRecord ? \r\n                  <AudioMessage message={message} sender={sender} image={image}/> : <Message  sender={sender} message={message}/>}\r\n                </div> }\r\n              </div>\r\n            )}\r\n          )}\r\n\r\n        </div>\r\n\r\n        <div className='chat_footer_with_stickers'>\r\n           {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' }}/>: ''}\r\n            <div className='chat_footer'>\r\n              {emojiFlag? <IconButton  onClick={()=>setEmojiFlag(false)}><CloseIcon fontSize='large'/> </IconButton>:''}\r\n              <IconButton  onClick={()=>setEmojiFlag(true)}>\r\n                 <InsertEmoticonIcon fontSize='large'/>\r\n              </IconButton>\r\n              <input accept=\"image/*\" className='invisibleInput' id=\"icon-button-file\" type=\"file\"  style={{ visibility: 'hidden'}} onChange={handleImage}/>\r\n              <label htmlFor=\"icon-button-file\">\r\n                <IconButton component=\"span\">\r\n                  <ImageIcon  fontSize='large'/>\r\n                </IconButton>\r\n              </label> \r\n              <form onSubmit={handleSubmit} className='message_section'>\r\n                 <input className='message_input' ref={inputRef}  value={Text} onChange={typing} type='text' placeholder='type a message'/>\r\n                 <button type='submit' > send </button>\r\n              </form>\r\n              {recordFlag? updateRecordingDiv() :   \r\n              <IconButton onClick={recordStart}>\r\n                <MicIcon fontSize='large'  />\r\n              </IconButton>}\r\n            </div>\r\n        </div>\r\n        <Dialog className='exit_group_dialog'  open={removedFromGroupFlag}>\r\n          <div style={{padding:'10px'}}>\r\n            <h2 className='dialog_title'> you where removed from this group</h2>\r\n              <div className='dialog_options_buttons'>\r\n                <button className='dialog_button' onClick={()=>handleRemovedFromGroup()} >ok</button>\r\n              </div>\r\n          </div>\r\n        </Dialog> \r\n\r\n    </div>    \r\n)}\r\n\r\nexport default ChatBody\r\n","import '../css/chat.css'\r\nimport '../css/sendimagebody.css'\r\nimport React, { useRef } from 'react'\r\nimport {useState} from 'react'\r\nimport {useConversations } from '../contexts/conversationsprovider';\r\nimport {useSocket} from '../contexts/socketprovider';\r\nimport {useUser} from '../contexts/userprovider';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport {IconButton } from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nfunction SendImageBody(props) \r\n{\r\n\r\n  const inputRef = useRef(null)\r\n  const [Text,setText] = useState('')\r\n  const {socket} = useSocket()\r\n  const {info} = useUser()\r\n  const {sendMessage,selectedConversation} = useConversations()\r\n\r\n  function handleSubmit(imageFlag)\r\n  {\r\n\r\n    if(imageFlag===true)\r\n      sendMessage(Text,true,props.imageURL)\r\n\r\n    setText(' ')\r\n    props.backToChat()\r\n\r\n  }\r\n\r\n  function typing(e)\r\n  {\r\n\r\n    setText(e.target.value)\r\n\r\n    if (socket.current == null) return;\r\n      socket.current.emit(\"typing\", {user:info,Conversation:selectedConversation})\r\n\r\n  }\r\n\r\n    return (\r\n      <div className='SendImage'>\r\n        <div className='sendImageHeader'></div>\r\n          <IconButton type='submit' onClick={()=>handleSubmit(false)}>\r\n            <CloseIcon fontSize='large' /> \r\n          </IconButton>\r\n          <img src= {props.imageURL} alt='' height='300px' width='300px'/>\r\n          <div className='add_message'>\r\n            <form onSubmit={()=>handleSubmit(true)} className='message_section'>\r\n              <IconButton type='submit' style={{flex:'0.1'}}>\r\n                <SendIcon fontSize='large'/>\r\n              </IconButton>\r\n              <input className='message_input' ref={inputRef}  value={Text} onChange={typing} type='text' placeholder='type a message'/>\r\n            </form>\r\n          </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default SendImageBody\r\n","import '../css/chat.css'\r\nimport '../css/sidebar.css'\r\nimport React from 'react'\r\nimport ShowGroupDetails from './showgroupdetails'\r\nimport ShowUserDetails from './showuserdetails'\r\nimport { useState} from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { Avatar ,IconButton} from '@material-ui/core'\r\nimport ChatBody from './chatbody';\r\nimport SendImageBody from './sendimagebody';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport default function Chat() \r\n{\r\n\r\n  const {selectedConversation,currentConversationIsConnected,typingFlag,setTypingFlag,showDetails,setShowDetails} = useConversations()\r\n  const [imageFlag,setImageFlag] =useState(false)\r\n  const [imageURL,setImageURL] =useState(false)\r\n\r\n  //check if user is connected/disconnected/typing\r\n  const privateConversationHeader = () =>\r\n  {\r\n  \r\n    let returnValue = ''\r\n    if(currentConversationIsConnected === '')\r\n    {\r\n\r\n      if(typingFlag !== '')\r\n      {\r\n        returnValue = <div className='lastSeen'> typing...</div>\r\n        setTimeout(()=> setTypingFlag(''),1000)\r\n      }\r\n  \r\n      else returnValue = <div className='connected'><div className='circle'></div> online </div>\r\n              \r\n    }\r\n  \r\n    else returnValue = <div className='lastSeen'>{currentConversationIsConnected}</div>\r\n  \r\n  \r\n    return returnValue\r\n  \r\n  }\r\n\r\n  const groupheader = () =>\r\n  {\r\n\r\n    let returnValue = ''\r\n    if(typingFlag !== '')\r\n    {\r\n      returnValue = <div className='lastSeen'> {typingFlag} is typing...</div>\r\n      setTimeout(()=> setTypingFlag(''),1000)\r\n    }\r\n\r\n    else\r\n    {\r\n\r\n      let UsersInGroup = ''\r\n\r\n      selectedConversation.Participants.forEach((participant,index)=> \r\n      {\r\n        if(index ===  selectedConversation.Participants.length-1 )\r\n          UsersInGroup = UsersInGroup + participant.name\r\n        else\r\n          UsersInGroup= UsersInGroup + participant.name + ', '\r\n      })\r\n            \r\n      returnValue=  <div className='lastSeen'>{UsersInGroup} </div>\r\n\r\n    }\r\n\r\n    return returnValue\r\n  }\r\n\r\n  function chatBodyCallback(image)\r\n  {\r\n    setImageURL(image)\r\n    setImageFlag(true)\r\n  }\r\n\r\n  function backToChatCallback()\r\n  {\r\n    setImageURL(null)\r\n    setImageFlag(false)\r\n  }\r\n\r\n\r\n  const chatSide=\r\n    <div>\r\n      <div className='chat_header' onClick={()=>setShowDetails(true)}>\r\n        <Avatar src={selectedConversation.ConversationImage}/>\r\n        <div className='chat_header_info'>\r\n          <h2 style={{fontSize:'20px'}}> {selectedConversation.Name} </h2> \r\n          {selectedConversation.isGroup?  groupheader() : privateConversationHeader()}\r\n        </div>\r\n      </div>\r\n      {imageFlag? <SendImageBody imageURL={imageURL} backToChat={backToChatCallback}/>:<ChatBody imageCallback={chatBodyCallback}/>} \r\n    </div>\r\n\r\n\r\n  return (\r\n       \r\n    showDetails?\r\n      <div className='chat_with_details'>\r\n        <div className='chat narrow_chat'>\r\n          {chatSide}\r\n        </div>\r\n\r\n        <div className='chat_details'>\r\n          <div className='chat_details_top '>\r\n            <IconButton onClick={()=>setShowDetails(false)}>\r\n              <CloseIcon fontSize='large'  />\r\n            </IconButton>\r\n            <h2 style={{paddingLeft:'10px',fontSize:'22px'}}>{selectedConversation.isGroup? 'Group Details:' : 'Contact Details:' }</h2>\r\n          </div>\r\n\r\n          <span className='chat_details_body'>\r\n              {selectedConversation.isGroup? <ShowGroupDetails/>: <ShowUserDetails privateConversationHeader={privateConversationHeader}/>}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      :\r\n      <div className='chat'>\r\n        {chatSide}\r\n      </div>\r\n\r\n          \r\n    )\r\n}\r\n","import '../css/dashboard.css'\r\nimport React from 'react'\r\nimport SideBar from './sidebar'\r\nimport Chat from './chat'\r\nimport { useConversations } from '../contexts/conversationsprovider'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nexport default withRouter(function Dashboard({id}) {\r\n    const {selectedConversation} =useConversations()\r\n\r\n    return (\r\n        <div className='dashboard'>\r\n            <div className='dashboard_body'>\r\n              <SideBar/>\r\n              {selectedConversation!==undefined?  <Chat id={id}  />: ''}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n","import {useState} from 'react'\r\nimport '../css/login.css'\r\nimport axios from 'axios'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport {Avatar} from '@material-ui/core';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\n\r\n \r\n\r\nfunction Register(props)\r\n{\r\n\r\n  const[phone,setPhone] =useState('')\r\n  const[name,setName] =useState('')\r\n  const [Picture,setPicture] =useState(null)\r\n  const history=useHistory();\r\n  const [error,setError] =useState('')\r\n  const [previewImage,setPreviewImage]=useState()\r\n\r\n  //get user information and token from DB\r\n  async function handleSubmit(e)\r\n  {\r\n    e.preventDefault();\r\n        \r\n    let picturePath=''\r\n\r\n    if(Picture)\r\n    {\r\n      const data = new FormData()\r\n      data.append('file',Picture)\r\n      data.append(\"upload_preset\",\"whatsApp_clone\")\r\n      data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n       \r\n      try\r\n      {\r\n        let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n        picturePath =response.data.url\r\n\r\n      }catch(err){console.log(err)}\r\n\r\n    }\r\n        \r\n    let obj = {name:name,phone:phone,imageName:picturePath,contacts:[],LastSeen:'last seen at...',Status:\"hello,i'm using Message-App!\"}\r\n\r\n    try{\r\n         const response = await axios.post(\"https://messagesapp1.herokuapp.com/api/logIn/Register\",obj)\r\n         if(response.data.status === 'error')\r\n         {\r\n            setError(response.data.message)\r\n         }\r\n\r\n         else\r\n          {\r\n            sessionStorage['config']= response.data.token \r\n            sessionStorage['id'] = response.data.User._id\r\n            sessionStorage['name'] = response.data.User.name\r\n            props.CanLogIn(response.data.User._id)\r\n\r\n            history.push('/App')\r\n          }\r\n        }catch(err){console.log(err)}     \r\n  }\r\n        \r\n\r\n  function handleFileUpload(e) \r\n  {\r\n\r\n    setPicture(e.target.files[0])\r\n    setPreviewImage(window.URL.createObjectURL(e.target.files[0]))\r\n\r\n  }\r\n\r\n  return (\r\n\r\n    <div className=\"overlay\">\r\n      <form className='login_form' onSubmit={handleSubmit}>\r\n         <div className=\"con\">\r\n            <header className=\"head-form\"  style={{marginBottom:'0px', paddingBottom:'0px'}}>\r\n              <h2>Register</h2>\r\n              <p>welcome to  my whatsApp</p>\r\n            </header>\r\n            <div className=\"field-set\">\r\n             {previewImage?\r\n               <div className='change_group_image'> \r\n                    <Avatar  src={previewImage} style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px',marginTop:'30px'}}> </Avatar>\r\n                    <div className='change_image_on_hover' style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white',curser:'pointer'}}>\r\n                      <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n                      <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n                      <span style={{fontSize:'10px'}}>Change Picture </span>\r\n                    </div>\r\n                </div>\r\n           \r\n              :\r\n              <div className='add_Profile_Picture'>\r\n                <Avatar   style={{height: '140px', width: '140px' ,backgroundColor:'gray' ,margin:'15px',marginTop:'30px'}}>\r\n                  <PeopleAltIcon style={{position:'absolute',zIndex:'0', opacity:'0.1',height: '80px', width: '80px' }}/>\r\n                  <div  style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white',curser:'pointer'}}>\r\n                    <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n                    <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n                    <span style={{fontSize:'10px'}}>Add Profile Picture</span>\r\n                  </div>\r\n                </Avatar>\r\n              </div> }\r\n              <span className=\"input-item\">\r\n                <i class=\"fa fa-user-circle\"></i>\r\n                <input className=\"form-input\" id=\"txt-input\" type=\"text\" placeholder=\"@UserName\" onChange={(e)=> setName(e.target.value)} required />\r\n              </span>\r\n              <span className=\"input-item\">\r\n                <i class=\"fa fa-key\"></i>\r\n                <input className=\"form-input\" type=\"password\" placeholder=\"Password\" id=\"pwd\"  name=\"password\" onChange={(e)=> setPhone(e.target.value)} required/>\r\n              </span>\r\n              <button className=\"log-in\" type='submit'> Register </button>\r\n            </div>\r\n            <div>\r\n              <Link  className=\"submits sign-up defaultLink\" to={`/`}>    <i style={{margin:'7px'}}class=\"fa fa-user-plus\" aria-hidden=\"true\"/>back to Log In</Link>\r\n            </div>\r\n            <span style={{fontSize:'15px'}}>{error}</span>\r\n          </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Register\r\n","import {useState} from 'react'\nimport LogIn from './login'\nimport Dashboard from './dashboard'\nimport {UserProvider} from '../contexts/userprovider'\nimport {ConversationsProvider} from '../contexts/conversationsprovider'\nimport { SocketProvider } from '../contexts/socketprovider'\nimport {BrowserRouter as Router,Switch, Route,Redirect} from 'react-router-dom'\nimport Register from './register'\nimport '../css/app.css'\n\n\nfunction App() \n{\n\n  const [id,setId] =useState()\n\n  const dashboard = (\n   <SocketProvider userId={id} >\n     <UserProvider id={id}>\n      <ConversationsProvider >\n        <Dashboard  id={id}/>\n      </ConversationsProvider>\n     </UserProvider>\n    </SocketProvider>\n  )\n\n  return (\n\n    <Router >\n      <div className=\"App\">\n         <Switch>\n           {sessionStorage['id']}\n            <Route exact path='/' > <LogIn CanLogIn={setId}/></Route> \n            <Route path='/Register' > <Register CanLogIn={setId}/></Route>\n            {sessionStorage['id']?  <Route exact path='/App' > {dashboard} </Route>:<Redirect to=\"/\" />}\n         </Switch>\n  \n      </div>\n\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\n\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}