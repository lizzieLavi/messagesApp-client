{"code":"(this.webpackJsonpmyclient=this.webpackJsonpmyclient||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},129:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},185:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){\"use strict\";n.r(t);var a=n(0),s=n.n(a),c=n(15),r=n.n(c),i=n(4),o=(n(129),n(3)),l=n.n(o),u=n(6),d=(n(75),n(13)),j=n.n(d),p=n(9),b=n(40),h=(n(148),n(1));function m(e){var t=Object(a.useState)(\"\"),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(\"\"),o=Object(i.a)(r,2),d=o[0],m=o[1],f=Object(a.useState)(\"\"),O=Object(i.a)(f,2),x=O[0],g=O[1],v=Object(p.g)();function y(){return(y=Object(u.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(\"\"),n.preventDefault(),a={name:d,phone:s},t.next=5,j.a.post(\"https://messagesapp1.herokuapp.com/api/logIn\",a);case 5:\"not found\"!==(c=t.sent).data?(sessionStorage.config=c.data.token,sessionStorage.id=c.data.User._id,sessionStorage.name=c.data.User.name,e.CanLogIn(c.data.User._id),v.push(\"/App\")):g(\"One or more of your identification details is incorrect.\");case 7:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)(\"div\",{class:\"overlay\",children:Object(h.jsx)(\"form\",{className:\"login_form\",onSubmit:function(e){return y.apply(this,arguments)},children:Object(h.jsxs)(\"div\",{class:\"con\",children:[Object(h.jsxs)(\"header\",{class:\"head-form\",children:[Object(h.jsx)(\"h2\",{children:\"Log In\"}),Object(h.jsx)(\"p\",{children:\"welcome to  my whatsApp\"})]}),Object(h.jsxs)(\"div\",{class:\"field-set\",children:[Object(h.jsxs)(\"span\",{class:\"input-item\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-user-circle\"}),Object(h.jsx)(\"input\",{class:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function(e){return m(e.target.value)},required:!0})]}),Object(h.jsxs)(\"span\",{class:\"input-item\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-key\"}),Object(h.jsx)(\"input\",{class:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(h.jsx)(\"button\",{className:\"log-in\",type:\"submit\",children:\" Log In \"})]}),Object(h.jsx)(\"div\",{children:Object(h.jsxs)(\"button\",{className:\"btn submits sign-up\",children:[Object(h.jsx)(b.b,{className:\"defaultLink\",to:\"/Register\",children:\"Sign Up\"}),Object(h.jsx)(\"i\",{class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"})]})}),x]})})})}n(154),n(155);var f=n(108),O=n.n(f),x=n(111),g=n.n(x),v=n(215),y=n(212),N=n(211),_=n(214),C=n(109),w=n.n(C),k=n(110),S=n.n(k),I=n(34),L=n(19),R=s.a.createContext();function U(){return Object(a.useContext)(R)}function M(e){var t=e.children,n=Object(a.useState)([]),s=Object(i.a)(n,2),c=s[0],r=s[1],o=Object(a.useState)({}),d=Object(i.a)(o,2),p=d[0],b=d[1],m={headers:{\"x-access-token\":sessionStorage.config}};function f(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage.id,m);case 2:return t=e.sent,b({id:t.data._id,name:t.data.name,phone:t.data.phone,imageName:t.data.imageName,LastSeen:t.data.LastSeen}),e.abrupt(\"return\",t.data.contacts);case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f().then((function(e){return r(e)}));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]);var x=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==p.phone){e.next=3;break}return console.log(\"cant Add yourself\"),e.abrupt(\"return\");case 3:if(0===c.filter((function(e){return e.phone===t})).length){e.next=7;break}return console.log(\"already exists\"),e.abrupt(\"return\");case 7:return e.prev=7,e.next=10,j.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/getByPhone/\"+t,m);case 10:if(\"no such user\"===(n=e.sent)){e.next=26;break}return a={id:n.data._id,phone:n.data.phone,name:n.data.name,imageName:n.data.imageName},s=[].concat(Object(I.a)(c),[a]),r(s),i=Object(L.a)(Object(L.a)({},p),{},{contacts:s}),e.prev=16,e.next=19,j.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage.id,i,{headers:{\"x-access-token\":sessionStorage.config}});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(16),console.log(e.t0);case 24:e.next=27;break;case 26:console.log(\"user dosent exist\");case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(7),console.log(e.t1);case 32:case\"end\":return e.stop()}}),e,null,[[7,29],[16,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(R.Provider,{value:{setContacts:r,setInfo:b,info:p,config:m,contacts:c,createContact:x,getSearchContacts:function(e){f().then((function(t){var n=t.filter((function(t){return!0===t.name.includes(e)}));r(n)}))}},children:t})}var z=n(104),P=n.n(z),A=s.a.createContext();function q(){return Object(a.useContext)(A)}function E(e){var t=e.userId,n=e.children,s=Object(a.useRef)(),c=Object(a.useState)([]),r=Object(i.a)(c,2),o=r[0],d=r[1];return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.current=P()(\"wss://messagesapp1.herokuapp.com:443/\");case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.current.emit(\"AddUser\",sessionStorage.id),s.current.on(\"getConnectedUsers\",(function(e){d(e)}));case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(h.jsx)(A.Provider,{value:{socket:s,ConnectedUsers:o},children:n})}var F=s.a.createContext();function G(){return Object(a.useContext)(F)}function D(e){e.id;var t=e.children,n=U(),s=n.contacts,c=n.info,r=Object(a.useState)([]),o=Object(i.a)(r,2),d=o[0],p=o[1],b=Object(a.useState)(),m=Object(i.a)(b,2),f=m[0],O=m[1],x=Object(a.useRef)(d),g=Object(a.useRef)(f),v=Object(a.useState)(!1),y=Object(i.a)(v,2),N=y[0],_=y[1],C=q(),w=C.socket,k=C.ConnectedUsers,S=Object(a.useState)(\"\"),R=Object(i.a)(S,2),M=R[0],z=R[1],P=Object(a.useState)(\"\"),A=Object(i.a)(P,2),E=A[0],G=A[1],D={headers:{\"x-access-token\":sessionStorage.config}},B=new Audio(\"https://res.cloudinary.com/dsrgpqnyv/video/upload/v1630680168/juntos-607_qsfc7i.mp3\");function T(){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(\"https://messagesapp1.herokuapp.com/api/conversations/UserConversations/\"+sessionStorage.id,D);case 3:return t=e.sent,n=t.data.map((function(e){var t=e;return 1===e.Participants.length&&e.Name===sessionStorage.name&&(t=Object(L.a)(Object(L.a)({},t),{},{Name:e.Participants[0].name,ConversationImage:e.Participants[0].image})),f&&f.id===t.id&&O(t),t})),e.abrupt(\"return\",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function J(){return(J=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T().then((function(e){var n=e.filter((function(e){return!0===e.Name.includes(t)}));p(n)}));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(u.a)(l.a.mark((function e(t,n,a){var r,i,o,u,b,h,m,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a,i=!1,0!==t.length){e.next=5;break}return console.log(\"no participants choosen\"),e.abrupt(\"return\");case 5:if(o=null,1===t.length&&(o=d.find((function(e){return e.Name===n}))),!o){e.next=11;break}O(o),e.next=41;break;case 11:if((u=t.map((function(e){return s.filter((function(t){return e===t.id}))[0]}))).push({id:c.id,name:c.name,phone:c.phone,imageName:c.imageName,LastSeen:c.LastSeen}),!(t.length>1)){e.next=30;break}return(b=new FormData).append(\"file\",r),b.append(\"upload_preset\",\"whatsApp_clone\"),b.append(\"cloud_name\",\"dsrgpqnyv\"),b.append({secure:!0}),e.prev=19,e.next=22,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",b);case 22:h=e.sent,r=h.data.url,e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),console.log(e.t0);case 29:i=!0;case 30:return m={Name:n,creatorId:sessionStorage.id,Participants:u,Messages:[],LastMessage:{id:\"\",sender:\"\",message:\"\"},ConversationImage:r,isGroup:i},e.prev=31,e.next=34,j.a.post(\"https://messagesapp1.herokuapp.com/api/conversations\",m,D);case 34:\"created\"===(f=e.sent).data.status&&(console.log(f.data.conversation),O(f.data.conversation),f.data.conversation.Messages.length>0&&p((function(e){return[].concat(Object(I.a)(e),[f.data.conversation])}))),e.next=41;break;case 38:e.prev=38,e.t1=e.catch(31),console.log(e.t1);case 41:case\"end\":return e.stop()}}),e,null,[[19,26],[31,38]])})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=w.current){e.next=2;break}return e.abrupt(\"return\");case 2:w.current.on(\"user-typing\",(function(e){var t=e.user,n=e.conversationId;f&&f._id===n&&z(t.name)}));case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f]),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=10;break}if(f.isGroup){e.next=10;break}if(!k.some((function(e){return e.userId===f.Participants[0].id}))){e.next=6;break}G(\"\"),e.next=10;break;case 6:return e.next=8,j.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+f.Participants[0].id,D);case 8:t=e.sent,G(t.data.LastSeen);case 10:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[k,f]),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T().then((function(e){return p(e)}));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var V=Object(a.useCallback)(function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.UpdatedConv,B.play(),a=!1,s=x.current.map((function(e){if(e._id===n._id){a=!0;var t=Object(L.a)(Object(L.a)({},e),{},{Messages:n.Messages,LastMessage:n.LastMessage});return g.current&&g.current._id===n._id&&O(t),t}return e})),a?p(s):n.isGroup?p((function(e){return[].concat(Object(I.a)(e),[n])})):(c=Object(L.a)(Object(L.a)({},n),{},{Name:n.Participants[0].name,ConversationImage:n.Participants[0].imageName}),p((function(e){return[].concat(Object(I.a)(e),[c])})));case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]);Object(a.useEffect)((function(){if(null!=w.current)return x.current=d,g.current=f,w.current.on(\"receive-message\",V),function(){return w.current.off(\"receive-message\",V)}}),[d,f]);return Object(h.jsx)(F.Provider,{value:{createGroupFlag:N,setCreateGroupFlag:_,sendMessage:function(e,t,n,a){var s=new Intl.DateTimeFormat(\"en\",{hc:\"h12\",year:\"numeric\",month:\"2-digit\",day:\"2-digit\",hour:\"numeric\",minute:\"numeric\",timeZone:\"Asia/Jerusalem\"}).formatToParts(new Date).reduce((function(e,t){return e[t.type]=t.value,e}),Object.create(null)),r=\"\".concat(s.day,\"/\").concat(s.month,\"/\").concat(s.year,\"  \").concat(s.hour,\":\").concat(s.minute),i=!1;null!=a&&(i=!0);var o={id:c.id,name:c.name,message:e,timeSent:r,containsImage:t,containsRecord:i,recordURL:a};!0===t&&(o=Object(L.a)(Object(L.a)({},o),{},{imageURL:n}));var l={id:c.id,phone:c.phone,name:c.name,image:c.imageName},u=Object(L.a)(Object(L.a)({},f),{},{Messages:[].concat(Object(I.a)(f.Messages),[o]),LastMessage:o});w.current.emit(\"send-message\",{sender:l,UpdatedConversation:u,conversationId:f._id}),function(e){var t=!1;O(e);var n=d.map((function(n){return n._id===e._id?(t=!0,e):n}));p(t?n:function(t){return[].concat(Object(I.a)(t),[e])})}(u)},conversations:d,createConversation:function(e,t,n){return H.apply(this,arguments)},setConversations:p,setSelectedConversation:O,selectedConversation:f,currentConversationIsConnected:E,typingFlag:M,setTypingFlag:z,getSearchConverastions:function(e){return J.apply(this,arguments)}},children:t})}n(101);function B(){var e=G(),t=e.setSelectedConversation,n=(e.selectedConversation,e.conversations);U().info;function a(){return(a=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n);case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(\"div\",{className:\"Chats\",children:Object(h.jsx)(\"div\",{className:\"contacts_list\",children:n.map((function(e,t){return Object(h.jsxs)(\"div\",{onClick:function(){return function(e){return a.apply(this,arguments)}(e)},className:\"ChatsListItem\",children:[Object(h.jsx)(v.a,{src:\"\"+e.ConversationImage}),Object(h.jsxs)(\"div\",{className:\"chatInfo\",children:[Object(h.jsxs)(\"span\",{className:\"chatName\",children:[Object(h.jsx)(\"h2\",{children:e.Name}),\" \"]}),Object(h.jsxs)(\"span\",{children:[\" \",e.LastMessage.message.slice(0,25),\"... \"]})]})]},t)}))})})}function T(e){var t=e.newConversationCallback,n=e.openModalCallback,a=U().contacts,s=G(),c=s.createConversation;s.setCreateGroupFlag;return Object(h.jsxs)(\"div\",{className:\"Chats\",children:[Object(h.jsx)(\"h4\",{className:\"new_chat_title\",children:\"Start New Chat:\"}),Object(h.jsx)(N.a,{style:{height:\"30px\",margin:\"5px 0px\",fontSize:\"10px\"},onClick:function(){return n()},className:\"add_new_Button\",children:\"Create Group\"}),Object(h.jsx)(\"div\",{className:\"contacts_list\",children:a.map((function(e){return Object(h.jsxs)(\"div\",{className:\"ChatsListItem\",onClick:function(){return function(e){var n=e.id,a=e.name,s=e.image;c([n],a,s),t()}({id:e.id,name:e.name,image:e.imageName})},children:[Object(h.jsx)(v.a,{src:e.imageName}),Object(h.jsxs)(\"div\",{className:\"chatInfo\",children:[\" \",Object(h.jsxs)(\"h2\",{children:[e.name,\" \"]}),\" \"]})]})}))})]})}n(185);var W=n(41),J=n.n(W);function H(e){var t=e.closeModal,n=Object(a.useRef)(),s=U().createContact;function c(){return(c=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(n.current.value),t();case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(\"div\",{className:\"add_new\",children:Object(h.jsx)(\"div\",{className:\"add_new_contact_border\",children:Object(h.jsxs)(\"div\",{className:\"add_contact_model\",children:[Object(h.jsxs)(\"div\",{className:\"title_and_close\",children:[Object(h.jsx)(\"h2\",{className:\"add_contact_title\",children:\"Enter contact phone\"}),Object(h.jsx)(y.a,{className:\"close_add_new\",onClick:function(){return t()},children:Object(h.jsx)(J.a,{fontSize:\"large\"})})]}),Object(h.jsxs)(\"div\",{className:\"add_new_contact\",children:[Object(h.jsx)(\"h3\",{className:\"enter_phone\",children:\"Phone :\"}),Object(h.jsx)(\"input\",{className:\"add_new_input\",type:\"text\",ref:n,required:!0}),Object(h.jsx)(\"button\",{className:\"add_new_button\",onClick:function(){return c.apply(this,arguments)},children:\" Add Contact\"})]})]})})})}var V=n(62),Y=n.n(V),Z=n(73),K=n.n(Z),Q=n(72),X=n.n(Q);var $=function(e){var t=e.closeModal,n=Object(a.useState)([]),s=Object(i.a)(n,2),c=s[0],r=s[1],o=U().contacts,l=G(),u=l.createConversation,d=l.setCreateGroupFlag,j=Object(a.useState)(\"\"),p=Object(i.a)(j,2),b=p[0],m=p[1],f=Object(a.useState)(),O=Object(i.a)(f,2),x=O[0],g=O[1],y=Object(a.useState)(),N=Object(i.a)(y,2),_=N[0],C=N[1],w=Object(a.useState)(!1),k=Object(i.a)(w,2),S=k[0],L=k[1];function R(e){g(e.target.files[0]),C(window.URL.createObjectURL(e.target.files[0]))}return Object(h.jsx)(\"div\",{className:\"add_new\",children:Object(h.jsx)(\"div\",{className:\"add_new_group_border\",children:Object(h.jsx)(\"div\",{className:\"new_conversation new_group\",children:!0!==S?Object(h.jsxs)(\"div\",{className:\"top_new_group\",children:[_?Object(h.jsxs)(\"div\",{className:\"change_group_image\",children:[Object(h.jsx)(v.a,{src:_,style:{height:\"110px\",width:\"110px\",backgroundColor:\"gray\",margin:\"15px\"},children:\" \"}),Object(h.jsxs)(\"div\",{className:\"change_image_on_hover\",style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",position:\"absolute\",zIndex:\"1\",color:\"white\"},children:[Object(h.jsx)(X.a,{style:{position:\"absolute\",zIndex:\"0\",opacity:\"0.1\",height:\"80px\",width:\"80px\"}}),Object(h.jsx)(K.a,{style:{height:\"30px\",width:\"30px\",color:\"white\"}}),Object(h.jsx)(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:R}),Object(h.jsx)(\"span\",{style:{fontSize:\"10px\"},children:\"Change Image \"})]})]}):Object(h.jsx)(\"div\",{className:\"add_group_image\",children:Object(h.jsxs)(v.a,{style:{height:\"110px\",width:\"110px\",backgroundColor:\"gray\",margin:\"15px\"},children:[Object(h.jsx)(X.a,{style:{position:\"absolute\",zIndex:\"0\",opacity:\"0.1\",height:\"80px\",width:\"80px\"}}),Object(h.jsxs)(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",position:\"absolute\",zIndex:\"1\",color:\"white\"},children:[Object(h.jsx)(K.a,{style:{height:\"30px\",width:\"30px\",color:\"white\"}}),Object(h.jsx)(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:R}),Object(h.jsx)(\"span\",{style:{fontSize:\"10px\"},children:\"add group image\"})]})]})}),Object(h.jsxs)(\"div\",{className:\"group_name\",children:[Object(h.jsx)(\"span\",{style:{padding:\"5px\",margin:\"5px\",fontSize:\"13px\",color:\"#fcfcfc\"},children:\" Group Name:\"}),Object(h.jsx)(\"input\",{onChange:function(e){return m(e.target.value)}})]}),Object(h.jsxs)(\"button\",{style:{display:\"flex\",alignItems:\"center\",width:\"180px\",justifyContent:\"center\"},className:\"add_new_button\",onClick:function(){return L(!0)},children:[Object(h.jsx)(Y.a,{style:{margin:\"5px\"}}),\" Add Members\"]})]}):Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"h3\",{className:\"add_contact_title\",children:\" choose Members :\"}),Object(h.jsx)(\"div\",{style:{overflowY:\"overlay\",height:\"200px\"},children:o.map((function(e){return Object(h.jsxs)(\"div\",{className:\"contactItem\",children:[Object(h.jsx)(\"input\",{type:\"checkbox\",value:c.includes(e.id),id:e.name,style:{marginRight:\"10px\"},onChange:function(){return t=e.id,void(c.includes(t)?r((function(e){return e.filter((function(e){return e!==t}))})):r((function(e){return[].concat(Object(I.a)(e),[t])})));var t}}),Object(h.jsx)(v.a,{src:\"\"+e.imageName,fontSize:\"large\"}),Object(h.jsxs)(\"div\",{className:\"contactInfo\",children:[\" \",Object(h.jsxs)(\"h2\",{style:{fontWeight:\"400\"},children:[e.name,\" \"]}),\" \"]})]})}))}),Object(h.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:Object(h.jsx)(\"button\",{className:\"add_new_button\",type:\"submit\",onClick:function(){return d(!1),u(c,b,x),void t()},children:\"Create\"})})]})})})})};function ee(e){e.id;var t=Object(a.useState)(\"conversations\"),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),l=o[0],u=o[1],d=U(),j=d.info,p=d.getSearchContacts,b=Object(a.useState)(!1),m=Object(i.a)(b,2),f=m[0],x=m[1],C=G().getSearchConverastions,k=Object(a.useState)(\"\"),I=Object(i.a)(k,2),L=I[0],R=I[1];function M(){u(!1)}function z(e){u(!0),R(e)}return Object(h.jsxs)(\"div\",{className:\"sideBar\",children:[Object(h.jsxs)(\"div\",{className:\"sidebar_top\",children:[Object(h.jsx)(v.a,{src:j.imageName,fontSize:\"large\"}),Object(h.jsxs)(\"div\",{className:\"sidebar_top_right\",children:[Object(h.jsx)(y.a,{onClick:function(){return c(\"conversations\")},children:Object(h.jsx)(O.a,{fontSize:\"large\"})}),Object(h.jsx)(y.a,{fontSize:\"large\",onClick:function(){return c(\"contacts\")},children:Object(h.jsx)(w.a,{fontSize:\"large\"})}),Object(h.jsx)(y.a,{children:Object(h.jsx)(S.a,{})})]})]}),f?Object(h.jsxs)(\"div\",{className:\"activeSearch\",children:[Object(h.jsx)(\"div\",{className:\"arrowButton\",children:Object(h.jsx)(y.a,{onClick:function(){return x(!1)},children:Object(h.jsx)(Y.a,{fontSize:\"large\"})})}),Object(h.jsx)(\"input\",{className:\"searchBlock\",type:\"text\",onChange:function(e){\"conversations\"===s?C(e.target.value):p(e.target.value)}}),\" \"]}):Object(h.jsx)(\"div\",{className:\"searchBar\",children:Object(h.jsxs)(\"div\",{className:\"searchContainer\",children:[Object(h.jsx)(g.a,{}),Object(h.jsx)(\"input\",{placeholder:\"search\",type:\"text\",onClick:function(){return x(!0)}})]})}),\"contacts\"===s?Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"div\",{className:\"sidebar_middle\",children:Object(h.jsx)(N.a,{style:{fontSize:\"10px\"},onClick:function(){return z(\"NEW_CONTACT\")},className:\"add_new_Button\",children:\"Add New Contact\"})}),Object(h.jsx)(\"div\",{className:\"sidebar_bottom\",children:Object(h.jsx)(T,{newConversationCallback:function(){return c(\"conversations\")},openModalCallback:function(){return z(\"NEW_GROUP\")}})})]}):Object(h.jsx)(\"div\",{className:\"sidebar_bottom\",children:Object(h.jsx)(B,{})}),Object(h.jsx)(_.a,{className:\"Modal\",open:l,onClose:M,children:\"NEW_GROUP\"===L?Object(h.jsx)($,{closeModal:M}):Object(h.jsx)(H,{closeModal:M})})]})}n(102);var te=n(115),ne=n.n(te),ae=n(117),se=n.n(ae),ce=n(116),re=n.n(ce),ie=n(114),oe=n.n(ie),le=n(112),ue=n.n(le),de=n(113),je=n(213);var pe=function(e){var t=e.message,n=Object(a.useState)(!1),s=Object(i.a)(n,2),c=s[0],r=s[1],o=Object(a.useState)(null),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"span\",{className:\"sender_name\",children:t.name}),t.containsImage?Object(h.jsx)(\"img\",{className:\"image_in_message\",src:t.imageURL,alt:\"\",onClick:function(){return e=t.imageURL,r(!0),void d(e);var e},width:\"200px\",height:\"200px\"}):\"\",Object(h.jsxs)(\"p\",{className:\"message_time_and_content\",children:[Object(h.jsx)(\"span\",{className:\"message_content\",children:t.message}),Object(h.jsx)(\"span\",{className:\"message_time\",children:t.timeSent.substring(11,17)}),\" \"]}),Object(h.jsx)(je.a,{onClose:function(){return r(!1)},open:c,children:Object(h.jsx)(\"img\",{src:u,alt:\"\",height:\"500px\",width:\"500px\"})})]})};n(188);var be=function(e){var t=e.message,n=e.sender,a=e.image,s=n.includes(\"chat_reciever\")?\"reciever\":\"sender\";return Object(h.jsxs)(\"div\",{className:\"message_with_audio\",children:[Object(h.jsxs)(\"div\",{className:\"audio_and_time\",children:[Object(h.jsx)(\"div\",{className:s,children:Object(h.jsx)(\"audio\",{controls:!0,controlsList:\"nodownload\",children:Object(h.jsx)(\"source\",{src:t.recordURL,type:\"audio/mp3\"})})}),Object(h.jsx)(\"span\",{className:\"message_time\",children:t.timeSent.substring(11,17)})]}),Object(h.jsx)(v.a,{src:a,style:{height:\"50px\",width:\"50px\"}})]})};var he=function(e){var t=Object(a.useState)(\"\"),n=Object(i.a)(t,2),s=n[0],c=n[1],r=q().socket,o=U().info,d=G(),p=d.sendMessage,b=d.selectedConversation,m=Object(a.useRef)(null),f=Object(a.useState)(!1),O=Object(i.a)(f,2),x=O[0],g=O[1],v=Object(a.useState)(!1),N=Object(i.a)(v,2),_=N[0],C=N[1],w=Object(de.useReactMediaRecorder)({audio:!0}),k=(w.status,w.startRecording),S=w.stopRecording,I=w.mediaBlobUrl,L=w.clearBlobUrl,R=Object(a.useState)(null),M=Object(i.a)(R,2),z=M[0],P=M[1],A=Object(a.useCallback)((function(e){e&&e.scrollIntoView({smooth:!0})}),[]);function E(){return(E=Object(u.a)(l.a.mark((function t(n){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append(\"file\",n.target.files[0]),a.append(\"upload_preset\",\"whatsApp_clone\"),a.append(\"cloud_name\",\"dsrgpqnyv\"),t.prev=4,t.next=7,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",a);case 7:s=t.sent,e.imageCallback(s.data.url),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case\"end\":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}function F(){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(),e.next=3,fetch(I);case 3:t=e.sent,P(t.blob());case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function B(){S(),L(),C(!1)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==z){e.next=25;break}return e.next=3,fetch(I).then((function(e){return e.blob()}));case 3:return t=e.sent,(n=new FormData).append(\"file\",t),n.append(\"resource_type\",\"video\"),n.append(\"upload_preset\",\"whatsApp_clone\"),n.append(\"cloud_name\",\"dsrgpqnyv\"),e.prev=9,e.next=12,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/video/upload\",n);case 12:a=e.sent,c=(c=a.data.url).slice(0,-4),c+=\"mp3\",C(!1),L(),p(s,null,null,c),C(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),console.log(e.t0);case 25:case\"end\":return e.stop()}}),e,null,[[9,22]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z]),Object(h.jsxs)(\"div\",{className:\"body_and_footer\",children:[Object(h.jsx)(\"div\",{className:\"chat_body\",children:b.Messages.map((function(e,t){var n=b.Messages.length-1===t,a=e.id===sessionStorage.id?\"chat_message\":\" chat_message chat_reciever\",s=e.id===sessionStorage.id?o.imageName:b.ConversationImage;return Object(h.jsx)(\"div\",{className:a,ref:n?A:null,children:e.containsRecord?Object(h.jsx)(be,{message:e,sender:a,image:s}):Object(h.jsx)(pe,{message:e})},t)}))}),Object(h.jsxs)(\"div\",{className:\"chat_footer_with_stickers\",children:[x?Object(h.jsx)(ue.a,{onEmojiClick:function(e,t){return function(e,t){c(s+t.emoji)}(0,t)},pickerStyle:{width:\"100%\"}}):\"\",Object(h.jsxs)(\"div\",{className:\"chat_footer\",children:[x?Object(h.jsxs)(y.a,{onClick:function(){return g(!1)},children:[Object(h.jsx)(J.a,{fontSize:\"large\"}),\" \"]}):\"\",Object(h.jsx)(y.a,{onClick:function(){return g(!0)},children:Object(h.jsx)(ne.a,{fontSize:\"large\"})}),Object(h.jsx)(\"input\",{accept:\"image/*\",className:\"invisibleInput\",id:\"icon-button-file\",type:\"file\",style:{visibility:\"hidden\"},onChange:function(e){return E.apply(this,arguments)}}),Object(h.jsx)(\"label\",{htmlFor:\"icon-button-file\",children:Object(h.jsx)(y.a,{component:\"span\",children:Object(h.jsx)(re.a,{fontSize:\"large\"})})}),Object(h.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),p(s,!1,null,null),c(\" \")},className:\"message_section\",children:[Object(h.jsx)(\"input\",{className:\"message_input\",ref:m,value:s,onChange:function(e){c(e.target.value),null!=r.current&&r.current.emit(\"typing\",{user:o,Conversation:b})},type:\"text\",placeholder:\"type a message\"}),Object(h.jsx)(\"button\",{type:\"submit\",children:\" send \"})]}),_?Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(y.a,{children:Object(h.jsx)(J.a,{fontSize:\"large\",style:{color:\"red\"},onClick:B})}),Object(h.jsx)(y.a,{children:Object(h.jsx)(oe.a,{fontSize:\"large\",style:{color:\"green\"},onClick:F})})]}):Object(h.jsx)(y.a,{onClick:function(){C(!0),k()},children:Object(h.jsx)(se.a,{fontSize:\"large\"})})]})]})]})},me=(n(189),n(118)),fe=n.n(me);var Oe=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(\"\"),s=Object(i.a)(n,2),c=s[0],r=s[1],o=q().socket,l=U().info,u=G(),d=u.sendMessage,j=u.selectedConversation;function p(t){!0===t&&d(c,!0,e.imageURL),r(\" \"),e.backToChat()}return Object(h.jsxs)(\"div\",{className:\"SendImage\",children:[Object(h.jsx)(\"div\",{className:\"sendImageHeader\"}),Object(h.jsx)(y.a,{type:\"submit\",onClick:function(){return p(!1)},children:Object(h.jsx)(J.a,{fontSize:\"large\"})}),Object(h.jsx)(\"img\",{src:e.imageURL,alt:\"\",height:\"300px\",width:\"300px\"}),Object(h.jsx)(\"div\",{className:\"add_message\",children:Object(h.jsxs)(\"form\",{onSubmit:function(){return p(!0)},className:\"message_section\",children:[Object(h.jsx)(y.a,{type:\"submit\",children:Object(h.jsx)(fe.a,{fontSize:\"large\"})}),Object(h.jsx)(\"input\",{className:\"message_input\",ref:t,value:c,onChange:function(e){r(e.target.value),null!=o.current&&o.current.emit(\"typing\",{user:l,Conversation:j})},type:\"text\",placeholder:\"type a message\"})]})})]})};function xe(){var e=G(),t=e.selectedConversation,n=e.currentConversationIsConnected,s=e.typingFlag,c=e.setTypingFlag,r=Object(a.useState)(!1),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(a.useState)(!1),j=Object(i.a)(d,2),p=j[0],b=j[1];return Object(h.jsxs)(\"div\",{className:\"chat\",children:[Object(h.jsxs)(\"div\",{className:\"chat_header\",children:[Object(h.jsx)(v.a,{src:t.ConversationImage}),Object(h.jsxs)(\"div\",{className:\"chat_header_info\",children:[Object(h.jsxs)(\"h2\",{children:[\" \",t.Name,\" \"]}),t.isGroup?function(){var e=\"\";if(\"\"!==s)e=Object(h.jsxs)(\"div\",{className:\"lastSeen\",children:[\" \",s,\" is typing...\"]}),setTimeout((function(){return c(\"\")}),1e3);else{var n=\"\";t.Participants.forEach((function(e,a){a===t.Participants.length-1?n+=e.name:n=n+e.name+\", \"})),e=Object(h.jsxs)(\"div\",{className:\"lastSeen\",children:[n,\" \"]})}return e}():function(){var e=\"\";return\"\"===n?\"\"!==s?(e=Object(h.jsx)(\"div\",{className:\"lastSeen\",children:\" typing...\"}),setTimeout((function(){return c(\"\")}),1e3)):e=Object(h.jsxs)(\"div\",{className:\"connected\",children:[Object(h.jsx)(\"div\",{className:\"circle\"}),\" online \"]}):e=Object(h.jsx)(\"div\",{className:\"lastSeen\",children:n}),e}()]})]}),l?Object(h.jsx)(Oe,{imageURL:p,backToChat:function(){b(null),u(!1)}}):Object(h.jsx)(he,{imageCallback:function(e){b(e),u(!0)}})]})}var ge=Object(p.h)((function(e){var t=e.id,n=G().selectedConversation;return Object(h.jsx)(\"div\",{className:\"dashboard\",children:Object(h.jsxs)(\"div\",{className:\"dashboard_body\",children:[Object(h.jsx)(ee,{id:t}),void 0!==n?Object(h.jsx)(xe,{id:t}):\"\"]})})}));var ve=function(e){var t=Object(a.useState)(\"\"),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(\"\"),o=Object(i.a)(r,2),d=o[0],m=o[1],f=Object(a.useState)(),O=Object(i.a)(f,2),x=O[0],g=O[1],v=Object(p.g)();function y(){return(y=Object(u.a)(l.a.mark((function t(n){var a,c,r,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=\"\",(c=new FormData).append(\"file\",x),c.append(\"upload_preset\",\"whatsApp_clone\"),c.append(\"cloud_name\",\"dsrgpqnyv\"),c.append({secure:!0}),t.prev=7,t.next=10,j.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",c);case 10:r=t.sent,a=r.data.url,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),console.log(t.t0);case 17:return i={name:d,phone:s,imageName:a,contacts:[],LastSeen:\"last seen at...\"},t.prev=18,t.next=21,j.a.post(\"https://messagesapp1.herokuapp.com/api/logIn/Register\",i);case 21:o=t.sent,sessionStorage.config=o.data.token,sessionStorage.id=o.data.User._id,sessionStorage.name=o.data.User.name,e.CanLogIn(o.data.User._id),v.push(\"/App\"),t.next=32;break;case 29:t.prev=29,t.t1=t.catch(18),console.log(t.t1);case 32:case\"end\":return t.stop()}}),t,null,[[7,14],[18,29]])})))).apply(this,arguments)}return Object(h.jsxs)(\"div\",{className:\"overlay\",children:[Object(h.jsx)(\"link\",{rel:\"stylesheet\",href:\"http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css\"}),Object(h.jsx)(\"form\",{className:\"login_form\",onSubmit:function(e){return y.apply(this,arguments)},children:Object(h.jsxs)(\"div\",{className:\"con\",children:[Object(h.jsxs)(\"header\",{className:\"head-form\",children:[Object(h.jsx)(\"h2\",{children:\"Register\"}),Object(h.jsx)(\"p\",{children:\"welcome to  my whatsApp\"})]}),Object(h.jsxs)(\"div\",{className:\"field-set\",children:[Object(h.jsxs)(\"span\",{className:\"input-item\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-user-circle\"}),Object(h.jsx)(\"input\",{className:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function(e){return m(e.target.value)},required:!0})]}),Object(h.jsxs)(\"span\",{className:\"input-item\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-key\"}),Object(h.jsx)(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(h.jsx)(\"div\",{id:\"fileupload\",children:Object(h.jsx)(\"div\",{className:\"myfileupload-buttonbar \",children:Object(h.jsxs)(\"label\",{className:\"myui-button\",children:[Object(h.jsx)(\"i\",{class:\"fa fa-upload\",\"aria-hidden\":\"true\"}),Object(h.jsx)(\"span\",{className:\"text\",children:\"Add Picture\"}),Object(h.jsx)(\"input\",{id:\"file\",type:\"file\",name:\"file\",onChange:function(e){g(e.target.files[0])}})]})})}),Object(h.jsx)(\"button\",{className:\"log-in\",type:\"submit\",children:\" Register \"})]}),Object(h.jsx)(\"div\",{children:Object(h.jsxs)(\"button\",{className:\"btn submits sign-up\",children:[Object(h.jsx)(b.b,{className:\"defaultLink\",to:\"/\",children:\"back to Log In\"}),Object(h.jsx)(\"i\",{class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"})]})})]})})]})};var ye=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(h.jsx)(E,{userId:n,children:Object(h.jsx)(M,{id:n,children:Object(h.jsx)(D,{children:Object(h.jsx)(ge,{id:n})})})});return Object(h.jsx)(b.a,{children:Object(h.jsx)(\"div\",{className:\"App\",children:Object(h.jsxs)(p.d,{children:[sessionStorage.id,Object(h.jsxs)(p.b,{exact:!0,path:\"/\",children:[\" \",Object(h.jsx)(m,{CanLogIn:s})]}),Object(h.jsxs)(p.b,{path:\"/Register\",children:[\" \",Object(h.jsx)(ve,{CanLogIn:s})]}),sessionStorage.id?Object(h.jsxs)(p.b,{exact:!0,path:\"/App\",children:[\" \",c,\" \"]}):Object(h.jsx)(p.a,{to:\"/\"})]})})})};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(ye,{})}),document.getElementById(\"root\"))},75:function(e,t,n){}},[[190,1,2]]]);","name":"static/js/main.cf483840.chunk.js","map":{"version":3,"sources":["static/js/main.cf483840.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","regenerator","regenerator_default","asyncToGenerator","axios","axios_default","react_router","react_router_dom","jsx_runtime","LogIn","props","_useState","Object","_useState2","phone","setPhone","_useState3","_useState4","UserName","setUserName","_useState5","_useState6","Error","setError","history","_handleSubmit","a","mark","_callee","e","obj","response","wrap","_context","prev","next","preventDefault","name","post","sent","data","sessionStorage","token","User","_id","CanLogIn","stop","apply","arguments","class","children","className","onSubmit","_x","id","type","placeholder","onChange","target","value","required","to","Chat","Chat_default","SearchOutlined","SearchOutlined_default","Avatar","IconButton","Button","Modal","People","People_default","MoreVert","MoreVert_default","toConsumableArray","objectSpread2","UserContext","createContext","useUser","UserProvider","_ref","contacts","setContacts","info","setInfo","config","headers","getContacts","_getContacts","_callee3","_context3","get","imageName","LastSeen","abrupt","_fetchData","then","res","fetchData","createContact","_ref2","_callee2","contact","newContacts","UpdatedUser","_context2","console","log","filter","length","concat","put","t0","t1","Provider","getSearchContacts","str","SearchResult","includes","build","build_default","SocketContext","useSocket","SocketProvider","userId","socket","ConnectedUsers","setConnectedUsers","current","_fetchData2","emit","on","users","ConversationsContext","useConversations","ConversationsProvider","_useUser","conversations","setConversations","selectedConversation","setSelectedConversation","RefConversations","currentConversationRef","createGroupFlag","setCreateGroupFlag","_useSocket","_useState7","_useState8","typingFlag","setTypingFlag","_useState9","_useState10","currentConversationIsConnected","setCurrentConversationIsConnected","audio","Audio","getConversations","_getConversations","_callee5","ConversationsList","_context5","map","conversation","UpdatedConversation","Participants","Name","ConversationImage","image","_getSearchConverastions","_callee6","_context6","_createConversation","_callee7","ids","isGroup","ConversationExists","participants","newConversation","Response","_context7","find","FormData","append","secure","url","creatorId","Messages","LastMessage","sender","message","status","prevConversations","user","conversationId","some","_fetchData3","addMessageToConversation","_ref4","_callee4","_ref3","UpdatedConv","newListOfConversations","_context4","play","newConv","_x5","off","sendMessage","text","imageFlag","imageURL","recordURL","parts","Intl","DateTimeFormat","hc","year","month","day","hour","minute","timeZone","formatToParts","Date","reduce","acc","part","create","time","recordFlag","CurrentMessage","timeSent","containsImage","containsRecord","AddMessage","newListOfConcversations","updateSenderConversation","createConversation","_x2","_x3","_x4","getSearchConverastions","Conversations","_useConversations","_handleSelectedConversation","index","onClick","handleSelectedConversation","src","slice","Contacts","newConversationCallback","openModalCallback","style","height","margin","fontSize","startConversation","Close","Close_default","AddNewContact","closeModal","phoneRef","ref","ArrowBack","ArrowBack_default","AddAPhoto","AddAPhoto_default","PeopleAlt","PeopleAlt_default","createnewgroup","selectedContactsId","setSelectedContactsId","groupName","setGroupName","groupImage","setGroupImage","previewImage","setPreviewImage","goToParticipants","setGoToParticipants","handleFileUpload","files","window","URL","createObjectURL","width","backgroundColor","display","flexDirection","alignItems","position","zIndex","color","opacity","accept","padding","justifyContent","overflowY","marginRight","contactId","prevSelectedContactsId","fontWeight","SideBar","choosenAct","setChoosenAct","modalOpen","setModalOpen","searchFlag","setSearchFlag","choosenModal","setChoosenModal","openChoosenModal","modalType","open","onClose","InsertEmoticon","InsertEmoticon_default","Mic","Mic_default","Image","Image_default","Check","Check_default","dist","dist_default","react_media_recorder","Dialog","components_message","SelectedImageURL","setSelectedImageURL","alt","substring","components_audiomessage","messageColor","controls","controlsList","chatbody","Text","setText","inputRef","emojiFlag","setEmojiFlag","setRecordFlag","_useReactMediaRecorde","startRecording","stopRecording","mediaBlobUrl","clearBlobUrl","audioBlob","setAudioBlob","setRef","node","scrollIntoView","smooth","_handleImage","imageCallback","handleRecord","_handleRecord","fetch","blob","cancelRecord","lastMessage","onEmojiClick","emojiObject","event","emoji","_onEmojiClick","pickerStyle","visibility","htmlFor","component","Conversation","Send","Send_default","components_sendimagebody","handleSubmit","backToChat","chat_Chat","setImageFlag","setImageURL","returnValue","setTimeout","UsersInGroup","forEach","participant","groupheader","privateConversationHeader","components_dashboard","undefined","register","setName","Picture","setPicture","picturePath","_response","rel","href","components_App","setId","dashboard","exact","path","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmyclient\"] = this[\"webpackJsonpmyclient\"] || []).push([[0],{\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(15);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./src/css/app.css\nvar app = __webpack_require__(129);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(3);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/css/login.css\nvar login = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(13);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./node_modules/font-awesome/css/font-awesome.min.css\nvar font_awesome_min = __webpack_require__(148);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/login.js\nfunction LogIn(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),phone=_useState2[0],setPhone=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),UserName=_useState4[0],setUserName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),Error=_useState6[0],setError=_useState6[1];var history=Object(react_router[\"g\" /* useHistory */])();/*get user information and token from DB*/function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var obj,response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError('');e.preventDefault();obj={name:UserName,phone:phone};_context.next=5;return axios_default.a.post(\"https://messagesapp1.herokuapp.com/api/logIn\",obj);case 5:response=_context.sent;if(response.data!==\"not found\"){sessionStorage['config']=response.data.token;sessionStorage['id']=response.data.User._id;sessionStorage['name']=response.data.User.name;props.CanLogIn(response.data.User._id);history.push('/App');}else setError(\"One or more of your identification details is incorrect.\");case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"overlay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:\"login_form\",onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"con\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{class:\"head-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Log In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"welcome to  my whatsApp\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"field-set\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{class:\"input-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-user-circle\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{class:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function onChange(e){return setUserName(e.target.value);},required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{class:\"input-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-key\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{class:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function onChange(e){return setPhone(e.target.value);},required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"log-in\",type:\"submit\",children:\" Log In \"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn submits sign-up\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"defaultLink\",to:\"/Register\",children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"})]})}),Error]})})});/*</div>\r\n      <div className='LogInPage'>\r\n            <form onSubmit={handleSubmit} className='logInBorder'>\r\n              <input className='phone_and_name' type='text' placeholder=\"Username\" onChange={(e)=> setUserName(e.target.value)}/> \r\n              <input placeholder=\"phone/password\" className='phone_and_name' type='text' onChange={(e)=> setPhone(e.target.value)}/>  \r\n              <button className='submit_button' type='submit'> Login</button> \r\n              <button  className='submit_button'> <Link className='defaultLink' to={`/Register`}>Register</Link></button>\r\n              {Error}\r\n               \r\n            </form>  \r\n            </div>*/}\n// EXTERNAL MODULE: ./src/css/dashboard.css\nvar css_dashboard = __webpack_require__(154);\n\n// EXTERNAL MODULE: ./src/css/sidebar.css\nvar sidebar = __webpack_require__(155);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Chat.js\nvar Chat = __webpack_require__(108);\nvar Chat_default = /*#__PURE__*/__webpack_require__.n(Chat);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/SearchOutlined.js\nvar SearchOutlined = __webpack_require__(111);\nvar SearchOutlined_default = /*#__PURE__*/__webpack_require__.n(SearchOutlined);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(215);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(212);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(211);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Modal/Modal.js + 6 modules\nvar Modal = __webpack_require__(214);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/People.js\nvar People = __webpack_require__(109);\nvar People_default = /*#__PURE__*/__webpack_require__.n(People);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/MoreVert.js\nvar MoreVert = __webpack_require__(110);\nvar MoreVert_default = /*#__PURE__*/__webpack_require__.n(MoreVert);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./src/contexts/userprovider.js\nvar UserContext=/*#__PURE__*/react_default.a.createContext();function useUser(){return Object(react[\"useContext\"])(UserContext);}function UserProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),info=_useState4[0],setInfo=_useState4[1];var config={'headers':{'x-access-token':sessionStorage['config']}};Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getContacts().then(function(res){return setContacts(res);});case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[setInfo]);function getContacts(){return _getContacts.apply(this,arguments);}function _getContacts(){_getContacts=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var response;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios_default.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],config);case 2:response=_context3.sent;setInfo({id:response.data._id,name:response.data.name,phone:response.data.phone,imageName:response.data.imageName,LastSeen:response.data.LastSeen});return _context3.abrupt(\"return\",response.data.contacts);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _getContacts.apply(this,arguments);}function getSearchContacts(str){getContacts().then(function(res){var SearchResult=res.filter(function(contact){return contact.name.includes(str)===true;});setContacts(SearchResult);});}var createContact=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(phone){var checkIfExists,response,contact,newContacts,UpdatedUser;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(phone===info.phone)){_context2.next=3;break;}console.log('cant Add yourself');return _context2.abrupt(\"return\");case 3:checkIfExists=contacts.filter(function(contact){return contact.phone===phone;});if(!(checkIfExists.length!==0)){_context2.next=7;break;}console.log('already exists');return _context2.abrupt(\"return\");case 7:_context2.prev=7;_context2.next=10;return axios_default.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/getByPhone/\"+phone,config);case 10:response=_context2.sent;if(!(response!=='no such user')){_context2.next=26;break;}contact={id:response.data._id,phone:response.data.phone,name:response.data.name,imageName:response.data.imageName};newContacts=[].concat(Object(toConsumableArray[\"a\" /* default */])(contacts),[contact]);setContacts(newContacts);UpdatedUser=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},info),{},{contacts:newContacts});_context2.prev=16;_context2.next=19;return axios_default.a.put(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],UpdatedUser,{'headers':{'x-access-token':sessionStorage['config']}});case 19:_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](16);console.log(_context2.t0);case 24:_context2.next=27;break;case 26:console.log('user dosent exist');case 27:_context2.next=32;break;case 29:_context2.prev=29;_context2.t1=_context2[\"catch\"](7);console.log(_context2.t1);case 32:case\"end\":return _context2.stop();}}},_callee2,null,[[7,29],[16,21]]);}));return function createContact(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserContext.Provider,{value:{setContacts:setContacts,setInfo:setInfo,info:info,config:config,contacts:contacts,createContact:createContact,getSearchContacts:getSearchContacts},children:children});}\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(104);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// CONCATENATED MODULE: ./src/contexts/socketprovider.js\nvar SocketContext=/*#__PURE__*/react_default.a.createContext();function useSocket(){return Object(react[\"useContext\"])(SocketContext);}function SocketProvider(_ref){var userId=_ref.userId,children=_ref.children;var socket=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),ConnectedUsers=_useState2[0],setConnectedUsers=_useState2[1];Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:socket.current=build_default()(\"wss://messagesapp1.herokuapp.com:443/\");case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:socket.current.emit(\"AddUser\",sessionStorage['id']);socket.current.on(\"getConnectedUsers\",function(users){setConnectedUsers(users);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}fetchData();},[userId]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext.Provider,{value:{socket:socket,ConnectedUsers:ConnectedUsers},children:children});}\n// CONCATENATED MODULE: ./src/contexts/conversationsprovider.js\nvar ConversationsContext=/*#__PURE__*/react_default.a.createContext();function useConversations(){return Object(react[\"useContext\"])(ConversationsContext);}function ConversationsProvider(_ref){var id=_ref.id,children=_ref.children;var _useUser=useUser(),contacts=_useUser.contacts,info=_useUser.info;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),conversations=_useState2[0],setConversations=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedConversation=_useState4[0],setSelectedConversation=_useState4[1];var RefConversations=Object(react[\"useRef\"])(conversations);var currentConversationRef=Object(react[\"useRef\"])(selectedConversation);var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),createGroupFlag=_useState6[0],setCreateGroupFlag=_useState6[1];var _useSocket=useSocket(),socket=_useSocket.socket,ConnectedUsers=_useSocket.ConnectedUsers;var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),typingFlag=_useState8[0],setTypingFlag=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),currentConversationIsConnected=_useState10[0],setCurrentConversationIsConnected=_useState10[1];var config={headers:{\"x-access-token\":sessionStorage[\"config\"]}};var audio=new Audio('https://res.cloudinary.com/dsrgpqnyv/video/upload/v1630680168/juntos-607_qsfc7i.mp3');Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(socket.current==null)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:socket.current.on('user-typing',function(_ref2){var user=_ref2.user,conversationId=_ref2.conversationId;if(selectedConversation){if(selectedConversation._id===conversationId){setTypingFlag(user.name);}}});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[selectedConversation]);Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!selectedConversation){_context2.next=10;break;}if(selectedConversation.isGroup){_context2.next=10;break;}if(!ConnectedUsers.some(function(user){return user.userId===selectedConversation.Participants[0].id;})){_context2.next=6;break;}setCurrentConversationIsConnected('');_context2.next=10;break;case 6:_context2.next=8;return axios_default.a.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+selectedConversation.Participants[0].id,config);case 8:response=_context2.sent;setCurrentConversationIsConnected(response.data.LastSeen);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}fetchData();},[ConnectedUsers,selectedConversation]);Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData3.apply(this,arguments);}function _fetchData3(){_fetchData3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:getConversations().then(function(res){return setConversations(res);});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchData3.apply(this,arguments);}fetchData();},[]);function getConversations(){return _getConversations.apply(this,arguments);}function _getConversations(){_getConversations=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){var response,ConversationsList;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios_default.a.get(\"https://messagesapp1.herokuapp.com/api/conversations/UserConversations/\"+sessionStorage[\"id\"],config);case 3:response=_context5.sent;ConversationsList=response.data.map(function(conversation){var UpdatedConversation=conversation;if(conversation.Participants.length===1&&conversation.Name===sessionStorage[\"name\"])UpdatedConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},UpdatedConversation),{},{Name:conversation.Participants[0].name,ConversationImage:conversation.Participants[0].image});if(selectedConversation){if(selectedConversation.id===UpdatedConversation.id)setSelectedConversation(UpdatedConversation);}return UpdatedConversation;});return _context5.abrupt(\"return\",ConversationsList);case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,8]]);}));return _getConversations.apply(this,arguments);}function getSearchConverastions(_x){return _getSearchConverastions.apply(this,arguments);}function _getSearchConverastions(){_getSearchConverastions=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(str){return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:getConversations().then(function(res){var SearchResult=res.filter(function(conversation){return conversation.Name.includes(str)===true;});setConversations(SearchResult);});case 1:case\"end\":return _context6.stop();}}},_callee6);}));return _getSearchConverastions.apply(this,arguments);}function createConversation(_x2,_x3,_x4){return _createConversation.apply(this,arguments);}function _createConversation(){_createConversation=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(ids,name,image){var ConversationImage,isGroup,ConversationExists,participants,data,response,newConversation,Response;return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:ConversationImage=image;isGroup=false;//no participants chosen\nif(!(ids.length===0)){_context7.next=5;break;}console.log(\"no participants choosen\");return _context7.abrupt(\"return\");case 5://check if conversation already exists\nConversationExists=null;if(ids.length===1){ConversationExists=conversations.find(function(conversation){return conversation.Name===name;});}if(!ConversationExists){_context7.next=11;break;}setSelectedConversation(ConversationExists);//create new conversation\n_context7.next=41;break;case 11://get conversation participants\nparticipants=ids.map(function(id){var addContactToConversation=contacts.filter(function(contact){return id===contact.id;});return addContactToConversation[0];});//add creator to participants\nparticipants.push({id:info.id,name:info.name,phone:info.phone,imageName:info.imageName,LastSeen:info.LastSeen});//if group\nif(!(ids.length>1)){_context7.next=30;break;}data=new FormData();data.append('file',ConversationImage);data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");data.append({secure:true});_context7.prev=19;_context7.next=22;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data);case 22:response=_context7.sent;ConversationImage=response.data.url;_context7.next=29;break;case 26:_context7.prev=26;_context7.t0=_context7[\"catch\"](19);console.log(_context7.t0);case 29:isGroup=true;case 30:newConversation={Name:name,creatorId:sessionStorage[\"id\"],Participants:participants,Messages:[],LastMessage:{id:\"\",sender:\"\",message:\"\"},ConversationImage:ConversationImage,isGroup:isGroup};//updateDB\n_context7.prev=31;_context7.next=34;return axios_default.a.post(\"https://messagesapp1.herokuapp.com/api/conversations\",newConversation,config);case 34:Response=_context7.sent;if(Response.data.status===\"created\"){console.log(Response.data.conversation);setSelectedConversation(Response.data.conversation);//show conversation only if messages sent\nif(Response.data.conversation.Messages.length>0)setConversations(function(prevConversations){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevConversations),[Response.data.conversation]);});// }\n}_context7.next=41;break;case 38:_context7.prev=38;_context7.t1=_context7[\"catch\"](31);console.log(_context7.t1);case 41:case\"end\":return _context7.stop();}}},_callee7,null,[[19,26],[31,38]]);}));return _createConversation.apply(this,arguments);}var addMessageToConversation=Object(react[\"useCallback\"])(/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref3){var UpdatedConv,ConversationExists,newListOfConversations,newConversation;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:UpdatedConv=_ref3.UpdatedConv;audio.play();ConversationExists=false;newListOfConversations=RefConversations.current.map(function(conversation){if(conversation._id===UpdatedConv._id){ConversationExists=true;var newConv=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},conversation),{},{Messages:UpdatedConv.Messages,LastMessage:UpdatedConv.LastMessage});if(currentConversationRef.current){if(currentConversationRef.current._id===UpdatedConv._id)setSelectedConversation(newConv);}return newConv;}else return conversation;});if(!ConversationExists){if(!UpdatedConv.isGroup){newConversation=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},UpdatedConv),{},{Name:UpdatedConv.Participants[0].name,ConversationImage:UpdatedConv.Participants[0].imageName});setConversations(function(prevConversations){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevConversations),[newConversation]);});}else setConversations(function(prevConversations){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevConversations),[UpdatedConv]);});}else setConversations(newListOfConversations);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref4.apply(this,arguments);};}(),[setConversations]);Object(react[\"useEffect\"])(function(){if(socket.current==null)return;RefConversations.current=conversations;currentConversationRef.current=selectedConversation;socket.current.on(\"receive-message\",addMessageToConversation);return function(){return socket.current.off(\"receive-message\",addMessageToConversation);};},[conversations,selectedConversation]);var updateSenderConversation=function updateSenderConversation(AddMessage){var ConversationExists=false;setSelectedConversation(AddMessage);var newListOfConcversations=conversations.map(function(conversation){if(conversation._id===AddMessage._id){ConversationExists=true;return AddMessage;}else return conversation;});if(ConversationExists){setConversations(newListOfConcversations);}else setConversations(function(prevConversations){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevConversations),[AddMessage]);});};function sendMessage(text,imageFlag,imageURL,recordURL){var parts=new Intl.DateTimeFormat('en',{hc:'h12',year:'numeric',month:'2-digit',day:'2-digit',hour:'numeric',minute:'numeric',timeZone:'Asia/Jerusalem'}).formatToParts(new Date()).reduce(function(acc,part){acc[part.type]=part.value;return acc;},Object.create(null));var time=\"\".concat(parts.day,\"/\").concat(parts.month,\"/\").concat(parts.year,\"  \").concat(parts.hour,\":\").concat(parts.minute);var recordFlag=false;if(recordURL!=null)recordFlag=true;var CurrentMessage={id:info.id,name:info.name,message:text,timeSent:time,containsImage:imageFlag,containsRecord:recordFlag,recordURL:recordURL};if(imageFlag===true)CurrentMessage=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},CurrentMessage),{},{imageURL:imageURL});var sender={id:info.id,phone:info.phone,name:info.name,image:info.imageName};var AddMessage=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},selectedConversation),{},{Messages:[].concat(Object(toConsumableArray[\"a\" /* default */])(selectedConversation.Messages),[CurrentMessage]),LastMessage:CurrentMessage});socket.current.emit(\"send-message\",{sender:sender,UpdatedConversation:AddMessage,conversationId:selectedConversation._id});updateSenderConversation(AddMessage);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ConversationsContext.Provider,{value:{createGroupFlag:createGroupFlag,setCreateGroupFlag:setCreateGroupFlag,sendMessage:sendMessage,conversations:conversations,createConversation:createConversation,setConversations:setConversations,setSelectedConversation:setSelectedConversation,selectedConversation:selectedConversation,currentConversationIsConnected:currentConversationIsConnected,typingFlag:typingFlag,setTypingFlag:setTypingFlag,getSearchConverastions:getSearchConverastions},children:children});}\n// EXTERNAL MODULE: ./src/css/conversations.css\nvar css_conversations = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./src/components/conversations.js\nfunction Conversations(){var _useConversations=useConversations(),setSelectedConversation=_useConversations.setSelectedConversation,selectedConversation=_useConversations.selectedConversation,conversations=_useConversations.conversations;var _useUser=useUser(),info=_useUser.info;function handleSelectedConversation(_x){return _handleSelectedConversation.apply(this,arguments);}function _handleSelectedConversation(){_handleSelectedConversation=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(conversation){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSelectedConversation(conversation);case 1:case\"end\":return _context.stop();}}},_callee);}));return _handleSelectedConversation.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Chats\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"contacts_list\",children:conversations.map(function(conversation,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:function onClick(){return handleSelectedConversation(conversation);},className:\"ChatsListItem\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"\"+conversation.ConversationImage}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatInfo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"chatName\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:conversation.Name}),\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\" \",conversation.LastMessage.message.slice(0,25),\"... \"]})]})]},index);})})});}\n// CONCATENATED MODULE: ./src/components/contacts.js\nfunction Contacts(_ref){var newConversationCallback=_ref.newConversationCallback,openModalCallback=_ref.openModalCallback;var _useUser=useUser(),contacts=_useUser.contacts;var _useConversations=useConversations(),createConversation=_useConversations.createConversation,setCreateGroupFlag=_useConversations.setCreateGroupFlag;function startConversation(_ref2){var id=_ref2.id,name=_ref2.name,image=_ref2.image;var ids=[id];createConversation(ids,name,image);newConversationCallback();}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Chats\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"new_chat_title\",children:\"Start New Chat:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{height:'30px',margin:'5px 0px',fontSize:'10px'},onClick:function onClick(){return openModalCallback();},className:\"add_new_Button\",children:\"Create Group\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"contacts_list\",children:contacts.map(function(contact){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ChatsListItem\",onClick:function onClick(){return startConversation({id:contact.id,name:contact.name,image:contact.imageName});},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:contact.imageName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatInfo\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[contact.name,\" \"]}),\" \"]})]});})})]});};\n// EXTERNAL MODULE: ./src/css/addnew.css\nvar addnew = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Close.js\nvar Close = __webpack_require__(41);\nvar Close_default = /*#__PURE__*/__webpack_require__.n(Close);\n\n// CONCATENATED MODULE: ./src/components/addnewcontact.js\nfunction AddNewContact(_ref){var closeModal=_ref.closeModal;var phoneRef=Object(react[\"useRef\"])();var _useUser=useUser(),createContact=_useUser.createContact;function handleSubmit(){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:createContact(phoneRef.current.value);closeModal();case 2:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new_contact_border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"add_contact_model\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"title_and_close\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"add_contact_title\",children:\"Enter contact phone\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:\"close_add_new\",onClick:function onClick(){return closeModal();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"add_new_contact\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"enter_phone\",children:\"Phone :\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"add_new_input\",type:\"text\",ref:phoneRef,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"add_new_button\",onClick:handleSubmit,children:\" Add Contact\"})]})]})})});}\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ArrowBack.js\nvar ArrowBack = __webpack_require__(62);\nvar ArrowBack_default = /*#__PURE__*/__webpack_require__.n(ArrowBack);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AddAPhoto.js\nvar AddAPhoto = __webpack_require__(73);\nvar AddAPhoto_default = /*#__PURE__*/__webpack_require__.n(AddAPhoto);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/PeopleAlt.js\nvar PeopleAlt = __webpack_require__(72);\nvar PeopleAlt_default = /*#__PURE__*/__webpack_require__.n(PeopleAlt);\n\n// CONCATENATED MODULE: ./src/components/createnewgroup.js\nfunction CreateNewGroup(_ref){var closeModal=_ref.closeModal;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedContactsId=_useState2[0],setSelectedContactsId=_useState2[1];var _useUser=useUser(),contacts=_useUser.contacts;var _useConversations=useConversations(),createConversation=_useConversations.createConversation,setCreateGroupFlag=_useConversations.setCreateGroupFlag;var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),groupName=_useState4[0],setGroupName=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),groupImage=_useState6[0],setGroupImage=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),previewImage=_useState8[0],setPreviewImage=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),goToParticipants=_useState10[0],setGoToParticipants=_useState10[1];function createGroup(){setCreateGroupFlag(false);createConversation(selectedContactsId,groupName,groupImage);closeModal();}function handleCheckboxChange(contactId){if(selectedContactsId.includes(contactId)){setSelectedContactsId(function(prevSelectedContactsId){return prevSelectedContactsId.filter(function(id){return id!==contactId;});});}else{setSelectedContactsId(function(prevSelectedContactsId){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevSelectedContactsId),[contactId]);});}}function handleFileUpload(e){setGroupImage(e.target.files[0]);setPreviewImage(window.URL.createObjectURL(e.target.files[0]));}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_new_group_border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"new_conversation new_group\",children:goToParticipants!==true?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"top_new_group\",children:[previewImage?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_group_image\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:previewImage,style:{height:'110px',width:'110px',backgroundColor:'gray',margin:'15px'},children:\" \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"change_image_on_hover\",style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PeopleAlt_default.a,{style:{position:'absolute',zIndex:'0',opacity:'0.1',height:'80px',width:'80px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'10px'},children:\"Change Image \"})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_group_image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Avatar[\"a\" /* default */],{style:{height:'110px',width:'110px',backgroundColor:'gray',margin:'15px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PeopleAlt_default.a,{style:{position:'absolute',zIndex:'0',opacity:'0.1',height:'80px',width:'80px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'10px'},children:\"add group image\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"group_name\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{padding:'5px',margin:'5px',fontSize:'13px',color:'#fcfcfc'},children:\" Group Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setGroupName(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{style:{display:'flex',alignItems:'center',width:'180px',justifyContent:'center'},className:\"add_new_button\",onClick:function onClick(){return setGoToParticipants(true);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowBack_default.a,{style:{margin:'5px'}}),\" Add Members\"]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"add_contact_title\",children:\" choose Members :\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{overflowY:'overlay',height:'200px'},children:contacts.map(function(contact){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contactItem\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",value:selectedContactsId.includes(contact.id),id:contact.name,style:{marginRight:'10px'},onChange:function onChange(){return handleCheckboxChange(contact.id);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"\"+contact.imageName,fontSize:\"large\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contactInfo\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{style:{fontWeight:'400'},children:[contact.name,\" \"]}),\" \"]})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"add_new_button\",type:\"submit\",onClick:function onClick(){return createGroup();},children:\"Create\"})})]})})})});}/* harmony default export */ var createnewgroup = (CreateNewGroup);\n// CONCATENATED MODULE: ./src/components/sidebar.js\nfunction SideBar(_ref){var id=_ref.id;var _useState=Object(react[\"useState\"])('conversations'),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),choosenAct=_useState2[0],setChoosenAct=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),modalOpen=_useState4[0],setModalOpen=_useState4[1];var _useUser=useUser(),info=_useUser.info,getSearchContacts=_useUser.getSearchContacts;var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),searchFlag=_useState6[0],setSearchFlag=_useState6[1];var _useConversations=useConversations(),getSearchConverastions=_useConversations.getSearchConverastions;var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),choosenModal=_useState8[0],setChoosenModal=_useState8[1];function handleChange(e){if(choosenAct==='conversations')getSearchConverastions(e.target.value);else getSearchContacts(e.target.value);}function closeModal(){setModalOpen(false);}function openChoosenModal(modalType){setModalOpen(true);setChoosenModal(modalType);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sideBar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar_top\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:info.imageName,fontSize:\"large\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar_top_right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setChoosenAct('conversations');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chat_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{fontSize:\"large\",onClick:function onClick(){return setChoosenAct('contacts');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(People_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreVert_default.a,{})})]})]}),searchFlag?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"activeSearch\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"arrowButton\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setSearchFlag(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowBack_default.a,{fontSize:\"large\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"searchBlock\",type:\"text\",onChange:handleChange}),\" \"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"searchBar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"searchContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchOutlined_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"search\",type:\"text\",onClick:function onClick(){return setSearchFlag(true);}})]})}),choosenAct==='contacts'?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar_middle\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{fontSize:'10px'},onClick:function onClick(){return openChoosenModal('NEW_CONTACT');},className:\"add_new_Button\",children:\"Add New Contact\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar_bottom\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Contacts,{newConversationCallback:function newConversationCallback(){return setChoosenAct('conversations');},openModalCallback:function openModalCallback(){return openChoosenModal('NEW_GROUP');}})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar_bottom\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Conversations,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{className:\"Modal\",open:modalOpen,onClose:closeModal,children:choosenModal==='NEW_GROUP'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(createnewgroup,{closeModal:closeModal}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddNewContact,{closeModal:closeModal})})]});}\n// EXTERNAL MODULE: ./src/css/chat.css\nvar chat = __webpack_require__(102);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/InsertEmoticon.js\nvar InsertEmoticon = __webpack_require__(115);\nvar InsertEmoticon_default = /*#__PURE__*/__webpack_require__.n(InsertEmoticon);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Mic.js\nvar Mic = __webpack_require__(117);\nvar Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Image.js\nvar Image = __webpack_require__(116);\nvar Image_default = /*#__PURE__*/__webpack_require__.n(Image);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Check.js\nvar Check = __webpack_require__(114);\nvar Check_default = /*#__PURE__*/__webpack_require__.n(Check);\n\n// EXTERNAL MODULE: ./node_modules/emoji-picker-react/dist/index.js\nvar dist = __webpack_require__(112);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/react-media-recorder/index.js\nvar react_media_recorder = __webpack_require__(113);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Dialog/Dialog.js + 7 modules\nvar Dialog = __webpack_require__(213);\n\n// CONCATENATED MODULE: ./src/components/message.js\nfunction Message(_ref){var message=_ref.message;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),SelectedImageURL=_useState4[0],setSelectedImageURL=_useState4[1];function openImage(URL){setModalOpen(true);setSelectedImageURL(URL);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"sender_name\",children:message.name}),message.containsImage?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"image_in_message\",src:message.imageURL,alt:\"\",onClick:function onClick(){return openImage(message.imageURL);},width:\"200px\",height:\"200px\"}):'',/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"message_time_and_content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message_content\",children:message.message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message_time\",children:message.timeSent.substring(11,17)}),\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dialog[\"a\" /* default */],{onClose:function onClose(){return setModalOpen(false);},open:modalOpen,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:SelectedImageURL,alt:\"\",height:\"500px\",width:\"500px\"})})]});}/* harmony default export */ var components_message = (Message);\n// EXTERNAL MODULE: ./src/css/audiomessage.css\nvar audiomessage = __webpack_require__(188);\n\n// CONCATENATED MODULE: ./src/components/audiomessage.js\nfunction AudioMessage(_ref){var message=_ref.message,sender=_ref.sender,image=_ref.image;var messageColor=sender.includes('chat_reciever')?'reciever':'sender';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message_with_audio\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"audio_and_time\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:messageColor,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{controls:true,controlsList:\"nodownload\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"source\",{src:message.recordURL,type:\"audio/mp3\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message_time\",children:message.timeSent.substring(11,17)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:image,style:{height:'50px',width:'50px'}})]});}/* harmony default export */ var components_audiomessage = (AudioMessage);\n// CONCATENATED MODULE: ./src/components/chatbody.js\nfunction ChatBody(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),Text=_useState2[0],setText=_useState2[1];var _useSocket=useSocket(),socket=_useSocket.socket;var _useUser=useUser(),info=_useUser.info;var _useConversations=useConversations(),sendMessage=_useConversations.sendMessage,selectedConversation=_useConversations.selectedConversation;var inputRef=Object(react[\"useRef\"])(null);var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),emojiFlag=_useState4[0],setEmojiFlag=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),recordFlag=_useState6[0],setRecordFlag=_useState6[1];var _useReactMediaRecorde=Object(react_media_recorder[\"useReactMediaRecorder\"])({audio:true}),status=_useReactMediaRecorde.status,startRecording=_useReactMediaRecorde.startRecording,stopRecording=_useReactMediaRecorde.stopRecording,mediaBlobUrl=_useReactMediaRecorde.mediaBlobUrl,clearBlobUrl=_useReactMediaRecorde.clearBlobUrl;var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),audioBlob=_useState8[0],setAudioBlob=_useState8[1];var setRef=Object(react[\"useCallback\"])(function(node){if(node)node.scrollIntoView({smooth:true});},[]);Object(react[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var audio,data,response,recordURL;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(audioBlob!=null)){_context.next=25;break;}_context.next=3;return fetch(mediaBlobUrl).then(function(res){return res.blob();});case 3:audio=_context.sent;data=new FormData();data.append('file',audio);data.append('resource_type','video');data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");_context.prev=9;_context.next=12;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/video/upload\",data);case 12:response=_context.sent;recordURL=response.data.url;recordURL=recordURL.slice(0,-4);recordURL+='mp3';setRecordFlag(false);clearBlobUrl();sendMessage(Text,null,null,recordURL);setRecordFlag(false);_context.next=25;break;case 22:_context.prev=22;_context.t0=_context[\"catch\"](9);console.log(_context.t0);case 25:case\"end\":return _context.stop();}}},_callee,null,[[9,22]]);}));return _fetchData.apply(this,arguments);}fetchData();},[audioBlob]);function typing(e){setText(e.target.value);if(socket.current==null)return;socket.current.emit(\"typing\",{user:info,Conversation:selectedConversation});}function handleSubmit(e){e.preventDefault();sendMessage(Text,false,null,null);setText(' ');}function handleImage(_x){return _handleImage.apply(this,arguments);}function _handleImage(){_handleImage=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(e){var data,response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data=new FormData();data.append('file',e.target.files[0]);data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");_context2.prev=4;_context2.next=7;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data);case 7:response=_context2.sent;props.imageCallback(response.data.url);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](4);console.log(_context2.t0);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[4,11]]);}));return _handleImage.apply(this,arguments);}function recordStart(){setRecordFlag(true);startRecording();}function handleRecord(){return _handleRecord.apply(this,arguments);}function _handleRecord(){_handleRecord=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var res;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:stopRecording();_context3.next=3;return fetch(mediaBlobUrl);case 3:res=_context3.sent;setAudioBlob(res.blob());case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _handleRecord.apply(this,arguments);}function cancelRecord(){stopRecording();clearBlobUrl();setRecordFlag(false);}function updateRecordingDiv(){var recordDiv=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\",style:{color:'red'},onClick:cancelRecord})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{fontSize:\"large\",style:{color:'green'},onClick:handleRecord})})]});return recordDiv;}var _onEmojiClick=function onEmojiClick(event,emojiObject){setText(Text+emojiObject.emoji);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"body_and_footer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat_body\",children:selectedConversation.Messages.map(function(message,index){var lastMessage=selectedConversation.Messages.length-1===index;var sender=message.id===sessionStorage['id']?'chat_message':' chat_message chat_reciever';var image=message.id===sessionStorage['id']?info.imageName:selectedConversation.ConversationImage;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:sender,ref:lastMessage?setRef:null,children:message.containsRecord?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_audiomessage,{message:message,sender:sender,image:image}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_message,{message:message})},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_footer_with_stickers\",children:[emojiFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{onEmojiClick:function onEmojiClick(e,emojiObject){return _onEmojiClick(e,emojiObject);},pickerStyle:{width:'100%'}}):'',/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_footer\",children:[emojiFlag?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setEmojiFlag(false);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"}),\" \"]}):'',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:function onClick(){return setEmojiFlag(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{accept:\"image/*\",className:\"invisibleInput\",id:\"icon-button-file\",type:\"file\",style:{visibility:'hidden'},onChange:handleImage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"icon-button-file\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{component:\"span\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image_default.a,{fontSize:\"large\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,className:\"message_section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"message_input\",ref:inputRef,value:Text,onChange:typing,type:\"text\",placeholder:\"type a message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\" send \"})]}),recordFlag?updateRecordingDiv():/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:recordStart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic_default.a,{fontSize:\"large\"})})]})]})]});}/* harmony default export */ var chatbody = (ChatBody);\n// EXTERNAL MODULE: ./src/css/sendimagebody.css\nvar sendimagebody = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Send.js\nvar Send = __webpack_require__(118);\nvar Send_default = /*#__PURE__*/__webpack_require__.n(Send);\n\n// CONCATENATED MODULE: ./src/components/sendimagebody.js\nfunction SendImageBody(props){var inputRef=Object(react[\"useRef\"])(null);var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),Text=_useState2[0],setText=_useState2[1];var _useSocket=useSocket(),socket=_useSocket.socket;var _useUser=useUser(),info=_useUser.info;var _useConversations=useConversations(),sendMessage=_useConversations.sendMessage,selectedConversation=_useConversations.selectedConversation;function handleSubmit(imageFlag){if(imageFlag===true)sendMessage(Text,true,props.imageURL);setText(' ');props.backToChat();}function typing(e){setText(e.target.value);if(socket.current==null)return;socket.current.emit(\"typing\",{user:info,Conversation:selectedConversation});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"SendImage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sendImageHeader\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{type:\"submit\",onClick:function onClick(){return handleSubmit(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:props.imageURL,alt:\"\",height:\"300px\",width:\"300px\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"add_message\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:function onSubmit(){return handleSubmit(true);},className:\"message_section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{type:\"submit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Send_default.a,{fontSize:\"large\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"message_input\",ref:inputRef,value:Text,onChange:typing,type:\"text\",placeholder:\"type a message\"})]})})]});}/* harmony default export */ var components_sendimagebody = (SendImageBody);\n// CONCATENATED MODULE: ./src/components/chat.js\nfunction chat_Chat(){var _useConversations=useConversations(),selectedConversation=_useConversations.selectedConversation,currentConversationIsConnected=_useConversations.currentConversationIsConnected,typingFlag=_useConversations.typingFlag,setTypingFlag=_useConversations.setTypingFlag;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageFlag=_useState2[0],setImageFlag=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),imageURL=_useState4[0],setImageURL=_useState4[1];var groupheader=function groupheader(){var returnValue='';if(typingFlag!==''){returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"lastSeen\",children:[\" \",typingFlag,\" is typing...\"]});setTimeout(function(){return setTypingFlag('');},1000);}else{var UsersInGroup='';selectedConversation.Participants.forEach(function(participant,index){if(index===selectedConversation.Participants.length-1)UsersInGroup=UsersInGroup+participant.name;else UsersInGroup=UsersInGroup+participant.name+', ';});returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"lastSeen\",children:[UsersInGroup,\" \"]});}return returnValue;};function chatBodyCallback(image){setImageURL(image);setImageFlag(true);}function backToChatCallback(){setImageURL(null);setImageFlag(false);}var privateConversationHeader=function privateConversationHeader(){var returnValue='';if(currentConversationIsConnected===''){if(typingFlag!==''){returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"lastSeen\",children:\" typing...\"});setTimeout(function(){return setTypingFlag('');},1000);}else returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"connected\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"circle\"}),\" online \"]});}else returnValue=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"lastSeen\",children:currentConversationIsConnected});return returnValue;};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:selectedConversation.ConversationImage}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_header_info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\" \",selectedConversation.Name,\" \"]}),selectedConversation.isGroup?groupheader():privateConversationHeader()]})]}),imageFlag?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_sendimagebody,{imageURL:imageURL,backToChat:backToChatCallback}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chatbody,{imageCallback:chatBodyCallback})]});}\n// CONCATENATED MODULE: ./src/components/dashboard.js\n/* harmony default export */ var components_dashboard = (Object(react_router[\"h\" /* withRouter */])(function Dashboard(_ref){var id=_ref.id;var _useConversations=useConversations(),selectedConversation=_useConversations.selectedConversation;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dashboard\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard_body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideBar,{id:id}),selectedConversation!==undefined?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chat_Chat,{id:id}):'']})});}));\n// CONCATENATED MODULE: ./src/components/register.js\nfunction Register(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),phone=_useState2[0],setPhone=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),Picture=_useState6[0],setPicture=_useState6[1];var history=Object(react_router[\"g\" /* useHistory */])();/*get user information and token from DB*/function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var picturePath,data,response,obj,_response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();picturePath='';data=new FormData();data.append('file',Picture);data.append(\"upload_preset\",\"whatsApp_clone\");data.append(\"cloud_name\",\"dsrgpqnyv\");data.append({secure:true});_context.prev=7;_context.next=10;return axios_default.a.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data);case 10:response=_context.sent;picturePath=response.data.url;_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](7);console.log(_context.t0);case 17:obj={name:name,phone:phone,imageName:picturePath,contacts:[],LastSeen:'last seen at...'};_context.prev=18;_context.next=21;return axios_default.a.post(\"https://messagesapp1.herokuapp.com/api/logIn/Register\",obj);case 21:_response=_context.sent;sessionStorage['config']=_response.data.token;sessionStorage['id']=_response.data.User._id;sessionStorage['name']=_response.data.User.name;props.CanLogIn(_response.data.User._id);history.push('/App');_context.next=32;break;case 29:_context.prev=29;_context.t1=_context[\"catch\"](18);console.log(_context.t1);case 32:case\"end\":return _context.stop();}}},_callee,null,[[7,14],[18,29]]);}));return _handleSubmit.apply(this,arguments);}function handleFileUpload(e){setPicture(e.target.files[0]);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"overlay\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"link\",{rel:\"stylesheet\",href:\"http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:\"login_form\",onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"con\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"head-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"welcome to  my whatsApp\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"field-set\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"input-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-user-circle\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function onChange(e){return setName(e.target.value);},required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"input-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-key\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function onChange(e){return setPhone(e.target.value);},required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"fileupload\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"myfileupload-buttonbar \",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"myui-button\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-upload\",\"aria-hidden\":\"true\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"text\",children:\"Add Picture\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"log-in\",type:\"submit\",children:\" Register \"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn submits sign-up\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"defaultLink\",to:\"/\",children:\"back to Log In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"})]})})]})})]});/*      <div className=\"LogInPage\">\r\n             <form onSubmit={handleSubmit} className='logInBorder'>\r\n             enter your phone:  \r\n              <input type='text' onChange={(e)=> setPhone(e.target.value)}/> \r\n              enter your name: \r\n              <input type='text' onChange={(e)=> setName(e.target.value)}/>  \r\n              \r\n              <input type=\"file\" onChange={handleFileUpload} />\r\n                <button type='submit'> Sign Up</button>\r\n            </form>     \r\n        </div>*/}/* harmony default export */ var register = (Register);\n// CONCATENATED MODULE: ./src/components/App.js\nfunction App(){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),id=_useState2[0],setId=_useState2[1];var dashboard=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketProvider,{userId:id,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProvider,{id:id,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ConversationsProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_dashboard,{id:id})})})});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[sessionStorage['id'],/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn,{CanLogIn:setId})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{path:\"/Register\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(register,{CanLogIn:setId})]}),sessionStorage['id']?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/App\",children:[\" \",dashboard,\" \"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]})})});}/* harmony default export */ var components_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[190,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\conversations.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\chat.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\app.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\dashboard.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\sidebar.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\addnew.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\audiomessage.css","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\sendimagebody.css","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/login.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/contexts/userprovider.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/contexts/socketprovider.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/contexts/conversationsprovider.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/conversations.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/contacts.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/addnewcontact.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/createnewgroup.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/sidebar.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/message.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/audiomessage.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/chatbody.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/sendimagebody.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/chat.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/dashboard.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/register.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/App.js","C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/index.js","C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\OneDrive\\Desktop\\whatsapp\\myclient\\src\\css\\login.css"],"names":["LogIn","props","useState","phone","setPhone","UserName","setUserName","Error","setError","history","useHistory","handleSubmit","e","preventDefault","obj","name","axios","post","response","data","sessionStorage","token","User","_id","CanLogIn","push","target","value","UserContext","React","createContext","useUser","useContext","UserProvider","children","contacts","setContacts","info","setInfo","config","useEffect","fetchData","getContacts","then","res","get","id","imageName","LastSeen","getSearchContacts","str","SearchResult","filter","contact","includes","createContact","console","log","checkIfExists","length","newContacts","UpdatedUser","put","SocketContext","useSocket","SocketProvider","userId","socket","useRef","ConnectedUsers","setConnectedUsers","current","io","emit","on","users","ConversationsContext","useConversations","ConversationsProvider","conversations","setConversations","selectedConversation","setSelectedConversation","RefConversations","currentConversationRef","createGroupFlag","setCreateGroupFlag","typingFlag","setTypingFlag","currentConversationIsConnected","setCurrentConversationIsConnected","headers","audio","Audio","user","conversationId","isGroup","some","Participants","getConversations","ConversationsList","map","conversation","UpdatedConversation","Name","ConversationImage","image","getSearchConverastions","createConversation","ids","ConversationExists","find","participants","addContactToConversation","FormData","append","secure","url","newConversation","creatorId","Messages","LastMessage","sender","message","Response","status","prevConversations","addMessageToConversation","useCallback","UpdatedConv","play","newListOfConversations","newConv","off","updateSenderConversation","AddMessage","newListOfConcversations","sendMessage","text","imageFlag","imageURL","recordURL","parts","Intl","DateTimeFormat","hc","year","month","day","hour","minute","timeZone","formatToParts","Date","reduce","acc","part","type","Object","create","time","recordFlag","CurrentMessage","timeSent","containsImage","containsRecord","Conversations","handleSelectedConversation","index","process","slice","Contacts","newConversationCallback","openModalCallback","startConversation","height","margin","fontSize","AddNewContact","closeModal","phoneRef","CreateNewGroup","selectedContactsId","setSelectedContactsId","groupName","setGroupName","groupImage","setGroupImage","previewImage","setPreviewImage","goToParticipants","setGoToParticipants","createGroup","handleCheckboxChange","contactId","prevSelectedContactsId","handleFileUpload","files","window","URL","createObjectURL","width","backgroundColor","display","flexDirection","alignItems","position","zIndex","color","opacity","padding","justifyContent","overflowY","marginRight","fontWeight","SideBar","choosenAct","setChoosenAct","modalOpen","setModalOpen","searchFlag","setSearchFlag","choosenModal","setChoosenModal","handleChange","openChoosenModal","modalType","Message","SelectedImageURL","setSelectedImageURL","openImage","substring","AudioMessage","messageColor","ChatBody","Text","setText","inputRef","emojiFlag","setEmojiFlag","setRecordFlag","useReactMediaRecorder","startRecording","stopRecording","mediaBlobUrl","clearBlobUrl","audioBlob","setAudioBlob","setRef","node","scrollIntoView","smooth","fetch","blob","typing","Conversation","handleImage","imageCallback","recordStart","handleRecord","cancelRecord","updateRecordingDiv","recordDiv","onEmojiClick","event","emojiObject","emoji","lastMessage","visibility","SendImageBody","backToChat","Chat","setImageFlag","setImageURL","groupheader","returnValue","setTimeout","UsersInGroup","forEach","participant","chatBodyCallback","backToChatCallback","privateConversationHeader","withRouter","Dashboard","undefined","Register","setName","Picture","setPicture","picturePath","App","setId","dashboard","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React,{useState} from 'react'\r\nimport '../css/login.css'\r\nimport axios from 'axios'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport 'font-awesome/css/font-awesome.min.css';\r\n\r\n\r\n\r\n\r\nexport default function LogIn(props) {\r\n\r\n    const [phone,setPhone] = useState('');\r\n    const [UserName,setUserName] = useState('');\r\n\r\n    const [Error,setError] = useState('')\r\n    const history=useHistory();\r\n\r\n\r\n\r\n    /*get user information and token from DB*/\r\n    async function handleSubmit(e)\r\n    {\r\n        setError('')\r\n        e.preventDefault()\r\n        let obj = {name: UserName,phone: phone}\r\n        let response = await axios.post(\"https://messagesapp1.herokuapp.com/api/logIn\",obj)\r\n\r\n        if(response.data !== \"not found\")\r\n        {\r\n           sessionStorage['config']= response.data.token \r\n           sessionStorage['id'] = response.data.User._id\r\n           sessionStorage['name'] = response.data.User.name\r\n           props.CanLogIn(response.data.User._id)\r\n\r\n           history.push('/App')\r\n        }\r\n        \r\n        else\r\n           setError(\"One or more of your identification details is incorrect.\")\r\n    }\r\n\r\n \r\n\r\n    return (\r\n       \r\n        <div class=\"overlay\">\r\n        \r\n          <form className='login_form' onSubmit={handleSubmit}>\r\n            <div class=\"con\">\r\n              <header class=\"head-form\">\r\n                <h2>Log In</h2>\r\n                <p>welcome to  my whatsApp</p>\r\n              </header>\r\n            <div class=\"field-set\">\r\n              <span class=\"input-item\">\r\n                <i class=\"fa fa-user-circle\"></i>\r\n              \r\n              <input class=\"form-input\" id=\"txt-input\" type=\"text\" placeholder=\"@UserName\" onChange={(e)=> setUserName(e.target.value)} required />\r\n\r\n              </span>\r\n              <span class=\"input-item\">\r\n              <i class=\"fa fa-key\"></i>\r\n            \r\n              <input class=\"form-input\" type=\"password\" placeholder=\"Password\" id=\"pwd\"  name=\"password\" onChange={(e)=> setPhone(e.target.value)} required/>\r\n              </span>\r\n              <button className=\"log-in\" type='submit'> Log In </button>\r\n             </div>\r\n\r\n             <div>\r\n  \r\n            <button className=\"btn submits sign-up\"><Link className='defaultLink' to={`/Register`}>Sign Up</Link>\r\n            <i class=\"fa fa-user-plus\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            </div>\r\n           {Error}\r\n          </div>\r\n  \r\n</form>\r\n</div>\r\n\r\n        \r\n      \r\n    )\r\n\r\n    /*</div>\r\n      <div className='LogInPage'>\r\n            <form onSubmit={handleSubmit} className='logInBorder'>\r\n              <input className='phone_and_name' type='text' placeholder=\"Username\" onChange={(e)=> setUserName(e.target.value)}/> \r\n              <input placeholder=\"phone/password\" className='phone_and_name' type='text' onChange={(e)=> setPhone(e.target.value)}/>  \r\n              <button className='submit_button' type='submit'> Login</button> \r\n              <button  className='submit_button'> <Link className='defaultLink' to={`/Register`}>Register</Link></button>\r\n              {Error}\r\n               \r\n            </form>  \r\n            </div>*/\r\n}\r\n","\r\nimport React, { useState ,useEffect, useContext} from 'react'\r\nimport axios from 'axios'\r\nconst UserContext = React.createContext()\r\n\r\nexport function useUser() {\r\n  return useContext(UserContext)\r\n}\r\n\r\nexport  function UserProvider({ children })\r\n{\r\n  const [contacts, setContacts] = useState([])\r\n  const [info,setInfo] =useState({})\r\n  const config= {'headers': {'x-access-token':sessionStorage['config']}}\r\n\r\n  \r\n   useEffect( () =>\r\n   {\r\n    async function fetchData() {\r\n\r\n    getContacts().then(res=> setContacts(res))\r\n    }\r\n\r\n    fetchData();\r\n\r\n   },[setInfo])\r\n\r\n   async function getContacts()\r\n   {\r\n    const response = await axios.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+sessionStorage['id'],config);\r\n    setInfo({id:response.data._id,name:response.data.name,phone:response.data.phone,imageName:response.data.imageName,LastSeen:response.data.LastSeen})\r\n    return(response.data.contacts)\r\n\r\n   }\r\n   \r\n\r\n  function getSearchContacts(str)\r\n  {\r\n    getContacts().then(res=>\r\n      {\r\n        let SearchResult =res.filter(contact=> contact.name.includes(str) === true)\r\n        setContacts(SearchResult)\r\n      })\r\n  }\r\n\r\n\r\n  const createContact = async(phone) =>\r\n  {\r\n\r\n    if(phone === info.phone)\r\n    {\r\n      console.log('cant Add yourself')\r\n       return;\r\n    }\r\n\r\n    let checkIfExists = contacts.filter(contact=> contact.phone === phone)\r\n\r\n    if(checkIfExists.length !== 0)\r\n    {\r\n      console.log('already exists')\r\n      return;\r\n    }\r\n\r\n    try{ \r\n\r\n      const response= await axios.get(\"https://messagesapp1.herokuapp.com/api/logIn/getByPhone/\" + phone,config)\r\n\r\n      if(response !== 'no such user')\r\n      {\r\n       const contact = {id:response.data._id,phone:response.data.phone,name:response.data.name,imageName:response.data.imageName}\r\n       let newContacts = [...contacts,contact]\r\n       setContacts(newContacts)\r\n       let UpdatedUser={...info,contacts:newContacts}\r\n       try{\r\n         await axios.put(\"https://messagesapp1.herokuapp.com/api/logIn/\" + sessionStorage['id'],UpdatedUser,{'headers': {'x-access-token':sessionStorage['config']}})\r\n       } catch(err){console.log(err)}\r\n      }\r\n      else console.log('user dosent exist')\r\n     \r\n    } catch(err){console.log(err)}\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <UserContext.Provider value={{setContacts,setInfo,info,config,contacts,createContact,getSearchContacts }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}","import React, { useState,useContext,useRef,useEffect} from 'react'\r\nimport io from 'socket.io-client'\r\n\r\nconst SocketContext = React.createContext()\r\n\r\nexport function useSocket() {\r\n  return useContext(SocketContext)\r\n}\r\n\r\nexport function SocketProvider({ userId, children }) {\r\n  const socket = useRef()\r\n  const [ConnectedUsers,setConnectedUsers] =useState([])\r\n\r\n\r\n  useEffect(()=>\r\n  {\r\n\r\n    async function fetchData() {\r\n    socket.current = io(\"wss://messagesapp1.herokuapp.com:443/\");\r\n    }\r\n    fetchData()\r\n\r\n  },[])\r\n\r\nuseEffect(()=>\r\n{\r\n  async function fetchData() {\r\n  socket.current.emit(\"AddUser\",sessionStorage['id'])\r\n  socket.current.on(\"getConnectedUsers\", users =>\r\n  {\r\n    setConnectedUsers(users)\r\n  })\r\n  }\r\nfetchData();\r\n\r\n\r\n},[userId])\r\n\r\n  return (\r\n    <SocketContext.Provider value={{socket,ConnectedUsers}}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  )\r\n}","import React, { useContext, useCallback, useRef } from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useUser } from \"./userprovider\";\r\nimport { useSocket } from \"./socketprovider\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst ConversationsContext = React.createContext();\r\n\r\nexport function useConversations() {\r\n  return useContext(ConversationsContext);\r\n}\r\n\r\nexport function ConversationsProvider({ id, children }) {\r\n  const {contacts, info} = useUser();\r\n  const [conversations, setConversations] = useState([]);\r\n  const [selectedConversation, setSelectedConversation] = useState();\r\n  const RefConversations = useRef(conversations);\r\n  const currentConversationRef = useRef(selectedConversation);\r\n  const [createGroupFlag, setCreateGroupFlag] = useState(false);\r\n  const { socket, ConnectedUsers } = useSocket();\r\n  const [typingFlag,setTypingFlag] =useState('')\r\n  const [currentConversationIsConnected,setCurrentConversationIsConnected] = useState('')\r\n  const config = { headers: { \"x-access-token\": sessionStorage[\"config\"] } };\r\n\r\n  const audio = new Audio('https://res.cloudinary.com/dsrgpqnyv/video/upload/v1630680168/juntos-607_qsfc7i.mp3');\r\n\r\n\r\n  useEffect(()=>{\r\n\r\n    async function fetchData() {\r\n\r\n    if(socket.current ==null ) return;\r\n    socket.current.on('user-typing',({user,conversationId})=>\r\n    {\r\n\r\n        if(selectedConversation)\r\n        {\r\n          if(selectedConversation._id === conversationId)\r\n          {\r\n             setTypingFlag(user.name)\r\n          }\r\n        }\r\n    } )\r\n  }\r\n  fetchData();\r\n  },[selectedConversation])\r\n\r\n  useEffect( ()=>\r\n  {\r\n    async function fetchData() {\r\n    if(selectedConversation)\r\n    {\r\n    if(!selectedConversation.isGroup)\r\n     {\r\n      if(ConnectedUsers.some(user=> user.userId ===selectedConversation.Participants[0].id))\r\n      {\r\n        setCurrentConversationIsConnected('')\r\n      }\r\n      else\r\n      {\r\n        let response = await axios.get(\"https://messagesapp1.herokuapp.com/api/logIn/\"+ selectedConversation.Participants[0].id,config)\r\n        setCurrentConversationIsConnected(response.data.LastSeen)\r\n      }\r\n     }\r\n    }\r\n  }\r\n  fetchData();\r\n\r\n  },[ConnectedUsers,selectedConversation])\r\n\r\n  useEffect(() =>\r\n  {\r\n    async function fetchData() {\r\n     getConversations().then(res=> setConversations(res))\r\n    }\r\n    fetchData();\r\n    \r\n  }, []);\r\n\r\n  async function getConversations()\r\n  {\r\n    try{\r\n       let response = await axios.get(\"https://messagesapp1.herokuapp.com/api/conversations/UserConversations/\" +sessionStorage[\"id\"],config);\r\n\r\n       let ConversationsList = response.data.map((conversation) =>\r\n       {\r\n         let UpdatedConversation= conversation\r\n\r\n         if (conversation.Participants.length === 1 && conversation.Name === sessionStorage[\"name\"])\r\n            UpdatedConversation = { ...UpdatedConversation,Name: conversation.Participants[0].name,ConversationImage:conversation.Participants[0].image}\r\n\r\n         if(selectedConversation)\r\n         {\r\n           if(selectedConversation.id === UpdatedConversation.id)\r\n              setSelectedConversation(UpdatedConversation)\r\n         }\r\n          \r\n         return UpdatedConversation;\r\n       })\r\n\r\n      return ConversationsList \r\n    } catch (err) {console.log(err);}\r\n  }\r\n\r\n\r\n\r\n\r\n  async function getSearchConverastions(str)\r\n  {\r\n\r\n        getConversations().then(res=>\r\n        {\r\n\r\n         let SearchResult = res.filter(conversation=> \r\n            conversation.Name.includes(str) ===true\r\n          )\r\n    \r\n          setConversations(SearchResult)\r\n        })\r\n  }\r\n        \r\n\r\n\r\n  async function createConversation(ids, name, image) {\r\n    let ConversationImage = image;\r\n    let isGroup = false;\r\n\r\n    //no participants chosen\r\n    if (ids.length === 0) {\r\n      console.log(\"no participants choosen\");\r\n      return;\r\n    }\r\n\r\n    //check if conversation already exists\r\n    let ConversationExists = null;\r\n    if (ids.length === 1) {\r\n      ConversationExists = conversations.find(\r\n        (conversation) => conversation.Name === name\r\n      );\r\n    }\r\n\r\n    if (ConversationExists) setSelectedConversation(ConversationExists);\r\n\r\n    //create new conversation\r\n    else {\r\n\r\n      //get conversation participants\r\n      const participants = ids.map((id) => {\r\n        let addContactToConversation = contacts.filter(\r\n          (contact) => id === contact.id\r\n        );\r\n        return addContactToConversation[0];\r\n      });\r\n\r\n\r\n      //add creator to participants\r\n      participants.push({\r\n        id: info.id,\r\n        name: info.name,\r\n        phone: info.phone,\r\n        imageName: info.imageName,\r\n        LastSeen: info.LastSeen\r\n      });\r\n\r\n      //if group\r\n      if (ids.length > 1) {\r\n        const data = new FormData()\r\n        data.append('file',ConversationImage)\r\n        data.append(\"upload_preset\",\"whatsApp_clone\")\r\n        data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n        data.append({secure:true})\r\n        try{\r\n        let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n        ConversationImage = response.data.url;\r\n\r\n        }catch(err){console.log(err)}\r\n   \r\n      \r\n    \r\n        isGroup = true;\r\n      }\r\n\r\n      let newConversation = {\r\n        Name: name,\r\n        creatorId: sessionStorage[\"id\"],\r\n        Participants: participants,\r\n        Messages: [],\r\n        LastMessage: { id: \"\", sender: \"\", message: \"\" },\r\n        ConversationImage: ConversationImage,\r\n        isGroup,\r\n      };\r\n\r\n      //updateDB\r\n      try {\r\n        let Response = await axios.post(\r\n          \"https://messagesapp1.herokuapp.com/api/conversations\",\r\n          newConversation,\r\n          config\r\n        );\r\n        if (Response.data.status === \"created\") {\r\n          console.log(Response.data.conversation);\r\n          setSelectedConversation(Response.data.conversation);\r\n\r\n          //show conversation only if messages sent\r\n          if (Response.data.conversation.Messages.length > 0)\r\n            setConversations((prevConversations) => {\r\n              return [...prevConversations, Response.data.conversation];\r\n            });\r\n          // }\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  }\r\n\r\n \r\n\r\n  const addMessageToConversation = useCallback(async ({ UpdatedConv }) =>\r\n   {\r\n\r\n      audio.play()\r\n\r\n      let ConversationExists = false;\r\n      let newListOfConversations = RefConversations.current.map((conversation) =>{\r\n          if (conversation._id === UpdatedConv._id) {\r\n            ConversationExists = true;\r\n            let newConv = { ...conversation,\r\n              Messages: UpdatedConv.Messages,\r\n              LastMessage: UpdatedConv.LastMessage,};\r\n            if (currentConversationRef.current) {\r\n              if (currentConversationRef.current._id === UpdatedConv._id)\r\n                setSelectedConversation(newConv);\r\n            }\r\n\r\n            return newConv;\r\n          } else return conversation;\r\n        }\r\n      );\r\n\r\n\r\n      if (!ConversationExists) {\r\n        if (!UpdatedConv.isGroup)\r\n         {\r\n           let newConversation = { ...UpdatedConv,\r\n            Name: UpdatedConv.Participants[0].name,\r\n            ConversationImage: UpdatedConv.Participants[0].imageName,\r\n          };\r\n          setConversations((prevConversations) => [...prevConversations, newConversation ]);\r\n        } else\r\n          setConversations((prevConversations) => [...prevConversations,UpdatedConv]);\r\n      } else setConversations(newListOfConversations);\r\n    },[setConversations]);\r\n\r\n  useEffect(() => {\r\n    if (socket.current == null) return;\r\n    \r\n    RefConversations.current = conversations;\r\n    currentConversationRef.current = selectedConversation;\r\n    socket.current.on(\"receive-message\", addMessageToConversation);\r\n\r\n    return () =>\r\n      socket.current.off(\"receive-message\", addMessageToConversation);\r\n  }, [conversations, selectedConversation]);\r\n\r\n\r\n  const updateSenderConversation = (AddMessage) => {\r\n    let ConversationExists = false;\r\n    setSelectedConversation(AddMessage);\r\n\r\n    let newListOfConcversations = conversations.map((conversation) => {\r\n      if (conversation._id === AddMessage._id) {\r\n        ConversationExists = true;\r\n        return AddMessage;\r\n      } else return conversation;\r\n    });\r\n\r\n    if (ConversationExists) {\r\n      setConversations(newListOfConcversations);\r\n    } else\r\n      setConversations((prevConversations) => [\r\n        ...prevConversations,\r\n        AddMessage,\r\n      ]);\r\n  };\r\n\r\n\r\n  function sendMessage(text,imageFlag,imageURL,recordURL) {\r\n\r\n\r\n      let parts = new Intl.DateTimeFormat('en', {\r\n      hc: 'h12',\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: 'numeric',\r\n      minute: 'numeric',\r\n      timeZone:'Asia/Jerusalem'})\r\n    .formatToParts(new Date())\r\n    .reduce((acc, part) => {\r\n      acc[part.type] = part.value;\r\n      return acc;\r\n    }, Object.create(null));\r\n\r\n    let time = `${parts.day}/${parts.month}/${parts.year}  ${parts.hour}:${parts.minute}`;\r\n\r\n    let recordFlag= false\r\n\r\n    if(recordURL!=null)\r\n       recordFlag=true\r\n    \r\n    let CurrentMessage = { id: info.id, name: info.name, message: text  ,timeSent: time ,containsImage: imageFlag,containsRecord:recordFlag,recordURL:recordURL};\r\n    if(imageFlag ===true)\r\n       CurrentMessage= {...CurrentMessage,imageURL:imageURL}\r\n    \r\n    let sender = {\r\n      id: info.id,\r\n      phone: info.phone,\r\n      name: info.name,\r\n      image: info.imageName,\r\n    };\r\n    let AddMessage = {\r\n      ...selectedConversation,\r\n      Messages: [...selectedConversation.Messages, CurrentMessage],\r\n      LastMessage: CurrentMessage,\r\n    };\r\n    socket.current.emit(\"send-message\", {\r\n      sender: sender,\r\n      UpdatedConversation: AddMessage,\r\n      conversationId: selectedConversation._id,\r\n    });\r\n\r\n    updateSenderConversation(AddMessage);\r\n  }\r\n\r\n  return (\r\n    <ConversationsContext.Provider\r\n      value={{\r\n        createGroupFlag,\r\n        setCreateGroupFlag,\r\n        sendMessage,\r\n        conversations,\r\n        createConversation,\r\n        setConversations,\r\n        setSelectedConversation,\r\n        selectedConversation,\r\n        currentConversationIsConnected,\r\n        typingFlag,\r\n        setTypingFlag,\r\n        getSearchConverastions,\r\n      \r\n      }}\r\n    >\r\n      {children}\r\n    </ConversationsContext.Provider>\r\n  );\r\n}\r\n","import { Avatar} from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { useUser } from '../contexts/userprovider';\r\nimport '../css/conversations.css'\r\n\r\nexport default function Conversations() {\r\n    const {setSelectedConversation,selectedConversation,conversations} =useConversations()\r\n    const {info} =useUser()\r\n  \r\nasync function handleSelectedConversation(conversation) \r\n{\r\n    setSelectedConversation(conversation)\r\n}\r\n  return (\r\n          <div className='Chats' >\r\n              <div className='contacts_list'>\r\n              {conversations.map((conversation,index)=>\r\n              {\r\n                 return  ( <div key={index}  onClick={()=>handleSelectedConversation(conversation)}  className='ChatsListItem'>\r\n                     <Avatar src={process.env.PUBLIC_URL + conversation.ConversationImage}/>\r\n                     <div className='chatInfo'>\r\n                     <span   className='chatName' ><h2>{conversation.Name}</h2> </span>\r\n                     <span> {(conversation.LastMessage.message).slice(0,25)}... </span>\r\n                     </div>\r\n            \r\n                  </div>)\r\n                    \r\n                })}\r\n                </div>\r\n\r\n                </div>\r\n          \r\n\r\n  )\r\n}","  import { Avatar,Button } from '@material-ui/core';\r\nimport React from 'react'\r\nimport { useUser } from '../contexts/userprovider';\r\nimport { useConversations } from '../contexts/conversationsprovider'\r\nimport '../css/conversations.css'\r\n\r\nexport default function Contacts({newConversationCallback,openModalCallback}) {\r\n  const { contacts } = useUser()\r\n  const { createConversation,setCreateGroupFlag} = useConversations()\r\n\r\n  function startConversation({id,name,image}) \r\n  {\r\n    let ids=[id]\r\n    createConversation(ids,name,image)\r\n    newConversationCallback()\r\n  }\r\n\r\n  return (\r\n\r\n    <div className='Chats' >\r\n      <h4 className='new_chat_title'>Start New Chat:</h4>            \r\n    <Button  style={{height:'30px' ,margin:'5px 0px',fontSize:'10px'}} onClick={()=>openModalCallback()}\r\n        className='add_new_Button' >\r\n                      Create Group\r\n                    </Button>\r\n      <div className='contacts_list'>\r\n      {contacts.map(contact =>\r\n       {\r\n          return(\r\n         \r\n          <div className='ChatsListItem' onClick={()=>startConversation({id:contact.id,name:contact.name,image:contact.imageName})}>\r\n            <Avatar src={contact.imageName}/>\r\n           <div className='chatInfo'> <h2>{contact.name} </h2> </div>\r\n          </div> \r\n           )\r\n        })}\r\n        </div>\r\n\r\n  </div>)\r\n  \r\n};","import { useRef } from 'react'\r\nimport '../css/addnew.css'\r\nimport { useUser } from '../contexts/userprovider';\r\nimport {IconButton } from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nexport default function AddNewContact({closeModal}) {\r\n\r\n   const phoneRef = useRef()\r\n   const {createContact} = useUser()\r\n   \r\n\r\n  async function handleSubmit()\r\n  {\r\n    createContact(phoneRef.current.value)\r\n\r\n    closeModal();\r\n  }\r\n\r\n  return (\r\n   \r\n   <div className='add_new'>\r\n            <div className='add_new_contact_border'>\r\n              <div className='add_contact_model'>\r\n                <div className='title_and_close'>\r\n                  <h2 className='add_contact_title'>Enter contact phone</h2> \r\n                  <IconButton className='close_add_new'  onClick={()=>closeModal()}>\r\n                    <CloseIcon fontSize='large' /> \r\n                  </IconButton>\r\n               </div>\r\n        \r\n              <div className='add_new_contact'>\r\n               \r\n                <h3 className='enter_phone'>Phone :</h3>\r\n                <input className='add_new_input' type='text' ref={phoneRef} required/>\r\n                <button className='add_new_button' onClick={handleSubmit}> Add Contact</button>\r\n              </div>\r\n                \r\n              </div>\r\n\r\n            </div>\r\n          \r\n               \r\n \r\n        </div>\r\n\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport { useUser } from '../contexts/userprovider'\r\nimport { useConversations } from '../contexts/conversationsprovider'\r\nimport {Button,Avatar,IconButton} from '@material-ui/core';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nfunction CreateNewGroup( { closeModal }) {\r\n\r\n    const [selectedContactsId, setSelectedContactsId] = useState([])\r\n    const { contacts } = useUser()\r\n    const { createConversation,setCreateGroupFlag } = useConversations()\r\n    const [groupName,setGroupName] =useState('')\r\n    const [groupImage,setGroupImage] =useState()\r\n    const [previewImage,setPreviewImage]=useState()\r\n    const [goToParticipants,setGoToParticipants] = useState(false)\r\n\r\n    function createGroup()\r\n    {\r\n        setCreateGroupFlag(false)\r\n        createConversation(selectedContactsId,groupName,groupImage)\r\n        closeModal()\r\n    }\r\n\r\n    function handleCheckboxChange(contactId) \r\n    {\r\n        if(selectedContactsId.includes(contactId))\r\n        {\r\n            setSelectedContactsId(prevSelectedContactsId =>\r\n            {\r\n                return (prevSelectedContactsId.filter(id=> id!==contactId))\r\n            } )\r\n        }\r\n  \r\n        else\r\n        {\r\n           setSelectedContactsId(prevSelectedContactsId=>\r\n            {\r\n              return [...prevSelectedContactsId,contactId]\r\n            })\r\n        }   \r\n    }\r\n\r\n    function handleFileUpload(e) {\r\n        setGroupImage(e.target.files[0])\r\n        setPreviewImage(window.URL.createObjectURL(e.target.files[0]))\r\n      }\r\n\r\n\r\n    return (\r\n        <div className='add_new'>\r\n        <div className='add_new_group_border'>\r\n        <div className='new_conversation new_group'>\r\n\r\n      {goToParticipants !==true ?\r\n         <div className='top_new_group'>\r\n\r\n          {previewImage?  \r\n\r\n             <div className='change_group_image'> \r\n            <Avatar  src={previewImage} style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px'}}> </Avatar>\r\n            <div className='change_image_on_hover' style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'}}>\r\n            <PeopleAltIcon style={{position:'absolute',zIndex:'0', opacity:'0.1',height: '80px', width: '80px' }}/>\r\n          \r\n             <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n             <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n            <span style={{fontSize:'10px'}}>Change Image </span>\r\n         \r\n            </div>\r\n            </div>\r\n           \r\n            :\r\n          <div className='add_group_image'>\r\n          <Avatar   style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px'}}>\r\n           < PeopleAltIcon style={{position:'absolute',zIndex:'0', opacity:'0.1',height: '80px', width: '80px' }}/>\r\n            <div  style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'}}>\r\n             <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n             <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n            <span style={{fontSize:'10px'}}>add group image</span>\r\n         \r\n            </div>\r\n            </Avatar>\r\n            </div> }\r\n          <div className='group_name'>\r\n          <span style={{padding:'5px', margin:'5px' , fontSize:'13px', color:'#fcfcfc'}}> Group Name:</span>\r\n          <input onChange={(e)=>setGroupName(e.target.value)}/>\r\n          </div>\r\n          <button style={{display:'flex',alignItems:'center',width:'180px',justifyContent:'center'}} className='add_new_button'  onClick={()=>setGoToParticipants(true)}><ArrowBackIcon style={{margin:'5px'}} /> Add Members</button>\r\n          </div>\r\n          :\r\n          <div >\r\n          <h3 className='add_contact_title'> choose Members :</h3>\r\n          <div style={{overflowY:'overlay',height:'200px'}}>\r\n          {contacts.map(contact =>\r\n            {\r\n            return(\r\n\r\n                <div className='contactItem' >\r\n                 <input\r\n                type=\"checkbox\"\r\n                value={selectedContactsId.includes(contact.id)}\r\n                id={contact.name}\r\n                style={{marginRight:'10px'}}\r\n                onChange={() => handleCheckboxChange(contact.id)}/>\r\n                   <Avatar  src={process.env.PUBLIC_URL + contact.imageName}   fontSize='large'/>\r\n                   <div className='contactInfo'> <h2 style={{fontWeight:'400'}}>{contact.name} </h2> </div>\r\n                </div>\r\n            )}) }  \r\n            </div>\r\n            <div style={{display:'flex' , justifyContent:'center'}}>\r\n             <button className='add_new_button'  type=\"submit\" onClick={()=>createGroup()}>Create</button>\r\n             </div>\r\n\r\n             </div>}\r\n\r\n         \r\n\r\n        \r\n\r\n\r\n          \r\n\r\n            \r\n            \r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateNewGroup\r\n","import '../css/sidebar.css'\r\nimport React from 'react'\r\nimport { useState} from 'react';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\r\nimport { Avatar, IconButton,Button, Modal } from '@material-ui/core';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Conversations from './conversations';\r\nimport Contacts from './contacts';\r\nimport AddNewContact from './addnewcontact'\r\nimport { useUser } from '../contexts/userprovider';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport {useConversations } from '../contexts/conversationsprovider';\r\nimport CreateNewGroup from './createnewgroup';\r\n\r\n\r\n\r\n\r\nexport default function SideBar({id}) {\r\n    const [choosenAct,setChoosenAct]=useState('conversations')\r\n    const [modalOpen, setModalOpen] = useState(false)\r\n    const {info,getSearchContacts} =useUser()\r\n    const [searchFlag,setSearchFlag] =useState(false)\r\n    const {getSearchConverastions} = useConversations()\r\n    const [choosenModal,setChoosenModal] =useState('')\r\n\r\n    \r\n    function handleChange(e)\r\n    {\r\n      if(choosenAct === 'conversations')\r\n       getSearchConverastions(e.target.value)\r\n      else getSearchContacts(e.target.value)\r\n    }\r\n\r\n    function closeModal() {\r\n        setModalOpen(false)\r\n      }\r\n\r\n    function openChoosenModal(modalType)\r\n    {\r\n      setModalOpen(true)\r\n      setChoosenModal(modalType)\r\n    }\r\n\r\n    return (\r\n    \r\n        <div className='sideBar'>\r\n            <div className='sidebar_top'>\r\n                <Avatar src={info.imageName}   fontSize='large'/>\r\n                <div className='sidebar_top_right'>\r\n                    <IconButton onClick={()=>setChoosenAct('conversations')}>\r\n                      <ChatIcon fontSize='large' />\r\n                    </IconButton>\r\n                    <IconButton fontSize='large' onClick={()=>setChoosenAct('contacts')}>\r\n                      <PeopleIcon  fontSize='large'  />\r\n                    </IconButton>\r\n                    <IconButton >\r\n                      <MoreVertIcon />\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n         \r\n              {searchFlag?  \r\n              <div className='activeSearch' >\r\n               <div className='arrowButton'>\r\n               <IconButton onClick={()=>setSearchFlag(false)} >\r\n                      <ArrowBackIcon fontSize='large' />\r\n                    </IconButton>\r\n                    </div>\r\n              <input className='searchBlock' type='text' onChange={handleChange}/> </div>:\r\n              <div className='searchBar'>\r\n               <div className='searchContainer' >\r\n                <SearchOutlined/>\r\n                <input placeholder='search' type='text' onClick={()=>setSearchFlag(true)}/>\r\n              </div>\r\n            </div>}\r\n           \r\n            {choosenAct==='contacts'?\r\n            <div>\r\n                   <div className='sidebar_middle'>\r\n                    <Button \r\n                    style={{fontSize:'10px'}}  \r\n                    onClick={()=>openChoosenModal('NEW_CONTACT')}\r\n                    className='add_new_Button' >\r\n                      Add New Contact\r\n                    </Button>\r\n\r\n                    </div>\r\n                <div className='sidebar_bottom'>\r\n                <Contacts newConversationCallback={()=> setChoosenAct('conversations')}  openModalCallback={()=>openChoosenModal('NEW_GROUP')}/>\r\n                </div>\r\n                </div>\r\n              \r\n                :   <div className='sidebar_bottom'><Conversations/></div>}\r\n           \r\n\r\n\r\n         \r\n      <Modal className='Modal' open={modalOpen} onClose={closeModal} >\r\n      {choosenModal === 'NEW_GROUP' ? <CreateNewGroup closeModal={closeModal}  /> : <AddNewContact closeModal={closeModal} /> }\r\n      </Modal>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import {useState} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nfunction Message({message}) \r\n{\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const [SelectedImageURL,setSelectedImageURL] =useState(null)\r\n\r\n  function openImage(URL)\r\n  {\r\n    setModalOpen(true)\r\n    setSelectedImageURL(URL)  \r\n  }\r\n\r\n  return (\r\n\r\n    <div>      \r\n      <span className='sender_name'>{message.name}</span>\r\n      {message.containsImage? \r\n      <img className='image_in_message' src={message.imageURL} alt='' onClick={()=>openImage(message.imageURL)} width='200px' height='200px' /> \r\n      : ''}\r\n      <p className='message_time_and_content'><span className='message_content'>{message.message}</span> \r\n      <span className='message_time'>{(message.timeSent).substring(11,17)}</span> </p>\r\n\r\n      <Dialog onClose={()=> setModalOpen(false)}  open={modalOpen}>\r\n        <img src={SelectedImageURL} alt=''  height='500px' width='500px'/>\r\n      </Dialog>\r\n    </div>\r\n    \r\n  )}\r\n\r\nexport default Message\r\n\r\n","import React from 'react'\r\nimport '../css/audiomessage.css'\r\nimport { Avatar } from '@material-ui/core'\r\n\r\nfunction AudioMessage({message,sender,image})\r\n{\r\n    const messageColor = sender.includes('chat_reciever')?  'reciever':'sender' \r\n\r\n    return (\r\n    \r\n       <div className='message_with_audio'>\r\n           <div className='audio_and_time'> \r\n               <div className={messageColor}>\r\n                   <audio   controls controlsList=\"nodownload\" >\r\n                     <source src={message.recordURL} type=\"audio/mp3\"/>\r\n                   </audio>\r\n               </div>\r\n               <span className='message_time'>{(message.timeSent).substring(11,17)}</span> \r\n           </div>\r\n           <Avatar src={image} style={{ height: '50px', width: '50px' }}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AudioMessage\r\n","import React, { useRef } from 'react'\r\nimport { useState ,useCallback,useEffect} from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { useSocket} from '../contexts/socketprovider';\r\nimport { useUser} from '../contexts/userprovider';\r\nimport {IconButton } from '@material-ui/core'\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport Picker from 'emoji-picker-react';\r\nimport { useReactMediaRecorder } from \"react-media-recorder\";\r\nimport axios from 'axios'\r\nimport Message from './message';\r\nimport AudioMessage from './audiomessage';\r\n\r\n\r\n\r\n\r\nfunction ChatBody(props) {\r\n\r\n    const [Text,setText] = useState('')\r\n    const {socket} = useSocket()\r\n    const {info} = useUser()\r\n    const {sendMessage,selectedConversation} = useConversations()\r\n    const inputRef = useRef(null)\r\n  \r\n    const [emojiFlag,setEmojiFlag] = useState(false)\r\n    const [recordFlag,setRecordFlag] =useState(false)\r\n    const {status,startRecording,stopRecording,mediaBlobUrl,clearBlobUrl} = useReactMediaRecorder({audio: true })\r\n    const [audioBlob,setAudioBlob] = useState(null)\r\n\r\n\r\n    const setRef = useCallback((node) => \r\n    {\r\n\r\n      if(node)\r\n         node.scrollIntoView({smooth:true})\r\n    },[])\r\n\r\n\r\n  useEffect( () => {\r\n    async function fetchData() {\r\n    if(audioBlob != null)\r\n    {\r\n      let audio= await fetch(mediaBlobUrl).then(res=> res.blob())\r\n      const data = new FormData();\r\n           \r\n      data.append('file', audio);\r\n      data.append('resource_type', 'video');\r\n      data.append(\"upload_preset\",\"whatsApp_clone\")\r\n      data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n      try{\r\n        let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/video/upload\",data)\r\n        let recordURL = response.data.url\r\n        recordURL=(recordURL.slice(0,-4))\r\n        recordURL+= 'mp3'\r\n        setRecordFlag(false)\r\n        clearBlobUrl()\r\n        sendMessage(Text,null,null,recordURL)\r\n        setRecordFlag(false)\r\n  \r\n      }catch(err){console.log(err)}\r\n    }\r\n    }\r\n\r\n    fetchData();\r\n \r\n  }, [audioBlob])\r\n\r\n\r\n\r\n    function typing(e)\r\n    {\r\n        setText(e.target.value)\r\n        if (socket.current == null) return;\r\n        socket.current.emit(\"typing\", {user:info,Conversation:selectedConversation})\r\n    }\r\n\r\n    function handleSubmit(e)\r\n    {\r\n      e.preventDefault()\r\n      sendMessage(Text,false,null,null)\r\n\r\n      setText(' ')\r\n    }\r\n\r\n    async function handleImage(e)\r\n    {\r\n      const data = new FormData()\r\n      data.append('file',e.target.files[0])\r\n      data.append(\"upload_preset\",\"whatsApp_clone\")\r\n      data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n      try{\r\n      let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n\r\n      props.imageCallback(response.data.url)\r\n      }catch(err){console.log(err)}\r\n    }\r\n\r\n   function recordStart()\r\n   {\r\n    setRecordFlag(true)\r\n    startRecording()\r\n   }\r\n \r\n    async function handleRecord()\r\n    {\r\n         stopRecording()\r\n         let res = await fetch(mediaBlobUrl)\r\n         setAudioBlob(res.blob())            \r\n    }\r\n\r\n  function cancelRecord()\r\n  {\r\n    stopRecording()\r\n    clearBlobUrl()\r\n    setRecordFlag(false)\r\n  }\r\n\r\n    function updateRecordingDiv()\r\n    {\r\n      let recordDiv = <div>\r\n      <IconButton>\r\n        <CloseIcon fontSize='large' style={{color:'red'}} onClick={cancelRecord} />\r\n      </IconButton>\r\n      <IconButton>\r\n         <CheckIcon fontSize='large'style={{color:'green'}} onClick={handleRecord} />\r\n      </IconButton>\r\n      </div>\r\n\r\n      return recordDiv\r\n  \r\n    }\r\n    \r\n\r\n    const onEmojiClick = (event, emojiObject) => {\r\n        setText(Text + emojiObject.emoji)\r\n      };\r\n\r\n\r\n\r\n    return(\r\n\r\n      <div className= 'body_and_footer'>\r\n        <div className='chat_body'>\r\n        {selectedConversation.Messages.map((message,index)=>\r\n         {\r\n            const lastMessage = selectedConversation.Messages.length -1 === index\r\n            let sender = message.id===sessionStorage['id']? 'chat_message' : ' chat_message chat_reciever'\r\n            let image=message.id===sessionStorage['id']? info.imageName :selectedConversation.ConversationImage\r\n\r\n            return (\r\n                <div key={index} className={sender} ref={lastMessage ? setRef : null}>\r\n                    {message.containsRecord ? \r\n                    <AudioMessage message={message} sender={sender} image={image}/> : <Message message={message}/> }\r\n\r\n                </div> \r\n          )}\r\n        )}\r\n\r\n      </div>\r\n\r\n      <div className='chat_footer_with_stickers'>\r\n         {emojiFlag?  <Picker onEmojiClick={(e,emojiObject)=>onEmojiClick(e,emojiObject)} pickerStyle={{ width: '100%' }}/>: ''}\r\n         <div className='chat_footer'>\r\n           {emojiFlag? <IconButton  onClick={()=>setEmojiFlag(false)}><CloseIcon fontSize='large'/> </IconButton>:''}\r\n           <IconButton  onClick={()=>setEmojiFlag(true)}>\r\n             <InsertEmoticonIcon fontSize='large'/>\r\n           </IconButton>\r\n           <input accept=\"image/*\" className='invisibleInput' id=\"icon-button-file\" type=\"file\"  style={{ visibility: 'hidden'}} onChange={handleImage}/>\r\n           <label htmlFor=\"icon-button-file\">\r\n             <IconButton component=\"span\">\r\n               <ImageIcon  fontSize='large'/>\r\n             </IconButton>\r\n           </label> \r\n\r\n           <form onSubmit={handleSubmit} className='message_section'>\r\n             <input className='message_input' ref={inputRef}  value={Text} onChange={typing} type='text' placeholder='type a message'/>\r\n             <button type='submit' > send </button>\r\n           </form>\r\n           {recordFlag? updateRecordingDiv() :   \r\n           <IconButton onClick={recordStart}>\r\n             <MicIcon fontSize='large'  />\r\n           </IconButton>}\r\n         </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    \r\n)}\r\n\r\nexport default ChatBody\r\n","import React, { useRef } from 'react'\r\nimport '../css/chat.css'\r\nimport '../css/sendimagebody.css'\r\nimport { useState} from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { useSocket} from '../contexts/socketprovider';\r\nimport { useUser} from '../contexts/userprovider';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport {IconButton } from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\n\r\nfunction SendImageBody(props) {\r\n\r\n\r\n    const inputRef = useRef(null)\r\n    const [Text,setText] = useState('')\r\n    const {socket} = useSocket()\r\n    const {info} = useUser()\r\n    const {sendMessage,selectedConversation} = useConversations()\r\n\r\n    function handleSubmit(imageFlag)\r\n    {\r\n        if(imageFlag===true)\r\n           sendMessage(Text,true,props.imageURL)\r\n      setText(' ')\r\n      props.backToChat()\r\n\r\n    }\r\n\r\n    function typing(e)\r\n    {\r\n        setText(e.target.value)\r\n        if (socket.current == null) return;\r\n        socket.current.emit(\"typing\", {user:info,Conversation:selectedConversation})\r\n    }\r\n\r\n    return (\r\n        <div className='SendImage'>\r\n\r\n\r\n        <div className='sendImageHeader'></div>\r\n           <IconButton type='submit' onClick={()=>handleSubmit(false)}>\r\n             <CloseIcon fontSize='large' /> \r\n           </IconButton>\r\n\r\n            \r\n            <img src= {props.imageURL} alt='' height='300px' width='300px'/>\r\n\r\n\r\n          <div className='add_message'>\r\n          <form onSubmit={()=>handleSubmit(true)} className='message_section'>\r\n          <IconButton type='submit'>\r\n            <SendIcon fontSize='large'/>\r\n         </IconButton>\r\n         <input className='message_input' ref={inputRef}  value={Text} onChange={typing} type='text' placeholder='type a message'/>\r\n      </form>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SendImageBody\r\n","import '../css/chat.css'\r\nimport React from 'react'\r\nimport { useState} from 'react'\r\nimport { useConversations } from '../contexts/conversationsprovider';\r\nimport { Avatar } from '@material-ui/core'\r\nimport ChatBody from './chatbody';\r\nimport SendImageBody from './sendimagebody';\r\n\r\nexport default function Chat() {\r\n\r\n    const {selectedConversation,currentConversationIsConnected,typingFlag,setTypingFlag} = useConversations()\r\n    const [imageFlag,setImageFlag] =useState(false)\r\n    const [imageURL,setImageURL] =useState(false)\r\n\r\n    const groupheader = () =>\r\n    {\r\n      let returnValue = ''\r\n      if(typingFlag !== '')\r\n      {\r\n        returnValue = <div className='lastSeen'> {typingFlag} is typing...</div>\r\n        setTimeout(()=> setTypingFlag(''),1000)\r\n      }\r\n\r\n      else\r\n      {\r\n        let UsersInGroup = ''\r\n        selectedConversation.Participants.forEach((participant,index)=> \r\n        {\r\n            if(index ===  selectedConversation.Participants.length-1 )\r\n                UsersInGroup = UsersInGroup + participant.name\r\n            else\r\n                UsersInGroup= UsersInGroup + participant.name + ', '\r\n        })\r\n            \r\n        returnValue=  <div className='lastSeen'>{UsersInGroup} </div>\r\n\r\n      }\r\n\r\n      return returnValue\r\n    }\r\n\r\n    function chatBodyCallback(image)\r\n    {\r\n      setImageURL(image)\r\n      setImageFlag(true)\r\n    }\r\n\r\n    function backToChatCallback()\r\n    {\r\n      setImageURL(null)\r\n      setImageFlag(false)\r\n    }\r\n\r\n    const privateConversationHeader = () =>\r\n    {\r\n       let returnValue = ''\r\n       if(currentConversationIsConnected === '')\r\n       {\r\n        if(typingFlag !== '')\r\n        {\r\n            returnValue = <div className='lastSeen'> typing...</div>\r\n            setTimeout(()=> setTypingFlag(''),1000)\r\n\r\n        }\r\n\r\n        else returnValue = <div className='connected'><div className='circle'></div> online </div>\r\n            \r\n       }\r\n       else returnValue = <div className='lastSeen'>{currentConversationIsConnected}</div>\r\n\r\n\r\n      return returnValue\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='chat'>\r\n            <div className='chat_header'>\r\n                <Avatar src={selectedConversation.ConversationImage}/>\r\n                <div className='chat_header_info'>\r\n                   <h2> {selectedConversation.Name} </h2> \r\n                   {selectedConversation.isGroup?  groupheader() : privateConversationHeader()}\r\n               </div>\r\n            </div>\r\n\r\n            {imageFlag?   <SendImageBody imageURL={imageURL} backToChat={backToChatCallback}/>:<ChatBody imageCallback={chatBodyCallback}/>}  \r\n\r\n        </div>\r\n    )\r\n}\r\n","import '../css/dashboard.css'\r\nimport React from 'react'\r\nimport SideBar from './sidebar'\r\nimport Chat from './chat'\r\nimport { useConversations } from '../contexts/conversationsprovider'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nexport default withRouter(function Dashboard({id}) {\r\n    const {selectedConversation} =useConversations()\r\n\r\n    return (\r\n        <div className='dashboard'>\r\n       \r\n           <div className='dashboard_body'>\r\n              <SideBar id={id}/>\r\n              {selectedConversation!==undefined?  <Chat id={id}  />: ''}\r\n           </div>\r\n        </div>\r\n    )\r\n})\r\n","import {useState} from 'react'\r\nimport '../css/login.css'\r\nimport axios from 'axios'\r\nimport {Link,useHistory} from 'react-router-dom'\r\n\r\n \r\n\r\nfunction Register(props) {\r\n   \r\n    const[phone,setPhone] =useState('')\r\n    const[name,setName] =useState('')\r\n    const [Picture,setPicture] =useState()\r\n    const history=useHistory();\r\n\r\n\r\n    /*get user information and token from DB*/\r\n    async function handleSubmit(e)\r\n    {\r\n\r\n        e.preventDefault();\r\n\r\n        let picturePath=''\r\n        const data = new FormData()\r\n        data.append('file',Picture)\r\n        data.append(\"upload_preset\",\"whatsApp_clone\")\r\n        data.append(\"cloud_name\",\"dsrgpqnyv\")\r\n        data.append({secure:true})\r\n        try{\r\n        let response = await axios.post(\"https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload\",data)\r\n        picturePath =response.data.url\r\n        }catch(err){console.log(err)}\r\n\r\n\r\n\r\n        \r\n        \r\n        let obj = {name: name,phone: phone,imageName:picturePath,contacts:[],LastSeen:'last seen at...'}\r\n\r\n\r\n       try{\r\n            const response = await axios.post(\"https://messagesapp1.herokuapp.com/api/logIn/Register\",obj)\r\n   \r\n            sessionStorage['config']= response.data.token \r\n            sessionStorage['id'] = response.data.User._id\r\n            sessionStorage['name'] = response.data.User.name\r\n            props.CanLogIn(response.data.User._id)\r\n\r\n            history.push('/App')\r\n        }\r\n       catch(err){console.log(err)}\r\n\r\n          \r\n    }\r\n        \r\n\r\n    function handleFileUpload(e) {\r\n        setPicture(e.target.files[0])\r\n      }\r\n\r\n    return (\r\n\r\n        <div className=\"overlay\">\r\n        <link rel=\"stylesheet\" href=\"http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css\"></link>\r\n     <form className='login_form' onSubmit={handleSubmit}>\r\n       <div className=\"con\">\r\n         <header className=\"head-form\">\r\n           <h2>Register</h2>\r\n           <p>welcome to  my whatsApp</p>\r\n         </header>\r\n       <div className=\"field-set\">\r\n         <span className=\"input-item\">\r\n           <i class=\"fa fa-user-circle\"></i>\r\n         \r\n         <input className=\"form-input\" id=\"txt-input\" type=\"text\" placeholder=\"@UserName\" onChange={(e)=> setName(e.target.value)} required />\r\n\r\n         </span>\r\n         <span className=\"input-item\">\r\n         <i class=\"fa fa-key\"></i>\r\n       \r\n         <input className=\"form-input\" type=\"password\" placeholder=\"Password\" id=\"pwd\"  name=\"password\" onChange={(e)=> setPhone(e.target.value)} required/>\r\n         </span>\r\n        \r\n           \r\n         <div id=\"fileupload\" >\r\n        <div className=\"myfileupload-buttonbar \">\r\n            <label className=\"myui-button\">\r\n            <i class=\"fa fa-upload\" aria-hidden=\"true\"></i>\r\n                <span className='text' >Add Picture</span>\r\n                <input id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n            </label>\r\n        </div>\r\n    </div>\r\n   \r\n         <button className=\"log-in\" type='submit'> Register </button>\r\n        </div>\r\n\r\n        <div>\r\n\r\n       <button className=\"btn submits sign-up\"><Link className='defaultLink' to={`/`}>back to Log In</Link>\r\n       <i class=\"fa fa-user-plus\" aria-hidden=\"true\"></i>\r\n       </button>\r\n       </div>\r\n     </div>\r\n\r\n</form>\r\n</div>\r\n  \r\n    )\r\n\r\n    /*      <div className=\"LogInPage\">\r\n             <form onSubmit={handleSubmit} className='logInBorder'>\r\n             enter your phone:  \r\n              <input type='text' onChange={(e)=> setPhone(e.target.value)}/> \r\n              enter your name: \r\n              <input type='text' onChange={(e)=> setName(e.target.value)}/>  \r\n              \r\n              <input type=\"file\" onChange={handleFileUpload} />\r\n                <button type='submit'> Sign Up</button>\r\n            </form>     \r\n        </div>*/\r\n\r\n}\r\n\r\n\r\nexport default Register\r\n","import '../css/app.css'\nimport {useState} from 'react'\nimport LogIn from './login'\nimport Dashboard from './dashboard'\nimport  {UserProvider} from '../contexts/userprovider'\nimport {ConversationsProvider} from '../contexts/conversationsprovider'\nimport { SocketProvider } from '../contexts/socketprovider'\nimport {BrowserRouter as Router,Switch, Route,Redirect} from 'react-router-dom'\nimport Register from './register'\n\n\n\n\nfunction App() {\n\n  const [id,setId] =useState()\n\n  const dashboard = (\n   <SocketProvider userId={id} >\n     <UserProvider id={id}>\n      <ConversationsProvider >\n        <Dashboard  id={id}/>\n      </ConversationsProvider>\n     </UserProvider>\n    </SocketProvider>\n  )\n  \n\n\n  return (\n\n    <Router >\n      <div className=\"App\">\n         <Switch>\n           {sessionStorage['id']}\n            <Route exact path='/' > <LogIn CanLogIn={setId}/></Route> \n            <Route path='/Register' > <Register CanLogIn={setId}/></Route>\n            {sessionStorage['id']?  <Route exact path='/App' > {dashboard} </Route>:<Redirect to=\"/\" />}\n         </Switch>\n  \n      </div>\n\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin"]}}