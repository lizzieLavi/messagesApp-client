{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/OneDrive/Desktop/whatsapp/myclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/User/OneDrive/Desktop/whatsapp/myclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/User/OneDrive/Desktop/whatsapp/myclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'../css/login.css';import axios from'axios';import{Link,useHistory}from'react-router-dom';import'font-awesome/css/font-awesome.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LogIn(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),phone=_useState2[0],setPhone=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),UserName=_useState4[0],setUserName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),Error=_useState6[0],setError=_useState6[1];var history=useHistory();/*get user information and token from DB*/function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var obj,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError('');e.preventDefault();obj={name:UserName,phone:phone};_context.next=5;return axios.post(\"https://messagesapp1.herokuapp.com/api/logIn\",obj);case 5:response=_context.sent;if(response.data!==\"not found\"){sessionStorage['config']=response.data.token;sessionStorage['id']=response.data.User._id;sessionStorage['name']=response.data.User.name;props.CanLogIn(response.data.User._id);history.push('/App');}else setError(\"One or more of your identification details is incorrect.\");case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{class:\"overlay\",children:/*#__PURE__*/_jsx(\"form\",{className:\"login_form\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{class:\"con\",children:[/*#__PURE__*/_jsxs(\"header\",{class:\"head-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Log In\"}),/*#__PURE__*/_jsx(\"p\",{children:\"welcome to  my whatsApp\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"field-set\",children:[/*#__PURE__*/_jsxs(\"span\",{class:\"input-item\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-user-circle\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-input\",id:\"txt-input\",type:\"text\",placeholder:\"@UserName\",onChange:function onChange(e){return setUserName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"span\",{class:\"input-item\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-key\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",onChange:function onChange(e){return setPhone(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"log-in\",type:\"submit\",children:\" Log In \"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn submits sign-up\",children:[/*#__PURE__*/_jsx(Link,{className:\"defaultLink\",to:\"/Register\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-user-plus\",\"aria-hidden\":\"true\"})]})}),Error]})})});/*</div>\r\n      <div className='LogInPage'>\r\n            <form onSubmit={handleSubmit} className='logInBorder'>\r\n              <input className='phone_and_name' type='text' placeholder=\"Username\" onChange={(e)=> setUserName(e.target.value)}/> \r\n              <input placeholder=\"phone/password\" className='phone_and_name' type='text' onChange={(e)=> setPhone(e.target.value)}/>  \r\n              <button className='submit_button' type='submit'> Login</button> \r\n              <button  className='submit_button'> <Link className='defaultLink' to={`/Register`}>Register</Link></button>\r\n              {Error}\r\n               \r\n            </form>  \r\n            </div>*/}","map":{"version":3,"sources":["C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/login.js"],"names":["React","useState","axios","Link","useHistory","LogIn","props","phone","setPhone","UserName","setUserName","Error","setError","history","handleSubmit","e","preventDefault","obj","name","post","response","data","sessionStorage","token","User","_id","CanLogIn","push","target","value"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport '../css/login.css'\r\nimport axios from 'axios'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport 'font-awesome/css/font-awesome.min.css';\r\n\r\n\r\n\r\n\r\nexport default function LogIn(props) {\r\n\r\n    const [phone,setPhone] = useState('');\r\n    const [UserName,setUserName] = useState('');\r\n\r\n    const [Error,setError] = useState('')\r\n    const history=useHistory();\r\n\r\n\r\n\r\n    /*get user information and token from DB*/\r\n    async function handleSubmit(e)\r\n    {\r\n        setError('')\r\n        e.preventDefault()\r\n        let obj = {name: UserName,phone: phone}\r\n        let response = await axios.post(\"https://messagesapp1.herokuapp.com/api/logIn\",obj)\r\n\r\n        if(response.data !== \"not found\")\r\n        {\r\n           sessionStorage['config']= response.data.token \r\n           sessionStorage['id'] = response.data.User._id\r\n           sessionStorage['name'] = response.data.User.name\r\n           props.CanLogIn(response.data.User._id)\r\n\r\n           history.push('/App')\r\n        }\r\n        \r\n        else\r\n           setError(\"One or more of your identification details is incorrect.\")\r\n    }\r\n\r\n \r\n\r\n    return (\r\n       \r\n        <div class=\"overlay\">\r\n        \r\n          <form className='login_form' onSubmit={handleSubmit}>\r\n            <div class=\"con\">\r\n              <header class=\"head-form\">\r\n                <h2>Log In</h2>\r\n                <p>welcome to  my whatsApp</p>\r\n              </header>\r\n            <div class=\"field-set\">\r\n              <span class=\"input-item\">\r\n                <i class=\"fa fa-user-circle\"></i>\r\n              \r\n              <input class=\"form-input\" id=\"txt-input\" type=\"text\" placeholder=\"@UserName\" onChange={(e)=> setUserName(e.target.value)} required />\r\n\r\n              </span>\r\n              <span class=\"input-item\">\r\n              <i class=\"fa fa-key\"></i>\r\n            \r\n              <input class=\"form-input\" type=\"password\" placeholder=\"Password\" id=\"pwd\"  name=\"password\" onChange={(e)=> setPhone(e.target.value)} required/>\r\n              </span>\r\n              <button className=\"log-in\" type='submit'> Log In </button>\r\n             </div>\r\n\r\n             <div>\r\n  \r\n            <button className=\"btn submits sign-up\"><Link className='defaultLink' to={`/Register`}>Sign Up</Link>\r\n            <i class=\"fa fa-user-plus\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            </div>\r\n           {Error}\r\n          </div>\r\n  \r\n</form>\r\n</div>\r\n\r\n        \r\n      \r\n    )\r\n\r\n    /*</div>\r\n      <div className='LogInPage'>\r\n            <form onSubmit={handleSubmit} className='logInBorder'>\r\n              <input className='phone_and_name' type='text' placeholder=\"Username\" onChange={(e)=> setUserName(e.target.value)}/> \r\n              <input placeholder=\"phone/password\" className='phone_and_name' type='text' onChange={(e)=> setPhone(e.target.value)}/>  \r\n              <button className='submit_button' type='submit'> Login</button> \r\n              <button  className='submit_button'> <Link className='defaultLink' to={`/Register`}>Register</Link></button>\r\n              {Error}\r\n               \r\n            </form>  \r\n            </div>*/\r\n}\r\n"]},"metadata":{},"sourceType":"module"}