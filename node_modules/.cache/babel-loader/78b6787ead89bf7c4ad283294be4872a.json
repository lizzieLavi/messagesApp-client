{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/OneDrive/Desktop/whatsapp/myclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/User/OneDrive/Desktop/whatsapp/myclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useUser}from'../contexts/userprovider';import{useConversations}from'../contexts/conversationsprovider';import{Button,Avatar,IconButton}from'@material-ui/core';import AddAPhotoIcon from'@material-ui/icons/AddAPhoto';import PeopleAltIcon from'@material-ui/icons/PeopleAlt';import ArrowBackIcon from'@material-ui/icons/ArrowBack';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateNewGroup(_ref){var closeModal=_ref.closeModal;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedContactsId=_useState2[0],setSelectedContactsId=_useState2[1];var _useUser=useUser(),contacts=_useUser.contacts;var _useConversations=useConversations(),createConversation=_useConversations.createConversation,setCreateGroupFlag=_useConversations.setCreateGroupFlag;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),groupName=_useState4[0],setGroupName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),groupImage=_useState6[0],setGroupImage=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),previewImage=_useState8[0],setPreviewImage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),goToParticipants=_useState10[0],setGoToParticipants=_useState10[1];function createGroup(){setCreateGroupFlag(false);createConversation(selectedContactsId,groupName,groupImage);closeModal();}function handleCheckboxChange(contactId){if(selectedContactsId.includes(contactId)){setSelectedContactsId(function(prevSelectedContactsId){return prevSelectedContactsId.filter(function(id){return id!==contactId;});});}else{setSelectedContactsId(function(prevSelectedContactsId){return[].concat(_toConsumableArray(prevSelectedContactsId),[contactId]);});}}function handleFileUpload(e){setGroupImage(e.target.files[0]);setPreviewImage(window.URL.createObjectURL(e.target.files[0]));}return/*#__PURE__*/_jsx(\"div\",{className:\"add_new\",children:/*#__PURE__*/_jsx(\"div\",{className:\"add_new_group_border\",children:/*#__PURE__*/_jsx(\"div\",{className:\"new_conversation new_group\",children:goToParticipants!==true?/*#__PURE__*/_jsxs(\"div\",{className:\"top_new_group\",children:[previewImage?/*#__PURE__*/_jsxs(\"div\",{className:\"change_group_image\",children:[/*#__PURE__*/_jsx(Avatar,{src:previewImage,style:{height:'110px',width:'110px',backgroundColor:'gray',margin:'15px'},children:\" \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"change_image_on_hover\",style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'},children:[/*#__PURE__*/_jsx(PeopleAltIcon,{style:{position:'absolute',zIndex:'0',opacity:'0.1',height:'80px',width:'80px'}}),/*#__PURE__*/_jsx(AddAPhotoIcon,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/_jsx(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px'},children:\"Change Image \"})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"add_group_image\",children:/*#__PURE__*/_jsxs(Avatar,{style:{height:'110px',width:'110px',backgroundColor:'gray',margin:'15px'},children:[/*#__PURE__*/_jsx(PeopleAltIcon,{style:{position:'absolute',zIndex:'0',opacity:'0.1',height:'80px',width:'80px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'},children:[/*#__PURE__*/_jsx(AddAPhotoIcon,{style:{height:'30px',width:'30px',color:'white'}}),/*#__PURE__*/_jsx(\"input\",{accept:\"image/*\",id:\"file\",type:\"file\",name:\"file\",onChange:handleFileUpload}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px'},children:\"add group image\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"group_name\",children:[/*#__PURE__*/_jsx(\"span\",{style:{padding:'5px',margin:'5px',fontSize:'13px',color:'#fcfcfc'},children:\" Group Name:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setGroupName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"button\",{style:{display:'flex',alignItems:'center',width:'180px',justifyContent:'center'},className:\"add_new_button\",onClick:function onClick(){return setGoToParticipants(true);},children:[/*#__PURE__*/_jsx(ArrowBackIcon,{style:{margin:'5px'}}),\" Add Members\"]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"add_contact_title\",children:\" choose Members :\"}),/*#__PURE__*/_jsx(\"div\",{style:{overflowY:'overlay',height:'200px'},children:contacts.map(function(contact){return/*#__PURE__*/_jsxs(\"div\",{className:\"contactItem\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:selectedContactsId.includes(contact.id),id:contact.name,style:{marginRight:'10px'},onChange:function onChange(){return handleCheckboxChange(contact.id);}}),/*#__PURE__*/_jsx(Avatar,{src:process.env.PUBLIC_URL+contact.imageName,fontSize:\"large\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contactInfo\",children:[\" \",/*#__PURE__*/_jsxs(\"h2\",{style:{fontWeight:'400'},children:[contact.name,\" \"]}),\" \"]})]});})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"button\",{className:\"add_new_button\",type:\"submit\",onClick:function onClick(){return createGroup();},children:\"Create\"})})]})})})});}export default CreateNewGroup;","map":{"version":3,"sources":["C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/components/createnewgroup.js"],"names":["React","useState","useUser","useConversations","Button","Avatar","IconButton","AddAPhotoIcon","PeopleAltIcon","ArrowBackIcon","CreateNewGroup","closeModal","selectedContactsId","setSelectedContactsId","contacts","createConversation","setCreateGroupFlag","groupName","setGroupName","groupImage","setGroupImage","previewImage","setPreviewImage","goToParticipants","setGoToParticipants","createGroup","handleCheckboxChange","contactId","includes","prevSelectedContactsId","filter","id","handleFileUpload","e","target","files","window","URL","createObjectURL","height","width","backgroundColor","margin","display","flexDirection","alignItems","position","zIndex","color","opacity","fontSize","padding","value","justifyContent","overflowY","map","contact","name","marginRight","process","env","PUBLIC_URL","imageName","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useUser } from '../contexts/userprovider'\r\nimport { useConversations } from '../contexts/conversationsprovider'\r\nimport {Button,Avatar,IconButton} from '@material-ui/core';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nfunction CreateNewGroup( { closeModal }) {\r\n\r\n    const [selectedContactsId, setSelectedContactsId] = useState([])\r\n    const { contacts } = useUser()\r\n    const { createConversation,setCreateGroupFlag } = useConversations()\r\n    const [groupName,setGroupName] =useState('')\r\n    const [groupImage,setGroupImage] =useState()\r\n    const [previewImage,setPreviewImage]=useState()\r\n    const [goToParticipants,setGoToParticipants] = useState(false)\r\n\r\n    function createGroup()\r\n    {\r\n        setCreateGroupFlag(false)\r\n        createConversation(selectedContactsId,groupName,groupImage)\r\n        closeModal()\r\n    }\r\n\r\n    function handleCheckboxChange(contactId) \r\n    {\r\n        if(selectedContactsId.includes(contactId))\r\n        {\r\n            setSelectedContactsId(prevSelectedContactsId =>\r\n            {\r\n                return (prevSelectedContactsId.filter(id=> id!==contactId))\r\n            } )\r\n        }\r\n  \r\n        else\r\n        {\r\n           setSelectedContactsId(prevSelectedContactsId=>\r\n            {\r\n              return [...prevSelectedContactsId,contactId]\r\n            })\r\n        }   \r\n    }\r\n\r\n    function handleFileUpload(e) {\r\n        setGroupImage(e.target.files[0])\r\n        setPreviewImage(window.URL.createObjectURL(e.target.files[0]))\r\n      }\r\n\r\n\r\n    return (\r\n        <div className='add_new'>\r\n        <div className='add_new_group_border'>\r\n        <div className='new_conversation new_group'>\r\n\r\n      {goToParticipants !==true ?\r\n         <div className='top_new_group'>\r\n\r\n          {previewImage?  \r\n\r\n             <div className='change_group_image'> \r\n            <Avatar  src={previewImage} style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px'}}> </Avatar>\r\n            <div className='change_image_on_hover' style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'}}>\r\n            <PeopleAltIcon style={{position:'absolute',zIndex:'0', opacity:'0.1',height: '80px', width: '80px' }}/>\r\n          \r\n             <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n             <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n            <span style={{fontSize:'10px'}}>Change Image </span>\r\n         \r\n            </div>\r\n            </div>\r\n           \r\n            :\r\n          <div className='add_group_image'>\r\n          <Avatar   style={{height: '110px', width: '110px' ,backgroundColor:'gray' ,margin:'15px'}}>\r\n           < PeopleAltIcon style={{position:'absolute',zIndex:'0', opacity:'0.1',height: '80px', width: '80px' }}/>\r\n            <div  style={{display:'flex',flexDirection:'column',alignItems:'center',position:'absolute',zIndex:'1',color:'white'}}>\r\n             <AddAPhotoIcon  style={{height: '30px', width: '30px' ,color:'white'}}/>\r\n             <input accept=\"image/*\" id=\"file\" type=\"file\" name=\"file\" onChange={handleFileUpload}/>\r\n            <span style={{fontSize:'10px'}}>add group image</span>\r\n         \r\n            </div>\r\n            </Avatar>\r\n            </div> }\r\n          <div className='group_name'>\r\n          <span style={{padding:'5px', margin:'5px' , fontSize:'13px', color:'#fcfcfc'}}> Group Name:</span>\r\n          <input onChange={(e)=>setGroupName(e.target.value)}/>\r\n          </div>\r\n          <button style={{display:'flex',alignItems:'center',width:'180px',justifyContent:'center'}} className='add_new_button'  onClick={()=>setGoToParticipants(true)}><ArrowBackIcon style={{margin:'5px'}} /> Add Members</button>\r\n          </div>\r\n          :\r\n          <div >\r\n          <h3 className='add_contact_title'> choose Members :</h3>\r\n          <div style={{overflowY:'overlay',height:'200px'}}>\r\n          {contacts.map(contact =>\r\n            {\r\n            return(\r\n\r\n                <div className='contactItem' >\r\n                 <input\r\n                type=\"checkbox\"\r\n                value={selectedContactsId.includes(contact.id)}\r\n                id={contact.name}\r\n                style={{marginRight:'10px'}}\r\n                onChange={() => handleCheckboxChange(contact.id)}/>\r\n                   <Avatar  src={process.env.PUBLIC_URL + contact.imageName}   fontSize='large'/>\r\n                   <div className='contactInfo'> <h2 style={{fontWeight:'400'}}>{contact.name} </h2> </div>\r\n                </div>\r\n            )}) }  \r\n            </div>\r\n            <div style={{display:'flex' , justifyContent:'center'}}>\r\n             <button className='add_new_button'  type=\"submit\" onClick={()=>createGroup()}>Create</button>\r\n             </div>\r\n\r\n             </div>}\r\n\r\n         \r\n\r\n        \r\n\r\n\r\n          \r\n\r\n            \r\n            \r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateNewGroup\r\n"]},"metadata":{},"sourceType":"module"}