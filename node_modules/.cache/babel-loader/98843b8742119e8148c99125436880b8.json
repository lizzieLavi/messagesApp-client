{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\whatsapp\\\\myclient\\\\src\\\\contexts\\\\socketprovider.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useContext, useRef, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SocketContext = /*#__PURE__*/React.createContext();\nexport function useSocket() {\n  _s();\n\n  return useContext(SocketContext);\n}\n\n_s(useSocket, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport function SocketProvider({\n  userId,\n  children\n}) {\n  _s2();\n\n  const socket = useRef();\n  const [ConnectedUsers, setConnectedUsers] = useState([]);\n  useEffect(() => {\n    socket.current = io(\"ws://localhost:5000\");\n  }, []);\n  useEffect(() => {\n    socket.current.emit(\"AddUser\", sessionStorage['id']);\n    socket.current.on(\"getConnectedUsers\", users => {\n      setConnectedUsers(users);\n    });\n  }, [userId]);\n  return /*#__PURE__*/_jsxDEV(SocketContext.Provider, {\n    value: (socket, ConnectedUsers),\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(SocketProvider, \"h7/nhGhkBWbq9QQttHQA44bay84=\");\n\n_c = SocketProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"SocketProvider\");","map":{"version":3,"sources":["C:/Users/User/OneDrive/Desktop/whatsapp/myclient/src/contexts/socketprovider.js"],"names":["React","useState","useContext","useRef","useEffect","io","SocketContext","createContext","useSocket","SocketProvider","userId","children","socket","ConnectedUsers","setConnectedUsers","current","emit","sessionStorage","on","users"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,UAAzB,EAAoCC,MAApC,EAA2CC,SAA3C,QAA2D,OAA3D;AACA,OAAOC,EAAP,MAAe,kBAAf;;AAEA,MAAMC,aAAa,gBAAGN,KAAK,CAACO,aAAN,EAAtB;AAEA,OAAO,SAASC,SAAT,GAAqB;AAAA;;AAC1B,SAAON,UAAU,CAACI,aAAD,CAAjB;AACD;;GAFeE,S;;AAIhB,OAAO,SAASC,cAAT,CAAwB;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAxB,EAA8C;AAAA;;AACnD,QAAMC,MAAM,GAAGT,MAAM,EAArB;AACA,QAAM,CAACU,cAAD,EAAgBC,iBAAhB,IAAoCb,QAAQ,CAAC,EAAD,CAAlD;AAGAG,EAAAA,SAAS,CAAC,MACV;AACEQ,IAAAA,MAAM,CAACG,OAAP,GAAiBV,EAAE,CAAC,qBAAD,CAAnB;AAED,GAJQ,EAIP,EAJO,CAAT;AAMFD,EAAAA,SAAS,CAAC,MACV;AACEQ,IAAAA,MAAM,CAACG,OAAP,CAAeC,IAAf,CAAoB,SAApB,EAA8BC,cAAc,CAAC,IAAD,CAA5C;AACAL,IAAAA,MAAM,CAACG,OAAP,CAAeG,EAAf,CAAkB,mBAAlB,EAAuCC,KAAK,IAC5C;AACEL,MAAAA,iBAAiB,CAACK,KAAD,CAAjB;AACD,KAHD;AAID,GAPQ,EAOP,CAACT,MAAD,CAPO,CAAT;AASE,sBACE,QAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,GAAEE,MAAM,EAACC,cAAT,CAA7B;AAAA,cACGF;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;IAzBeF,c;;KAAAA,c","sourcesContent":["import React, { useState,useContext,useRef,useEffect} from 'react'\r\nimport io from 'socket.io-client'\r\n\r\nconst SocketContext = React.createContext()\r\n\r\nexport function useSocket() {\r\n  return useContext(SocketContext)\r\n}\r\n\r\nexport function SocketProvider({ userId, children }) {\r\n  const socket = useRef()\r\n  const [ConnectedUsers,setConnectedUsers] =useState([])\r\n\r\n\r\n  useEffect(()=>\r\n  {\r\n    socket.current = io(\"ws://localhost:5000\");\r\n\r\n  },[])\r\n\r\nuseEffect(()=>\r\n{\r\n  socket.current.emit(\"AddUser\",sessionStorage['id'])\r\n  socket.current.on(\"getConnectedUsers\", users =>\r\n  {\r\n    setConnectedUsers(users)\r\n  })\r\n},[userId])\r\n\r\n  return (\r\n    <SocketContext.Provider value={socket,ConnectedUsers}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}