(this.webpackJsonpmyclient=this.webpackJsonpmyclient||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},136:function(e,t,n){},160:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(16),r=n.n(c),i=n(3),o=(n(136),n(4)),l=n.n(o),d=n(6),u=(n(79),n(12)),j=n.n(u),p=n(10),b=n(41),m=(n(89),n(0));function h(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),u=o[0],h=o[1],x=Object(a.useState)(""),f=Object(i.a)(x,2),O=f[0],g=f[1],v=Object(p.g)();function _(){return(_=Object(d.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(""),n.preventDefault(),a={name:u,phone:s},t.next=5,j.a.post("https://messagesapp1.herokuapp.com/api/logIn",a);case 5:"not found"!==(c=t.sent).data?(sessionStorage.config=c.data.token,sessionStorage.id=c.data.User._id,sessionStorage.name=c.data.User.name,e.CanLogIn(c.data.User._id),v.push("/App")):g("One or more of your identification details is incorrect.");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(m.jsx)("div",{class:"overlay",children:Object(m.jsx)("form",{className:"login_form",onSubmit:function(e){return _.apply(this,arguments)},children:Object(m.jsxs)("div",{class:"con",children:[Object(m.jsxs)("header",{class:"head-form",children:[Object(m.jsx)("h2",{children:"Log In"}),Object(m.jsx)("p",{children:"welcome to  my whatsApp"})]}),Object(m.jsxs)("div",{class:"field-set",children:[Object(m.jsxs)("span",{class:"input-item",children:[Object(m.jsx)("i",{class:"fa fa-user-circle"}),Object(m.jsx)("input",{class:"form-input",id:"txt-input",type:"text",placeholder:"@UserName",onChange:function(e){return h(e.target.value)},required:!0})]}),Object(m.jsxs)("span",{class:"input-item",children:[Object(m.jsx)("i",{class:"fa fa-key"}),Object(m.jsx)("input",{class:"form-input",type:"password",placeholder:"Password",id:"pwd",name:"password",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(m.jsx)("button",{className:"log-in",type:"submit",children:" Log In "})]}),Object(m.jsx)("div",{children:Object(m.jsxs)(b.b,{className:"submits sign-up defaultLink",to:"/Register",children:["     Sign Up",Object(m.jsx)("i",{style:{margin:"7px"},class:"fa fa-user-plus","aria-hidden":"true"})]})}),O]})})})}n(160),n(91);var x=n(115),f=n.n(x),O=n(118),g=n.n(O),v=n(220),_=n(216),y=n(215),N=n(219),S=n(116),C=n.n(S),w=n(117),k=n.n(w),I=n(25),L=n(7),M=s.a.createContext();function R(){return Object(a.useContext)(M)}function z(e){var t=e.children,n=Object(a.useState)([]),s=Object(i.a)(n,2),c=s[0],r=s[1],o=Object(a.useState)({}),u=Object(i.a)(o,2),p=u[0],b=u[1],h={headers:{"x-access-token":sessionStorage.config}};function x(){return f.apply(this,arguments)}function f(){return(f=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://messagesapp1.herokuapp.com/api/logIn/"+sessionStorage.id,h);case 2:return t=e.sent,b({id:t.data._id,name:t.data.name,phone:t.data.phone,imageName:t.data.imageName,LastSeen:t.data.LastSeen}),e.abrupt("return",t.data.contacts);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x().then((function(e){return r(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]);var O=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==p.name){e.next=2;break}return e.abrupt("return",{status:"error",message:"cant Add yourself"});case 2:if(0===c.filter((function(e){return e.name===t})).length){e.next=5;break}return e.abrupt("return",{status:"error",message:"already exists"});case 5:return e.prev=5,e.next=8,j.a.get("https://messagesapp1.herokuapp.com/api/logIn/getByName/"+t,h);case 8:if("no such user"===(n=e.sent).data){e.next=24;break}return a={id:n.data._id,phone:n.data.phone,name:n.data.name,imageName:n.data.imageName},s=[].concat(Object(I.a)(c),[a]),r(s),i=Object(L.a)(Object(L.a)({},p),{},{contacts:s}),e.prev=14,e.next=17,j.a.put("https://messagesapp1.herokuapp.com/api/logIn/"+sessionStorage.id,i,{headers:{"x-access-token":sessionStorage.config}});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),console.log(e.t0);case 22:e.next=25;break;case 24:return e.abrupt("return",{status:"error",message:"user doesnt exist"});case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(5),console.log(e.t1);case 30:return e.abrupt("return",{status:"ok"});case 31:case"end":return e.stop()}}),e,null,[[5,27],[14,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(M.Provider,{value:{setContacts:r,setInfo:b,info:p,config:h,contacts:c,createContact:O,getSearchContacts:function(e){x().then((function(t){var n=t.filter((function(t){return!0===t.name.includes(e)}));r(n)}))}},children:t})}var U=n(111),D=n.n(U),P=s.a.createContext();function G(){return Object(a.useContext)(P)}function A(e){var t=e.userId,n=e.children,s=Object(a.useRef)(),c=Object(a.useState)([]),r=Object(i.a)(c,2),o=r[0],u=r[1];return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.current=D()("wss://messagesapp1.herokuapp.com:443/");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.current.emit("AddUser",sessionStorage.id),s.current.on("getConnectedUsers",(function(e){u(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(m.jsx)(P.Provider,{value:{socket:s,ConnectedUsers:o},children:n})}var E=s.a.createContext();function F(){return Object(a.useContext)(E)}function q(e){e.id;var t=e.children,n=R(),s=n.contacts,c=n.info,r=Object(a.useState)([]),o=Object(i.a)(r,2),u=o[0],p=o[1],b=Object(a.useState)(),h=Object(i.a)(b,2),x=h[0],f=h[1],O=Object(a.useRef)(u),g=Object(a.useRef)(x),v=G(),_=v.socket,y=v.ConnectedUsers,N=Object(a.useState)(""),S=Object(i.a)(N,2),C=S[0],w=S[1],k=Object(a.useState)(""),M=Object(i.a)(k,2),z=M[0],U=M[1],D={headers:{"x-access-token":sessionStorage.config}},P=Object(a.useState)(!1),A=Object(i.a)(P,2),F=A[0],q=A[1],B=Object(a.useState)(!1),T=Object(i.a)(B,2),W=T[0],J=T[1],V=new Audio("https://res.cloudinary.com/dsrgpqnyv/video/upload/v1630680168/juntos-607_qsfc7i.mp3");function Y(){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://messagesapp1.herokuapp.com/api/conversations/UserConversations/"+sessionStorage.id,D);case 3:return t=e.sent,n=t.data.map((function(e){var t=e;return e.Participants.isGroup||e.Name!==sessionStorage.name||(t=Object(L.a)(Object(L.a)({},t),{},{Name:e.Participants[0].name,ConversationImage:e.Participants[0].image})),x&&x._id===t._id&&f(t),t})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function H(){return(H=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y().then((function(e){var n=e.filter((function(e){return!0===e.Name.includes(t)}));p(n)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(d.a)(l.a.mark((function e(t,n,a,r){var i,o,d,b,m,h,x,O,g,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a,o=r,0!==t.length){e.next=4;break}return e.abrupt("return",{status:"error",message:"no participants choosen"});case 4:if(d=null,1!==t.length||o||(d=u.find((function(e){return e.Name===n}))),!d){e.next=10;break}f(d),e.next=42;break;case 10:if((b=t.map((function(e){return s.filter((function(t){return e===t.id}))[0]}))).push({id:c.id,name:c.name,phone:c.phone,imageName:c.imageName,LastSeen:c.LastSeen}),m="",!o){e.next=30;break}return h=new Intl.DateTimeFormat("en",{hc:"h12",year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",timeZone:"Asia/Jerusalem"}).formatToParts(new Date).reduce((function(e,t){return e[t.type]=t.value,e}),Object.create(null)),m="".concat(h.day,"/").concat(h.month,"/").concat(h.year," ").concat(h.hour,":").concat(h.minute),(x=new FormData).append("file",i),x.append("upload_preset","whatsApp_clone"),x.append("cloud_name","dsrgpqnyv"),e.prev=20,e.next=23,j.a.post("https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload",x);case 23:O=e.sent,i=O.data.url,e.next=30;break;case 27:e.prev=27,e.t0=e.catch(20),console.log(e.t0);case 30:return g={Name:n,creatorId:sessionStorage.id,Participants:b,Messages:[],LastMessage:{id:"",sender:"",message:""},ConversationImage:i,isGroup:o,createdDate:m,description:"Add Description"},e.prev=31,console.log(g),e.next=35,j.a.post("https://messagesapp1.herokuapp.com/api/conversations",g,D);case 35:"created"===(v=e.sent).data.status&&(f(v.data.conversation),v.data.conversation.Messages.length>0&&p((function(e){return[].concat(Object(I.a)(e),[v.data.conversation])}))),e.next=42;break;case 39:e.prev=39,e.t1=e.catch(31),console.log(e.t1);case 42:case"end":return e.stop()}}),e,null,[[20,27],[31,39]])})))).apply(this,arguments)}function Q(){return(Q=Object(d.a)(l.a.mark((function e(t){var n,a,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(L.a)({},t),t.LastMessage.message.includes("left")||(a={id:c.id,phone:c.phone,name:c.name,image:c.imageName},s=[].concat(Object(I.a)(t.Participants),[a]),n=Object(L.a)(Object(L.a)({},n),{},{Participants:s})),delete n._id,e.prev=3,e.next=6,j.a.put("https://messagesapp1.herokuapp.com/api/conversations/"+x._id,n,D);case 6:"Updated"===e.sent.data.status&&(r=[],t.LastMessage.message.includes("left")?(console.log(u),r=u.filter((function(e){return e._id!=x._id})),f()):(f(t),u.forEach((function(e){e._id===t._id?r.push(t):r.push(e)}))),t.LastMessage.message.includes("removed")?_.current.emit("user-deleted",x):_.current.emit("conversation-changed",x),p(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=_.current){e.next=2;break}return e.abrupt("return");case 2:_.current.on("user-typing",(function(e){var t=e.user,n=e.conversationId;x&&x._id===n&&w(t.name)})),_.current.on("update-conversation",Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y().then((function(e){return p(e)}));case 1:case"end":return e.stop()}}),e)})))),_.current.on("removed-user",Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y().then((function(e){(p(e),x)&&(0==e.filter((function(e){return e._id===x._id})).length&&J(!0))}));case 1:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x]),Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=10;break}if(x.isGroup){e.next=10;break}if(!y.some((function(e){return e.userId===x.Participants[0].id}))){e.next=6;break}U(""),e.next=10;break;case 6:return e.next=8,j.a.get("https://messagesapp1.herokuapp.com/api/logIn/"+x.Participants[0].id,D);case 8:t=e.sent,U(t.data.LastSeen);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y,x]),Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y().then((function(e){return p(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var X=Object(a.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.UpdatedConv,V.play(),a=!1,s=O.current.map((function(e){if(e._id===n._id){a=!0;var t=Object(L.a)(Object(L.a)({},e),{},{Messages:n.Messages,LastMessage:n.LastMessage});return g.current&&g.current._id===n._id&&f(t),t}return e})),a?p(s):n.isGroup?p((function(e){return[].concat(Object(I.a)(e),[n])})):(c=Object(L.a)(Object(L.a)({},n),{},{Name:n.Participants[0].name,ConversationImage:n.Participants[0].imageName}),p((function(e){return[].concat(Object(I.a)(e),[c])})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]);Object(a.useEffect)((function(){if(null!=_.current)return O.current=u,g.current=x,_.current.on("receive-message",X),function(){return _.current.off("receive-message",X)}}),[u,x]);return Object(m.jsx)(E.Provider,{value:{sendMessage:function(e,t,n,a){var s=new Intl.DateTimeFormat("en",{hc:"h12",year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",timeZone:"Asia/Jerusalem"}).formatToParts(new Date).reduce((function(e,t){return e[t.type]=t.value,e}),Object.create(null)),r="".concat(s.day,"/").concat(s.month,"/").concat(s.year,"  ").concat(s.hour,":").concat(s.minute),i=!1;null!=a&&(i=!0);var o={id:c.id,name:c.name,message:e,timeSent:r,containsImage:t,containsRecord:i,recordURL:a};!0===t&&(o=Object(L.a)(Object(L.a)({},o),{},{imageURL:n}));var l={id:c.id,phone:c.phone,name:c.name,image:c.imageName},d=Object(L.a)(Object(L.a)({},x),{},{Messages:[].concat(Object(I.a)(x.Messages),[o]),LastMessage:o});_.current.emit("send-message",{sender:l,UpdatedConversation:d,conversationId:x._id}),function(e){var t=!1;f(e);var n=u.map((function(n){return n._id===e._id?(t=!0,e):n}));p(t?n:function(t){return[].concat(Object(I.a)(t),[e])})}(d)},conversations:u,createConversation:function(e,t,n,a){return K.apply(this,arguments)},setConversations:p,setSelectedConversation:f,selectedConversation:x,currentConversationIsConnected:z,typingFlag:C,setTypingFlag:w,getSearchConverastions:function(e){return H.apply(this,arguments)},showDetails:F,setShowDetails:q,UpdateConversation:function(e){return Q.apply(this,arguments)},removedFromGroupFlag:W,setRemovedFromGroupFlag:J},children:t})}n(107);function B(){var e=F(),t=e.setSelectedConversation,n=(e.selectedConversation,e.conversations),a=e.setShowDetails;R().info;function s(){return(s=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!1),t(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"Chats",children:Object(m.jsx)("div",{className:"contacts_list",children:n.map((function(e,t){return Object(m.jsxs)("div",{onClick:function(){return function(e){return s.apply(this,arguments)}(e)},className:"ChatsListItem",children:[Object(m.jsx)(v.a,{src:""+e.ConversationImage}),Object(m.jsxs)("div",{className:"chatInfo",children:[Object(m.jsxs)("span",{className:"chatName",children:[Object(m.jsx)("h2",{children:e.Name})," "]}),Object(m.jsxs)("span",{children:[" ",e.LastMessage.message.slice(0,25),"... "]})]})]},t)}))})})}function T(e){var t=e.newConversationCallback,n=e.openModalCallback,a=R().contacts,s=F().createConversation;return Object(m.jsxs)("div",{className:"Chats",children:[Object(m.jsx)("h4",{className:"new_chat_title",children:"Start New Chat:"}),Object(m.jsx)(y.a,{style:{height:"30px",margin:"5px 0px",fontSize:"10px"},onClick:function(){return n()},className:"add_new_Button",children:"Create Group"}),Object(m.jsx)("div",{className:"contacts_list",children:a.map((function(e){return Object(m.jsxs)("div",{className:"ChatsListItem",onClick:function(){return function(e){var n=e.id,a=e.name,c=e.image;s([n],a,c,!1),t()}({id:e.id,name:e.name,image:e.imageName})},children:[Object(m.jsx)(v.a,{src:e.imageName}),Object(m.jsxs)("div",{className:"chatInfo",children:[" ",Object(m.jsxs)("h2",{children:[e.name," "]})," "]})]})}))})]})}n(108);var W=n(23),J=n.n(W);function V(e){var t=e.closeModal,n=Object(a.useRef)(),s=R().createContact,c=Object(a.useState)(""),r=Object(i.a)(c,2),o=r[0],u=r[1];function j(){return(j=Object(d.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n.current.value);case 2:"ok"===(a=e.sent).status?(t(),u("")):u(a.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"add_new",children:Object(m.jsx)("div",{className:"add_new_contact_border",children:Object(m.jsxs)("div",{className:"add_contact_model",children:[Object(m.jsxs)("div",{className:"title_and_close",children:[Object(m.jsx)("h2",{className:"add_contact_title",children:"Add New Contact"}),Object(m.jsx)(_.a,{className:"close_add_new",onClick:function(){return t()},children:Object(m.jsx)(J.a,{fontSize:"large"})})]}),Object(m.jsxs)("div",{className:"add_new_contact",children:[Object(m.jsx)("h3",{className:"enter_phone",children:"userName:"}),Object(m.jsx)("input",{className:"add_new_input",type:"text",ref:n,required:!0}),Object(m.jsx)("button",{className:"add_new_button",onClick:function(){return j.apply(this,arguments)},children:" Add Contact"})]}),Object(m.jsx)("span",{className:"show_error",children:o})]})})})}var Y=n(66),Z=n.n(Y),H=n(77),K=n.n(H),Q=n(76),X=n.n(Q);var $=function(e){var t=e.closeModal,n=Object(a.useState)([]),s=Object(i.a)(n,2),c=s[0],r=s[1],o=R().contacts,l=F().createConversation,d=Object(a.useState)(""),u=Object(i.a)(d,2),j=u[0],p=u[1],b=Object(a.useState)(),h=Object(i.a)(b,2),x=h[0],f=h[1],O=Object(a.useState)(),g=Object(i.a)(O,2),y=g[0],N=g[1],S=Object(a.useState)(!1),C=Object(i.a)(S,2),w=C[0],k=C[1];function L(e){f(e.target.files[0]),N(window.URL.createObjectURL(e.target.files[0]))}return Object(m.jsx)("div",{className:"add_new",children:Object(m.jsx)("div",{className:"add_new_group_border",children:Object(m.jsx)("div",{className:"new_conversation new_group",children:!0!==w?Object(m.jsxs)("div",{className:"top_new_group",children:[Object(m.jsxs)("div",{style:{flex:"1"},className:"title_and_close",children:[Object(m.jsx)("h2",{className:"add_contact_title",style:{marginLeft:"85px",paddingRight:"0px"},children:"Create New Group:"}),Object(m.jsx)(_.a,{style:{marginLeft:"45px"},className:"close_add_new",onClick:function(){return t()},children:Object(m.jsx)(J.a,{fontSize:"large"})})]}),y?Object(m.jsxs)("div",{className:"change_group_image",children:[Object(m.jsx)(v.a,{src:y,style:{height:"110px",width:"110px",backgroundColor:"gray",margin:"15px",marginTop:"30px"},children:" "}),Object(m.jsxs)("div",{className:"change_image_on_hover",style:{display:"flex",flexDirection:"column",alignItems:"center",position:"absolute",zIndex:"1",color:"white"},children:[Object(m.jsx)(X.a,{style:{position:"absolute",zIndex:"0",opacity:"0.1",height:"80px",width:"80px"}}),Object(m.jsx)(K.a,{style:{height:"30px",width:"30px",color:"white"}}),Object(m.jsx)("input",{accept:"image/*",id:"file",type:"file",name:"file",onChange:L}),Object(m.jsx)("span",{style:{fontSize:"10px"},children:"Change Image "})]})]}):Object(m.jsx)("div",{className:"add_group_image",children:Object(m.jsxs)(v.a,{style:{height:"110px",width:"110px",backgroundColor:"gray",margin:"15px",marginTop:"30px"},children:[Object(m.jsx)(X.a,{style:{position:"absolute",zIndex:"0",opacity:"0.1",height:"80px",width:"80px"}}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",position:"absolute",zIndex:"1",color:"white"},children:[Object(m.jsx)(K.a,{style:{height:"30px",width:"30px",color:"white"}}),Object(m.jsx)("input",{accept:"image/*",id:"file",type:"file",name:"file",onChange:L}),Object(m.jsx)("span",{style:{fontSize:"10px"},children:"add group image"})]})]})}),Object(m.jsxs)("div",{className:"group_name",children:[Object(m.jsx)("span",{style:{padding:"5px",margin:"5px",fontSize:"13px",color:"#fcfcfc"},children:" Group Name:"}),Object(m.jsx)("input",{style:{borderRadius:"10px",border:"none",outline:"none"},onChange:function(e){return p(e.target.value)}})]}),Object(m.jsxs)("button",{style:{display:"flex",alignItems:"center",width:"180px",justifyContent:"center"},className:"add_new_button",onClick:function(){return k(!0)},children:[Object(m.jsx)(Z.a,{style:{margin:"5px"}})," Add Members"]})]}):Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{flex:"1"},className:"title_and_close",children:[Object(m.jsx)("h2",{className:"add_contact_title",style:{marginLeft:"80px",paddingRight:"0px"},children:"Select Members:"}),Object(m.jsx)(_.a,{style:{marginLeft:"40px"},className:"close_add_new",onClick:function(){return t()},children:Object(m.jsx)(J.a,{fontSize:"large"})})]}),Object(m.jsx)("div",{style:{overflowY:"overlay",height:"200px"},children:o.map((function(e){return Object(m.jsxs)("div",{className:"contact_item",children:[Object(m.jsx)("input",{type:"checkbox",value:c.includes(e.id),id:e.id,onChange:function(){return t=e.id,void(c.includes(t)?r((function(e){return e.filter((function(e){return e!==t}))})):r((function(e){return[].concat(Object(I.a)(e),[t])})));var t}}),Object(m.jsxs)("label",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%"},for:e.id,children:[Object(m.jsx)(v.a,{style:{margin:"5px"},src:""+e.imageName,fontSize:"large"}),Object(m.jsxs)("h3",{className:"enter_phone",style:{marginLeft:"10px",fontWeight:"400"},children:[e.name," "]})]})]})}))}),Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(m.jsx)("button",{className:"add_new_button",type:"submit",onClick:function(){return l(c,j,x,!0),void t()},children:"Create"})})]})})})})};function ee(e){e.id;var t=Object(a.useState)("conversations"),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],u=R(),j=u.info,p=u.getSearchContacts,b=Object(a.useState)(!1),h=Object(i.a)(b,2),x=h[0],O=h[1],S=F().getSearchConverastions,w=Object(a.useState)(""),I=Object(i.a)(w,2),L=I[0],M=I[1];function z(){d(!1)}function U(e){d(!0),M(e)}return Object(m.jsxs)("div",{className:"sideBar",children:[Object(m.jsxs)("div",{className:"sidebar_top",children:[Object(m.jsx)(v.a,{src:j.imageName,fontSize:"large"}),Object(m.jsxs)("div",{className:"sidebar_top_right",children:[Object(m.jsx)(_.a,{onClick:function(){return c("conversations")},children:Object(m.jsx)(f.a,{fontSize:"large"})}),Object(m.jsx)(_.a,{fontSize:"large",onClick:function(){return c("contacts")},children:Object(m.jsx)(C.a,{fontSize:"large"})}),Object(m.jsx)(_.a,{children:Object(m.jsx)(k.a,{})})]})]}),x?Object(m.jsxs)("div",{className:"activeSearch",children:[Object(m.jsx)("div",{className:"arrowButton",children:Object(m.jsx)(_.a,{onClick:function(){return O(!1)},children:Object(m.jsx)(Z.a,{fontSize:"large"})})}),Object(m.jsx)("input",{className:"searchBlock",type:"text",onChange:function(e){"conversations"===s?S(e.target.value):p(e.target.value)}})," "]}):Object(m.jsx)("div",{className:"searchBar",children:Object(m.jsxs)("div",{className:"searchContainer",children:[Object(m.jsx)(g.a,{}),Object(m.jsx)("input",{placeholder:"search",type:"text",onClick:function(){return O(!0)}})]})}),"contacts"===s?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"sidebar_middle",children:Object(m.jsx)(y.a,{style:{fontSize:"10px"},onClick:function(){return U("NEW_CONTACT")},className:"add_new_Button",children:"Add New Contact"})}),Object(m.jsx)("div",{className:"sidebar_bottom",children:Object(m.jsx)(T,{newConversationCallback:function(){return c("conversations")},openModalCallback:function(){return U("NEW_GROUP")}})})]}):Object(m.jsx)("div",{className:"sidebar_bottom",children:Object(m.jsx)(B,{})}),Object(m.jsx)(N.a,{className:"Modal",open:l,onClose:z,children:"NEW_GROUP"===L?Object(m.jsx)($,{closeModal:z}):Object(m.jsx)(V,{closeModal:z})})]})}n(109);var te=n(217),ne=n(218),ae=n(56),se=n.n(ae),ce=n(121),re=n.n(ce),ie=n(120),oe=n.n(ie),le=n(55),de=n.n(le),ue=n(54),je=n.n(ue),pe=n(119);var be=function(e){var t=e.sender,n=e.message,s=Object(a.useState)(!1),c=Object(i.a)(s,2),r=c[0],o=c[1],l=Object(a.useState)(null),d=Object(i.a)(l,2),u=d[0],j=d[1];return Object(m.jsx)("div",{className:t,children:Object(m.jsxs)("div",{className:"message",children:[Object(m.jsxs)("div",{className:"image_and_sender",children:[Object(m.jsx)("div",{className:"sender",children:n.name}),n.containsImage?Object(m.jsx)("img",{className:"image_in_message",src:n.imageURL,alt:"",onClick:function(){return e=n.imageURL,o(!0),void j(e);var e},width:"200px",height:"200px"}):""]}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"message_and_time",children:[Object(m.jsx)("div",{className:"message_content",children:n.message}),Object(m.jsx)("div",{className:"message_time_border",children:Object(m.jsx)("div",{className:"message_time",children:n.timeSent.substring(11,17)})})]})}),Object(m.jsx)(ne.a,{onClose:function(){return o(!1)},open:r,children:Object(m.jsx)("img",{src:u,alt:"",height:"500px",width:"500px"})})]})})};n(192);var me=function(e){var t=e.message,n=e.sender,a=e.image,s=n.includes("chat_reciever")?"reciever":"sender";return Object(m.jsx)("div",{className:n,children:Object(m.jsxs)("div",{className:"message_with_audio",children:[Object(m.jsxs)("div",{className:"audio_and_time",children:[Object(m.jsx)("div",{className:s,children:Object(m.jsx)("audio",{controls:!0,controlsList:"nodownload",children:Object(m.jsx)("source",{src:t.recordURL,type:"audio/mp3"})})}),Object(m.jsx)("span",{className:"message_time",children:t.timeSent.substring(11,17)})]}),Object(m.jsx)(v.a,{src:a,style:{height:"50px",width:"50px"}})]})})};var he=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),s=n[0],c=n[1],r=G().socket,o=R().info,u=F(),p=u.sendMessage,b=u.selectedConversation,h=u.removedFromGroupFlag,x=u.setRemovedFromGroupFlag,f=u.setSelectedConversation,O=Object(a.useRef)(null),g=Object(a.useState)(!1),v=Object(i.a)(g,2),y=v[0],N=v[1],S=Object(a.useState)(!1),C=Object(i.a)(S,2),w=C[0],k=C[1],I=Object(pe.useReactMediaRecorder)({audio:!0}),L=I.startRecording,M=I.stopRecording,z=I.mediaBlobUrl,U=I.clearBlobUrl,D=Object(a.useState)(null),P=Object(i.a)(D,2),A=P[0],E=P[1];Object(a.useEffect)((function(){N(!1)}),[b]);var q=Object(a.useCallback)((function(e){e&&e.scrollIntoView({smooth:!0})}),[]);function B(){return(B=Object(d.a)(l.a.mark((function t(n){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("file",n.target.files[0]),a.append("upload_preset","whatsApp_clone"),a.append("cloud_name","dsrgpqnyv"),t.prev=4,t.next=7,j.a.post("https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload",a);case 7:s=t.sent,e.imageCallback(s.data.url),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}function T(){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(),e.next=3,fetch(z);case 3:t=e.sent,E(t.blob());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){M(),U(),k(!1)}return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==A){e.next=25;break}return e.next=3,fetch(z).then((function(e){return e.blob()}));case 3:return t=e.sent,(n=new FormData).append("file",t),n.append("resource_type","video"),n.append("upload_preset","whatsApp_clone"),n.append("cloud_name","dsrgpqnyv"),e.prev=9,e.next=12,j.a.post("https://api.cloudinary.com/v1_1/dsrgpqnyv/video/upload",n);case 12:a=e.sent,c=(c=a.data.url).slice(0,-4),c+="mp3",k(!1),U(),p(s,null,null,c),k(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[9,22]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[A]),Object(m.jsxs)("div",{className:"body_and_footer",children:[Object(m.jsxs)("div",{className:"chat_body",children:[console.log(b),b.Messages.map((function(e,t){var n,a=b.Messages.length-1===t;n="manager"===e.name?"manager":e.id===sessionStorage.id?"message_out":"message_in";var s=e.id===sessionStorage.id?o.imageName:b.ConversationImage,c="message_in"===n?"chat_message chat_sender":" chat_message chat_reciever";return Object(m.jsx)("div",{children:"manager"==n?Object(m.jsx)("div",{className:"around_message",ref:a?q:null,children:Object(m.jsx)("div",{className:"manager_message",children:Object(m.jsx)("span",{className:"message_content",children:e.message})})}):Object(m.jsx)("div",{className:c,ref:a?q:null,children:e.containsRecord?Object(m.jsx)(me,{message:e,sender:n,image:s}):Object(m.jsx)(be,{sender:n,message:e})},t)})}))]}),Object(m.jsxs)("div",{className:"chat_footer_with_stickers",children:[y?Object(m.jsx)(je.a,{onEmojiClick:function(e,t){return function(e,t){c(s+t.emoji)}(0,t)},pickerStyle:{width:"100%"}}):"",Object(m.jsxs)("div",{className:"chat_footer",children:[y?Object(m.jsxs)(_.a,{onClick:function(){return N(!1)},children:[Object(m.jsx)(J.a,{fontSize:"large"})," "]}):"",Object(m.jsx)(_.a,{onClick:function(){return N(!0)},children:Object(m.jsx)(se.a,{fontSize:"large"})}),Object(m.jsx)("input",{accept:"image/*",className:"invisibleInput",id:"icon-button-file",type:"file",style:{visibility:"hidden"},onChange:function(e){return B.apply(this,arguments)}}),Object(m.jsx)("label",{htmlFor:"icon-button-file",children:Object(m.jsx)(_.a,{component:"span",children:Object(m.jsx)(oe.a,{fontSize:"large"})})}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(s,!1,null,null),c(" ")},className:"message_section",children:[Object(m.jsx)("input",{className:"message_input",ref:O,value:s,onChange:function(e){c(e.target.value),null!=r.current&&r.current.emit("typing",{user:o,Conversation:b})},type:"text",placeholder:"type a message"}),Object(m.jsx)("button",{type:"submit",children:" send "})]}),w?Object(m.jsxs)("div",{children:[Object(m.jsx)(_.a,{children:Object(m.jsx)(J.a,{fontSize:"large",style:{color:"red"},onClick:V})}),Object(m.jsx)(_.a,{children:Object(m.jsx)(de.a,{fontSize:"large",style:{color:"green"},onClick:T})})]}):Object(m.jsx)(_.a,{onClick:function(){k(!0),L()},children:Object(m.jsx)(re.a,{fontSize:"large"})})]})]}),Object(m.jsx)(ne.a,{className:"exit_group_dialog",open:h,children:Object(m.jsxs)("div",{style:{padding:"10px"},children:[Object(m.jsx)("h2",{className:"dialog_title",children:" you where removed from this group"}),Object(m.jsx)("div",{className:"dialog_options_buttons",children:Object(m.jsx)("button",{className:"dialog_button",onClick:function(){return x(!1),void f()},children:"ok"})})]})})]})},xe=(n(193),n(122)),fe=n.n(xe);var Oe=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(""),s=Object(i.a)(n,2),c=s[0],r=s[1],o=G().socket,l=R().info,d=F(),u=d.sendMessage,j=d.selectedConversation;function p(t){!0===t&&u(c,!0,e.imageURL),r(" "),e.backToChat()}return Object(m.jsxs)("div",{className:"SendImage",children:[Object(m.jsx)("div",{className:"sendImageHeader"}),Object(m.jsx)(_.a,{type:"submit",onClick:function(){return p(!1)},children:Object(m.jsx)(J.a,{fontSize:"large"})}),Object(m.jsx)("img",{src:e.imageURL,alt:"",height:"300px",width:"300px"}),Object(m.jsx)("div",{className:"add_message",children:Object(m.jsxs)("form",{onSubmit:function(){return p(!0)},className:"message_section",children:[Object(m.jsx)(_.a,{type:"submit",style:{flex:"0.1"},children:Object(m.jsx)(fe.a,{fontSize:"large"})}),Object(m.jsx)("input",{className:"message_input",ref:t,value:c,onChange:function(e){r(e.target.value),null!=o.current&&o.current.emit("typing",{user:l,Conversation:j})},type:"text",placeholder:"type a message"})]})})]})},ge=n(78),ve=n.n(ge),_e=n(123),ye=n.n(_e),Ne=n(124),Se=n.n(Ne);var Ce=function(e){var t=e.closeModal,n=Object(a.useState)([]),s=Object(i.a)(n,2),c=s[0],r=s[1],o=R(),l=o.contacts,d=o.info,u=F(),j=u.UpdateConversation,p=u.selectedConversation,b=Object(a.useState)([]),h=Object(i.a)(b,2),x=h[0],f=h[1];return Object(a.useEffect)((function(){var e=[];console.log(p),p.Participants.forEach((function(t){e.push(t.id)})),console.log(e),f(e)}),[]),Object(m.jsx)("div",{className:"add_new",children:Object(m.jsx)("div",{className:"add_new_group_border",children:Object(m.jsxs)("div",{className:"new_conversation new_group",children:[Object(m.jsxs)("div",{style:{flex:"1"},className:"title_and_close",children:[Object(m.jsx)("h2",{className:"add_contact_title",style:{marginLeft:"80px",paddingRight:"0px"},children:"Select Members:"}),Object(m.jsx)(_.a,{style:{marginLeft:"40px"},className:"close_add_new",onClick:function(){return t()},children:Object(m.jsx)(J.a,{fontSize:"large"})})]}),Object(m.jsx)("div",{style:{overflowY:"overlay",height:"200px"},children:l.map((function(e){if(!x.includes(e.id))return Object(m.jsxs)("div",{className:"contact_item",children:[Object(m.jsx)("input",{type:"checkbox",value:c.includes(e.id),id:e.id,onChange:function(){return t=e.id,void(c.includes(t)?r((function(e){return e.filter((function(e){return e!==t}))})):r((function(e){return[].concat(Object(I.a)(e),[t])})));var t}}),Object(m.jsxs)("label",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%"},for:e.id,children:[Object(m.jsx)(v.a,{style:{margin:"5px"},src:""+e.imageName,fontSize:"large"}),Object(m.jsxs)("h3",{className:"enter_phone",style:{marginLeft:"10px",fontWeight:"400"},children:[e.name," "]})]})]})}))}),Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(m.jsx)("button",{className:"add_new_button",type:"submit",onClick:function(){return function(){var e=[];e=p.Participants;var n=p.Messages;console.log(n);var a="";l.forEach((function(t){c.includes(t.id)&&(console.log(t),e.push(t),a={name:"manager",message:d.name+" added "+t.name+" to the group",timeSent:"",containsImage:!1,containsRecord:!1,recordURL:null},n.push(a),console.log(e))}));var s=Object(L.a)(Object(L.a)({},p),{},{Participants:e,Messages:n,LastMessage:a});j(s),t()}()},children:"Add"})})]})})})},we=Object(te.a)({root:{"&:hover":{backgroundColor:"transparent"}},options:{"&":{color:"transparent"},"&:hover":{color:"gray",backgroundColor:"transparent",fontSize:"15px",position:"relative",zIndex:"2"}}});function ke(){var e=F(),t=e.selectedConversation,n=e.currentConversationIsConnected,s=e.typingFlag,c=e.createConversation,r=e.conversations,o=e.setSelectedConversation,l=e.setTypingFlag,d=e.showDetails,u=e.setShowDetails,j=e.UpdateConversation,p=Object(a.useState)(!1),b=Object(i.a)(p,2),h=b[0],x=b[1],f=Object(a.useState)(!1),O=Object(i.a)(f,2),g=O[0],y=O[1],S=Object(a.useState)(!1),C=Object(i.a)(S,2),w=C[0],k=C[1],I=Object(a.useState)(!1),M=Object(i.a)(I,2),z=M[0],U=M[1],D=Object(a.useState)(!1),P=Object(i.a)(D,2),G=P[0],A=P[1],E=Object(a.useState)(t.Name),q=Object(i.a)(E,2),B=q[0],T=q[1],W=Object(a.useState)(t.description),V=Object(i.a)(W,2),Y=V[0],Z=V[1],H=R().info,K=we(),Q=Object(a.useState)(!1),X=Object(i.a)(Q,2),$=X[0],ee=X[1],te=Object(a.useState)(!1),ae=Object(i.a)(te,2),ce=ae[0],re=ae[1],ie=Object(a.useState)(!1),oe=Object(i.a)(ie,2),le=oe[0],ue=oe[1],pe=Object(a.useState)(),be=Object(i.a)(pe,2),me=be[0],xe=be[1];Object(a.useEffect)((function(){k(!1),U(!1),A(!1)}),[t]);var fe=function(){var e="";return""===n?""!==s?(e=Object(m.jsx)("div",{className:"lastSeen",children:" typing..."}),setTimeout((function(){return l("")}),1e3)):e=Object(m.jsxs)("div",{className:"connected",children:[Object(m.jsx)("div",{className:"circle"})," online "]}):e=Object(m.jsx)("div",{className:"lastSeen",children:n}),e};function ge(){ee(!1)}var _e=Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"chat_header",onClick:function(){return u(!0)},children:[Object(m.jsx)(v.a,{src:t.ConversationImage}),Object(m.jsxs)("div",{className:"chat_header_info",children:[Object(m.jsxs)("h2",{children:[" ",t.Name," "]}),t.isGroup?function(){var e="";if(""!==s)e=Object(m.jsxs)("div",{className:"lastSeen",children:[" ",s," is typing..."]}),setTimeout((function(){return l("")}),1e3);else{var n="";t.Participants.forEach((function(e,a){a===t.Participants.length-1?n+=e.name:n=n+e.name+", "})),e=Object(m.jsxs)("div",{className:"lastSeen",children:[n," "]})}return e}():fe()]})]}),h?Object(m.jsx)(Oe,{imageURL:g,backToChat:function(){y(null),x(!1)}}):Object(m.jsx)(he,{imageCallback:function(e){y(e),x(!0)}})]});return d?Object(m.jsxs)("div",{className:"chat_with_details",children:[Object(m.jsx)("div",{className:"chat narrow_chat",children:_e}),Object(m.jsxs)("div",{className:"chat_details",children:[Object(m.jsxs)("div",{className:"chat_details_top",children:[Object(m.jsx)(_.a,{onClick:function(){return u(!1)},children:Object(m.jsx)(J.a,{fontSize:"large"})}),Object(m.jsx)("h2",{style:{paddingLeft:"10px"},children:t.isGroup?"Group Details:":"Contact Details:"})]}),Object(m.jsxs)("span",{className:"chat_details_body",children:[Object(m.jsxs)("div",{className:"user_info",children:[Object(m.jsx)(v.a,{src:t.ConversationImage,style:{margin:"20px",height:"140px",width:"140px"}}),Object(m.jsxs)("span",{className:"name_and_lastSeen",children:[t.isGroup&&w?Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[G?Object(m.jsx)(je.a,{onEmojiClick:function(e,t){return function(e,t){T(B+t.emoji)}(0,t)},pickerStyle:{width:"100%",height:"200px"}}):"",Object(m.jsxs)("div",{className:"edit_group_name",children:[Object(m.jsx)(_.a,{className:K.root,style:{padding:"3px"},onClick:function(){return function(){var e={name:"manager",message:sessionStorage.name+" changed group name to "+B,timeSent:"",containsImage:!1,containsRecord:!1,recordURL:null},n=t.Messages;n.push(e);var a=Object(L.a)(Object(L.a)({},t),{},{Name:B,Messages:n,LastMasage:e});j(a),k(!1)}()},children:Object(m.jsx)(de.a,{fontSize:"large"})}),Object(m.jsx)(_.a,{className:K.root,style:{padding:"3px"},onClick:function(){return A(!G)},children:Object(m.jsx)(se.a,{fontSize:"large"})}),Object(m.jsx)("input",{defaultValue:B,onChange:function(e){return T(e.target.value)},style:{border:"none",outline:"none",width:"100%",backgroundColor:"transparent",padding:"5px"}})]})]}):Object(m.jsxs)("span",{className:"group_title",children:[Object(m.jsx)("h3",{children:t.Name}),t.isGroup?Object(m.jsx)(_.a,{onClick:function(){return k(!0)},children:Object(m.jsx)(ve.a,{style:{fontSize:"large",marginLeft:"10px"}})}):""]}),Object(m.jsxs)("span",{className:"lastSeen",style:{padding:"10px",paddingLeft:"0px"},children:[" ",t.isGroup?Object(m.jsxs)("span",{children:[" created at:  ",t.createdDate," "]}):fe()]})]})]}),t.isGroup?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"group_details_container",children:[Object(m.jsx)("h2",{className:"group_title",style:{padding:"5px"},children:" Description "}),z?Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[G?Object(m.jsx)(je.a,{onEmojiClick:function(e,t){return function(e,t){Z(Y+t.emoji)}(0,t)},pickerStyle:{width:"100%",height:"200px"}}):"",Object(m.jsxs)("div",{className:"edit_group_name",style:{padding:"5px"},children:[Object(m.jsx)(_.a,{className:K.root,style:{padding:"3px"},onClick:function(){return function(){var e={name:"manager",message:sessionStorage.name+" changed group Description",timeSent:"",containsImage:!1,containsRecord:!1,recordURL:null},n=t.Messages;n.push(e);var a=Object(L.a)(Object(L.a)({},t),{},{description:Y,Messages:n,LastMessage:e});j(a),U(!1)}()},children:Object(m.jsx)(de.a,{fontSize:"large"})}),Object(m.jsx)(_.a,{className:K.root,style:{padding:"3px"},onClick:function(){return A(!G)},children:Object(m.jsx)(se.a,{fontSize:"large"})}),Object(m.jsx)("input",{defaultValue:Y,onChange:function(e){return Z(e.target.value)},style:{border:"none",outline:"none",width:"100%",backgroundColor:"transparent",padding:"5px"}})]})]}):Object(m.jsxs)("div",{className:"group_description_edit",children:[Object(m.jsx)("span",{style:{fontSize:"15px",marginRight:"5px"},children:t.description}),Object(m.jsx)(_.a,{onClick:function(){return U(!0)},children:Object(m.jsx)(ve.a,{style:{fontSize:"large"}})})]})]}),Object(m.jsxs)("div",{className:"group_details_container",children:[Object(m.jsxs)("h2",{className:"group_title",style:{padding:"10px",borderBottom:"1px solid #B0B0B0"},children:[t.Participants.length+1," participants"]}),Object(m.jsx)(N.a,{className:"Modal",open:$,onClose:ge,children:Object(m.jsx)(Ce,{closeModal:ge})}),t.creatorId===sessionStorage.id?Object(m.jsxs)("div",{className:"participant",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){return ee(!0)},children:[Object(m.jsx)(v.a,{children:Object(m.jsx)(_.a,{className:K.root,style:{padding:"3px"},children:Object(m.jsx)(ye.a,{fontSize:"large"})})}),Object(m.jsx)("h3",{className:"group_participant_name",children:"Add Member"})]}):"",t.Participants.map((function(e,n){return Object(m.jsxs)("div",{className:"participant",children:[Object(m.jsxs)("div",{onClick:function(){return function(e){var t=!1;if(r.forEach((function(n){0==n.isGroup&&n.Participants[0].id==e.id&&(t=!0,o(n))})),!t){var n=[];n.push(e.id),c(n,e.name,e.imageName,!1)}}(e)},style:{display:"flex",flexGrow:"1",flexDirection:"row",alignItems:"center",cursor:"pointer"},children:[Object(m.jsx)(v.a,{src:e.imageName}),Object(m.jsxs)("div",{style:{display:"flex",flexGrow:"1",flexDirection:"row",alignItems:"center"},children:[Object(m.jsx)("h3",{className:"group_participant_name",children:e.name}),e.id===t.creatorId?Object(m.jsx)("div",{className:"group_admin",children:Object(m.jsx)("h3",{style:{fontSize:"13px"},children:"Group Manager"})}):""]})]}),sessionStorage.id===t.creatorId?Object(m.jsx)(_.a,{onClick:function(){return function(e){xe(e),ue(!0)}(e)},style:{padding:"3px"},children:Object(m.jsx)(J.a,{fontSize:"medium"})}):""]},n)})),Object(m.jsx)("div",{className:"participant",children:Object(m.jsxs)("div",{style:{display:"flex",flexGrow:"1",flexDirection:"row",alignItems:"center"},children:[Object(m.jsx)(v.a,{src:H.imageName}),Object(m.jsxs)("div",{style:{display:"flex",flexGrow:"1",flexDirection:"row",alignItems:"center"},children:[Object(m.jsx)("h3",{className:"group_participant_name",children:H.name}),sessionStorage.id===t.creatorId?Object(m.jsx)("div",{className:"group_admin",children:Object(m.jsx)("h3",{style:{fontSize:"13px"},children:"Group Manager"})}):""]})]})})]}),Object(m.jsx)("div",{className:"group_details_container leave",onClick:function(){return re(!0)},children:Object(m.jsxs)("div",{className:"leaveGroup",children:[Object(m.jsx)(_.a,{className:K.root,style:{padding:"3px"},children:Object(m.jsx)(Se.a,{style:{color:"darkred"},fontSize:"large"})}),Object(m.jsx)("h3",{className:"group_participant_name",style:{color:"darkRed",fontSize:"17px"},children:"leave Group"})]})})]}):""]})]}),Object(m.jsx)(ne.a,{className:"exit_group_dialog",onClose:function(){return re(!1)},open:ce,children:Object(m.jsxs)("div",{style:{padding:"10px"},children:[Object(m.jsx)("h2",{className:"dialog_title",children:" are you sure you want to leave this group?"}),Object(m.jsxs)("div",{className:"dialog_options_buttons",children:[Object(m.jsx)("button",{className:"dialog_button",onClick:function(){return function(){var e={name:"manager",message:sessionStorage.name+" left the group",timeSent:"",containsImage:!1,containsRecord:!1,recordURL:null},n=t.Messages;n.push(e);var a=Object(L.a)(Object(L.a)({},t),{},{Messages:n,LastMessage:e});j(a),re(!1)}()},children:"yes"}),Object(m.jsx)("button",{className:"dialog_button",onClick:function(){return re(!1)},children:"no"})]})]})}),Object(m.jsx)(ne.a,{className:"exit_group_dialog",onClose:function(){return ue(!1)},open:le,children:Object(m.jsxs)("div",{style:{padding:"10px"},children:[Object(m.jsx)("h2",{className:"dialog_title",children:" are you sure you want to delete this user?"}),Object(m.jsxs)("div",{className:"dialog_options_buttons",children:[Object(m.jsx)("button",{className:"dialog_button",onClick:function(){return function(){var e=t.Messages,n={name:"manager",message:sessionStorage.name+" removed "+me.name+" from the group ",timeSent:"",containsImage:!1,containsRecord:!1,recordURL:null};e.push(n);var a=t.Participants.filter((function(e){return e.id!=me.id})),s=Object(L.a)(Object(L.a)({},t),{},{Participants:a,Messages:e,LastMessage:n});j(s),xe(),ue(!1)}()},children:"yes"}),Object(m.jsx)("button",{className:"dialog_button",onClick:function(){return ue(!1)},children:"no"})]})]})})]}):Object(m.jsx)("div",{className:"chat",children:_e})}var Ie=Object(p.h)((function(e){var t=e.id,n=F().selectedConversation;return Object(m.jsx)("div",{className:"dashboard",children:Object(m.jsxs)("div",{className:"dashboard_body",children:[Object(m.jsx)(ee,{id:t}),void 0!==n?Object(m.jsx)(ke,{id:t}):""]})})}));var Le=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),u=o[0],h=o[1],x=Object(a.useState)(null),f=Object(i.a)(x,2),O=f[0],g=f[1],v=Object(p.g)(),_=Object(a.useState)(""),y=Object(i.a)(_,2),N=y[0],S=y[1];function C(){return(C=Object(d.a)(l.a.mark((function t(n){var a,c,r,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a="",!O){t.next=17;break}return(c=new FormData).append("file",O),c.append("upload_preset","whatsApp_clone"),c.append("cloud_name","dsrgpqnyv"),t.prev=7,t.next=10,j.a.post("https://api.cloudinary.com/v1_1/dsrgpqnyv/image/upload",c);case 10:r=t.sent,a=r.data.url,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),console.log(t.t0);case 17:return i={name:u,phone:s,imageName:a,contacts:[],LastSeen:"last seen at..."},t.prev=18,t.next=21,j.a.post("https://messagesapp1.herokuapp.com/api/logIn/Register",i);case 21:"error"===(o=t.sent).data.status?S(o.data.message):(sessionStorage.config=o.data.token,sessionStorage.id=o.data.User._id,sessionStorage.name=o.data.User.name,e.CanLogIn(o.data.User._id),v.push("/App")),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(18),console.log(t.t1);case 28:case"end":return t.stop()}}),t,null,[[7,14],[18,25]])})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"overlay",children:Object(m.jsx)("form",{className:"login_form",onSubmit:function(e){return C.apply(this,arguments)},children:Object(m.jsxs)("div",{className:"con",children:[Object(m.jsxs)("header",{className:"head-form",children:[Object(m.jsx)("h2",{children:"Register"}),Object(m.jsx)("p",{children:"welcome to  my whatsApp"})]}),Object(m.jsxs)("div",{className:"field-set",children:[Object(m.jsxs)("span",{className:"input-item",children:[Object(m.jsx)("i",{class:"fa fa-user-circle"}),Object(m.jsx)("input",{className:"form-input",id:"txt-input",type:"text",placeholder:"@UserName",onChange:function(e){return h(e.target.value)},required:!0})]}),Object(m.jsxs)("span",{className:"input-item",children:[Object(m.jsx)("i",{class:"fa fa-key"}),Object(m.jsx)("input",{className:"form-input",type:"password",placeholder:"Password",id:"pwd",name:"password",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(m.jsx)("div",{id:"fileupload",children:Object(m.jsx)("div",{className:"myfileupload-buttonbar ",children:Object(m.jsxs)("label",{className:"myui-button",children:[Object(m.jsx)("i",{class:"fa fa-upload","aria-hidden":"true"}),Object(m.jsx)("span",{className:"text",children:"Add Picture"}),Object(m.jsx)("input",{id:"file",type:"file",name:"file",onChange:function(e){g(e.target.files[0])}})]})})}),Object(m.jsx)("button",{className:"log-in",type:"submit",children:" Register "})]}),Object(m.jsx)("div",{children:Object(m.jsxs)(b.b,{className:"submits sign-up defaultLink",to:"/",children:["    ",Object(m.jsx)("i",{style:{margin:"7px"},class:"fa fa-user-plus","aria-hidden":"true"}),"back to Log In"]})}),Object(m.jsx)("span",{style:{fontSize:"15px"},children:N})]})})})};var Me=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(m.jsx)(A,{userId:n,children:Object(m.jsx)(z,{id:n,children:Object(m.jsx)(q,{children:Object(m.jsx)(Ie,{id:n})})})});return Object(m.jsx)(b.a,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(p.d,{children:[sessionStorage.id,Object(m.jsxs)(p.b,{exact:!0,path:"/",children:[" ",Object(m.jsx)(h,{CanLogIn:s})]}),Object(m.jsxs)(p.b,{path:"/Register",children:[" ",Object(m.jsx)(Le,{CanLogIn:s})]}),sessionStorage.id?Object(m.jsxs)(p.b,{exact:!0,path:"/App",children:[" ",c," "]}):Object(m.jsx)(p.a,{to:"/"})]})})})};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(Me,{})}),document.getElementById("root"))},79:function(e,t,n){},91:function(e,t,n){}},[[194,1,2]]]);
//# sourceMappingURL=main.a7c9a26d.chunk.js.map